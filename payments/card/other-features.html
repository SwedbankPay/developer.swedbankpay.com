


<!DOCTYPE html>
<html lang="en-US">

    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="theme-color" content="#000">
        <meta name="application-name" content="Swedbank Pay Card Payments – Other Features">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <meta name="apple-mobile-web-app-title"
            content="Swedbank Pay Card Payments – Other Features">
        <meta name="msapplication-TileColor" content="#000">
        <meta name="msapplication-TileImage" content="https://design.swedbankpay.com/v/4.5.0/icons/mstile-144x144.png">
        <meta property="og:type" value="website" />
        
        <meta property="og:url" value="/payments/card/other-features.html" />
        <meta property="og:title" value="Swedbank Pay Card Payments – Other Features" />
        <meta name="title" content="Swedbank Pay Card Payments – Other Features" />
        
        <meta property="og:description" value="Swedbank Pay Developer Portal" />
        <meta name="description" content="Swedbank Pay Developer Portal" />
        
        <meta property="og:image" value="/assets/img/swedbank-pay-developer-portal.png" />
        <title>Swedbank Pay Card Payments – Other Features</title>
        <link rel="stylesheet" href="https://design.swedbankpay.com/v/4.5.0/styles/dg-style.css" />
        <link rel="stylesheet" href="/assets/css/swedbank-pay-design-guide-theme.css" />
        <link rel="stylesheet" href="/assets/css/pygments-autumn.css" />
        <link rel="shortcut icon" href="https://design.swedbankpay.com/v/4.5.0/icons/favicon.ico">
        <link rel="icon" type="image/png" sizes="16x16" href="https://design.swedbankpay.com/v/4.5.0/icons/favicon-16x16.png">
        <link rel="icon" type="image/png" sizes="32x32" href="https://design.swedbankpay.com/v/4.5.0/icons/favicon-32x32.png">
        <link rel="apple-touch-icon" sizes="57x57"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="60x60"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-icon-60x60.png">
        <link rel="apple-touch-icon" sizes="72x72"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="76x76"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="114x114"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="120x120"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="144x144"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="152x152"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-icon-152x152.png">
        <link rel="apple-touch-icon" sizes="167x167"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-icon-167x167.png">
        <link rel="apple-touch-icon" sizes="180x180"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-icon-180x180.png">
        <link rel="apple-touch-icon" sizes="1024x1024"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-icon-1024x1024.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 1)"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-startup-image-320x460.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 2)"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-startup-image-640x920.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-startup-image-640x1096.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-startup-image-750x1294.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 414px) and (device-height: 736px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 3)"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-startup-image-1182x2208.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 414px) and (device-height: 736px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 3)"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-startup-image-1242x2148.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 1)"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-startup-image-748x1024.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 1)"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-startup-image-768x1004.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 2)"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-startup-image-1496x2048.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 2)"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-startup-image-1536x2008.png">
        <link rel="icon" type="image/png" sizes="228x228" href="https://design.swedbankpay.com/v/4.5.0/icons/coast-228x228.png">
        <script src="/assets/js/mermaid.min.js"></script>
        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script src="/assets/tipuesearch/tipuesearch_content.js"></script>
        <script src="/assets/tipuesearch/tipuesearch_set.js"></script>
        <script src="/assets/tipuesearch/tipuesearch.min.js"></script>
        
    </head>

    <body>
        <div id="designguide">
            <header class="topbar topbar-md-wide designguide-header">
                <button type="button" class="topbar-btn"><i class="material-icons topbar-btn-icon">menu</i></button>
                <a href="" class="topbar-logo"><img
                        src="https://design.swedbankpay.com/v/4.5.0/img/swedbankpay-logo.svg" alt="logo"></a>
                <nav class="topbar-nav">
                    <div class="topbar-link-container">
                        <button type="button" class="topbar-close"><i class="material-icons">close</i></button>

                        
                        

                        

                        <a 
                            href="/"><span>Home</span></a>

                        
                        
                        <a 
                            href="/checkout/"><span>Checkout</span></a>
                        
                        
                        <a 
                            href="/payments/"><span>Payments</span></a>
                        
                        
                        <a 
                            href="/gift-cards/"><span>Gift Cards</span></a>
                        
                        
                        <a 
                            href="/resources/"><span>Resources</span></a>
                        

                        <div class="topbar-info topbar-link-right">
                            <div class="topbar-info-contact">
                                <a href="https://github.com/SwedbankPay/developer.swedbankpay.com/tree/develop/payments/card/other-features.md" target="_blank"
                                    rel="noopener noreferrer" title="Edit this page on GitHub">
                                    <svg aria-labelledby="simpleicons-github-icon" role="img" viewBox="0 0 24 24"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <title id="simpleicons-github-icon">Edit this page on GitHub</title>
                                        <path
                                            d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12" />
                                    </svg>
                                </a>
                            </div>
                        </div>
                    </div>
                </nav>
            </header>

            <div class="documentation">
                <div class="row">
                    <div class="col-xxl-2 col-md-3">
                        <div class="doc-sidebar">
                            
                            <form class="doc-search" action="/search">
                                <input type="text" class="form-control" name="q" id="tipue_search_input"
                                    placeholder="Search..." autocomplete="off" pattern=".{3,}"
                                    title="At least 3 characters">
                            </form>
                            
                            
                            <nav class="documentation-nav">
                                
                                
                                <div class="nav-group active">
                                    <div class="nav-heading">
                                        <i class="material-icons">keyboard_arrow_right</i>
                                        <span>Card Payments</span>
                                    </div>

                                    
                                    <ul>
                                        
                                        
                                        <li><a  href="/payments/card/"><span>Introduction</span></a></li>
                                        
                                        
                                        <li><a  href="/payments/card/redirect"><span>Redirect</span></a></li>
                                        
                                        
                                        <li><a  href="/payments/card/seamless-view"><span>Seamless View</span></a></li>
                                        
                                        
                                        <li><a  href="/payments/card/direct"><span>Direct</span></a></li>
                                        
                                        
                                        <li><a  href="/payments/card/capture"><span>Capture</span></a></li>
                                        
                                        
                                        <li><a  href="/payments/card/mobile-card-payments"><span>Mobile Card Payments</span></a></li>
                                        
                                        
                                        <li><a  href="/payments/card/after-payment"><span>After Payment</span></a></li>
                                        
                                        
                                        <li><a  aria-current="page" class="active"
                                                 href="/payments/card/other-features"><span>Other Features</span></a></li>
                                        
                                    </ul>
                                    
                                </div>
                                
                            </nav>
                            
                        </div>
                    </div>

                    <main class="doc-view col-xxl-10 col-md-9">
                        <div class="doc-container">
                            <h1>Swedbank Pay Card Payments – Other Features</h1>
                            <div class="row">
                                <div class="doc-body col-lg-10">
                                    
                                    <div class="jumbotron">
    <p>Welcome to Other Features - a subsection of
Credit Card. This section has extented code examples and features that were not
covered by the other subsections.</p>

</div>
      <h2 id="payment-resource">
        
        
          Payment Resource <a href="#payment-resource" class="header-anchor"></a>
        
        
      </h2>

<p>The <code class="language-html highlighter-rouge">payment</code> resource is central to all payment instruments. All operations
that target the payment resource directly produce a response similar to the
example seen below. The response given contains all operations that are
possible to perform in the current state of the payment.</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="nf">GET</span> <span class="nn">/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p class="code-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
</pre></td><td class="rouge-code"><pre><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234567890</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T13:21:29.3182115Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T13:21:57.6627579Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ready"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"intent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Authorization"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingCaptureAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingCancellationAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingReversalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"payerReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AB1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"initiatingSystemUserAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PostmanRuntime/3.0.1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0..."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nb-NO"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/prices"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payeeInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/payeeInfo"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/urls"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"authorizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/authorizations"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"captures"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/captures"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"reversals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/reversals"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"cancellations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/cancellations"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"operations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PATCH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"update-payment-abort"</span><span class="p">,</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ecom.externalintegration.payex.com/creditcard/core/scripts/client/px.creditcard.client.js?token=5a17c24e-d459-4567-bbad-aa0f17a76119&amp;operation=authorize"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"view-authorization"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/javascript"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ecom.externalintegration.payex.com/creditcard/payments/authorize/ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"redirect-authorization"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text/html"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/captures"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"create-capture"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp/creditcard/7e6cdfc3-1276-44e9-9992-7cf4419750e1/paid"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid-payment"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp/creditcard/7e6cdfc3-1276-44e9-9992-7cf4419750e1/failed"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed-payment"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/problem+json"</span><span class="w">
        </span><span class="p">}</span><span class="w">

    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">payment</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The <code class="language-html highlighter-rouge">payment</code> object contains information about the specific payment.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">payment</code> resource .    Please read about <a href="/home/technical-information#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">number</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">The payment  number , useful when there’s need to reference the payment in human communication. Not usable for programmatic identification of the payment, for that  id  should be used instead.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">created</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date of when the payment was created.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">updated</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date of when the payment was updated.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">state</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Ready</code>, <code class="language-html highlighter-rouge">Pending</code>, <code class="language-html highlighter-rouge">Failed</code> or <code class="language-html highlighter-rouge">Aborted</code>. Indicates the state of the payment, not the state of any transactions performed on the payment. To find the state of the payment’s transactions (such as a successful authorization), see the <code class="language-html highlighter-rouge">transactions</code> resource or the different specialized type-specific resources such as <code class="language-html highlighter-rouge">authorizations</code> or <code class="language-html highlighter-rouge">sales</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">prices</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The <code class="language-html highlighter-rouge">prices</code> resource lists the prices related to a specific payment.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">prices.id</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">prices</code> resource .    Please read about <a href="/home/technical-information#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">description</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string(40)</code></td>
      <td style="text-align: left">A 40 character length textual <a href="/payments/card/other-features#description">description</a> of the purchase.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">payerReference</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The reference to the payer (consumer/end-user) from the merchant system, like e-mail address, mobile number, customer number etc.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">userAgent</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The <a href="https://en.wikipedia.org/wiki/User_agent">user agent</a> string of the consumer’s browser.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">language</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">sv-SE</code>, <code class="language-html highlighter-rouge">nb-NO</code>, <code class="language-html highlighter-rouge">da-DK</code>, <code class="language-html highlighter-rouge">de-DE</code>, <code class="language-html highlighter-rouge">ee-EE</code>, <code class="language-html highlighter-rouge">en-US</code>, <code class="language-html highlighter-rouge">es-ES</code>, <code class="language-html highlighter-rouge">fr-FR</code>, <code class="language-html highlighter-rouge">lv-LV</code>,<code class="language-html highlighter-rouge">lt-LT</code>, <code class="language-html highlighter-rouge">ru-RU</code> or <code class="language-html highlighter-rouge">fi-FI</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">urls</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI to the  urls  resource where all URIs related to the payment can be retrieved.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">payeeInfo</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI to the  payeeinfo  resource where the information about the payee of the payment can be retrieved.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">operations</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of possible operations to perform</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">method</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The HTTP method to use when performing the operation.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">href</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The target URI to perform the operation against.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">rel</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The name of the relation the operation has to the current resource.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="operations">
        
        
          Operations <a href="#operations" class="header-anchor"></a>
        
        
      </h3>

<p>The operations should be performed as described in each response and not as
described here in the documentation.
Always use the <code class="language-html highlighter-rouge">href</code> and <code class="language-html highlighter-rouge">method</code> as specified in the response by finding
the appropriate operation based on its <code class="language-html highlighter-rouge">rel</code> value.
The only thing that should be hard coded in the client is the value of
the <code class="language-html highlighter-rouge">rel</code> and the request that will be sent in the HTTP body of the request
for the given operation.</p>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Operation</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">update-payment-abort</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">abort</code>s the payment order before any financial transactions are performed.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">redirect-authorization</code></td>
      <td style="text-align: left">Contains the URI that is used to redirect the consumer to the Swedbank Pay Payments containing the card authorization UI.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">view-authorization</code></td>
      <td style="text-align: left">Contains the JavaScript <code class="language-html highlighter-rouge">href</code> that is used to embed  the card authorization UI directly on the webshop/merchant site</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">create-capture</code></td>
      <td style="text-align: left">Creates a <code class="language-html highlighter-rouge">capture</code> transaction in order to charge the reserved funds from the consumer.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">create-cancellation</code></td>
      <td style="text-align: left">Creates a <code class="language-html highlighter-rouge">cancellation</code> transaction that cancels a created, but not yet captured payment.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">paid-payment</code></td>
      <td style="text-align: left">Returns the information about a payment that has the status <code class="language-html highlighter-rouge">paid</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">failed-payment</code></td>
      <td style="text-align: left">Returns the information about a payment that has the status <code class="language-html highlighter-rouge">failed</code>.</td>
    </tr>
  </tbody>
</table>
    
      <h2 id="payment-states-and-transaction-states">
        
        
          Payment States And Transaction States <a href="#payment-states-and-transaction-states" class="header-anchor"></a>
        
        
      </h2>

<p>Both payments and transactions can be in several different states during
the course of a purchase. You can find a short description of each state below.</p>
    
      <h3 id="payments">
        
        
          Payments <a href="#payments" class="header-anchor"></a>
        
        
      </h3>

<ul>
  <li>
    <p><code class="language-html highlighter-rouge">ready</code> means that the payment has been created successfully, and is now ready
 for further transaction operations, like <code class="language-html highlighter-rouge">authorization</code>, <code class="language-html highlighter-rouge">sale</code> or <code class="language-html highlighter-rouge">abort</code>.</p>
  </li>
  <li>
    <p><code class="language-html highlighter-rouge">failed</code> means that something went wrong during the payment process, and no
further transactions can be created if the payment is in this state. Examples
of possible failures are triggering of anti-fraud protection or if the payer
reaches the maximum number of attempts for a given payment.</p>
  </li>
  <li>
    <p><code class="language-html highlighter-rouge">aborted</code> means that the merchant has aborted the payment before the end user
has fulfilled the payment process. This is done by calling the <code class="language-html highlighter-rouge">PATCH</code> function
for abort operations.</p>
  </li>
  <li>
    <p><code class="language-html highlighter-rouge">pending</code> is the state of a payment when a transaction is in an <code class="language-html highlighter-rouge">initialized</code>
state. See more below. As long as a payment is <code class="language-html highlighter-rouge">pending</code>, no further
transactions can be done.</p>
  </li>
</ul>
    
      <h3 id="transactions">
        
        
          Transactions <a href="#transactions" class="header-anchor"></a>
        
        
      </h3>

<ul>
  <li>
    <p><code class="language-html highlighter-rouge">ìntialized</code> is the transaction state when something unexpected occured, and
it is impossible to determine the exact status of the transaction. An example of
this can be a network failure. No further actions can be done on a payment with a transaction in
this state.</p>
  </li>
  <li>
    <p><code class="language-html highlighter-rouge">completed</code> means that the transaction has reached its intended purpose. An
<code class="language-html highlighter-rouge">authorization</code> will be <code class="language-html highlighter-rouge">completed</code> when the funds have been authorized, a
<code class="language-html highlighter-rouge">capture</code> will be <code class="language-html highlighter-rouge">completed</code> when the funds have been captured and a <code class="language-html highlighter-rouge">reversal</code>
will be <code class="language-html highlighter-rouge">completed</code> when the payer has been refunded.</p>
  </li>
  <li>
    <p><code class="language-html highlighter-rouge">failed</code> means that the transaction has <code class="language-html highlighter-rouge">failed</code>. The state is final for that
specific transaction, but given that the payment is operational, it is possible to perform more transactions on the same payment, i.e. retry the authorization
with another card. If the payer reaches the maximum amount of retries, the
payment itself will be set to <code class="language-html highlighter-rouge">failed</code>.</p>
  </li>
  <li>
    <p><code class="language-html highlighter-rouge">awaitingActivity</code> is in use for a selection of payment instruments. A
transaction reaches this state when a payer is sent away from Swedbank Pay to do
a confirmation or verification. Examples of this can be payment apps like Swish,
Vipps or MobilePay, or 3-D Secure verifications for card payments.</p>
  </li>
</ul>
    
      <h2 id="create-payment">
        
        
          Create Payment <a href="#create-payment" class="header-anchor"></a>
        
        
      </h2>

<p>Within the card payments part of the eCommerce API, you can create four kinds
of payments (<a href="#purchase">purchase</a>, <a href="#recur">recurrence</a>, <a href="#payout">payout</a>
and <a href="#verify">verification</a>) and you can inspect and alter the details of the
individual transactions within the payment.</p>

<p>To create a card payment, you perform an HTTP <code class="language-html highlighter-rouge">POST</code> against the <code class="language-html highlighter-rouge">payments</code>
resource.</p>

<p>There are four different kinds of payment that can be created. These are
identified with the value of the <code class="language-html highlighter-rouge">operation</code> field. Each kind are documented
in their own section below.</p>

<p class="code-header"><strong>Request</strong>”</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="nf">POST</span> <span class="nn">/psp/creditcard/payments</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;operation&gt;"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"intent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;intent&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: center">Required</th>
      <th>Field</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><i class="material-icons">check</i></td>
      <td><code class="language-html highlighter-rouge">payment</code></td>
      <td><code class="language-html highlighter-rouge">object</code></td>
      <td>The <code class="language-html highlighter-rouge">payment</code> object.</td>
    </tr>
    <tr>
      <td style="text-align: center"><i class="material-icons">check</i></td>
      <td>└➔ <code class="language-html highlighter-rouge">operation</code></td>
      <td><code class="language-html highlighter-rouge">string</code></td>
      <td>Determines the initial operation, that defines the type card payment created.<br /> <br /> <code class="language-html highlighter-rouge">Purchase</code>. Used to charge a card. It is followed up by a capture or cancel operation.<br /> <br /> <code class="language-html highlighter-rouge">Recur</code>.Used to charge a card on a recurring basis. Is followed up by a capture or cancel operation (if not Autocapture is used, that is).<br /> <br /><code class="language-html highlighter-rouge">Payout</code>. Used to deposit funds directly to credit card. No more requests are necessary from the merchant side.<br /> <br /><code class="language-html highlighter-rouge">Verify</code>. Used when authorizing a card withouth reserveing any funds.  It is followed up by a verification transaction.</td>
    </tr>
    <tr>
      <td style="text-align: center"><i class="material-icons">check</i></td>
      <td>└➔ <code class="language-html highlighter-rouge">intent</code></td>
      <td><code class="language-html highlighter-rouge">string</code></td>
      <td>The intent of the payment identifies how and when the charge will be effectuated. This determine the type transactions used during the payment process.<br /> <br /><code class="language-html highlighter-rouge">Authorization</code>. Reserves the amount, and is followed by a <a href="/payments/card/after-payment#cancellations">cancellation</a> or <a href="/payments/card/capture">capture</a> of funds.<br /> <br /><code class="language-html highlighter-rouge">AutoCapture</code>. A one phase-option that enable capture of funds automatically after authorization.</td>
    </tr>
  </tbody>
</table>
    
      <h2 id="purchase">
        
        
          Purchase <a href="#purchase" class="header-anchor"></a>
        
        
      </h2>

<p>A <code class="language-html highlighter-rouge">Purchase</code> payment is a straightforward way to charge the card of the payer.
It is followed up by posting a <code class="language-html highlighter-rouge">capture</code>, <code class="language-html highlighter-rouge">cancellation</code> or <code class="language-html highlighter-rouge">reversal</code> transaction.</p>

<p>An example of a request is provided below. Each individual field of the JSON
document is described in the following section.</p>

<div class="alert  alert-success">
    
        
            <i class="material-icons alert-icon">info</i>
        
    

    
        
            <p>To minimize the risk for
a challenge request (Strong Customer Authentication – “SCA”) on card payments,
it’s recommended that you add as much data as possible to the <code class="language-html highlighter-rouge">riskIndicator</code>
object in the request below.</p>
        
    
</div>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
</pre></td><td class="rouge-code"><pre><span class="nf">POST</span> <span class="nn">/psp/creditcard/payments</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"intent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Authorization"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SEK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"generatePaymentToken"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"generateRecurrenceToken"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0..."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nb-NO"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
            </span><span class="nl">"completeUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-completed"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cancelUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-canceled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"callbackUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-callback"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"logoUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-logo.png"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"termsOfServiceUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-terms.pdf"</span><span class="p">,</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payeeInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"payeeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5cabf558-5283-482f-b252-4d58e06f6f3b"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CD1234"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payeeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Merchant1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"productCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"or123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subsite"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mySubsite"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"cardholder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Olivia"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nyhuus"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"olivia.nyhuus@payex.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"msisdn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+4798765432"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"homePhoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+4787654321"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"workPhoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+4776543210"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"shippingAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Olivia"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nyhuus"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"olivia.nyhuus@payex.com"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"msisdn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+4798765432"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"streetAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Saltnestoppen 43"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"coAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Saltnes"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"zipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1642"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"countryCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NO"</span><span class="w">
            </span><span class="p">},</span><span class="w"> 
            </span><span class="nl">"billingAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Olivia"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nyhuus"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"olivia.nyhuus@payex.com"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"msisdn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+4798765432"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"streetAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Saltnestoppen 43"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"coAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Saltnes"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"zipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1642"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"countryCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NO"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"accountInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"accountAgeIndicator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"accountChangeIndicator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"accountPwdChangeIndicator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"shippingAddressUsageIndicator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"shippingNameIndicator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"suspiciousAccountActivity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"addressMatchIndicator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"riskIndicator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"deliveryEmailAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"olivia.nyhuus@payex.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deliveryTimeFrameIndicator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"preOrderDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19801231"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"preOrderPurchaseIndicator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"shipIndicator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"giftCardPurchase"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reOrderPurchaseIndicator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pickUpAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Olivia Nyhuus"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"streetAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Saltnestoppen 43"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"coAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Saltnes"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"zipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1642"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"countryCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NO"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"key1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"key2"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"key3"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"key4"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"creditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"rejectCreditCards"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"rejectDebitCards"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"rejectConsumerCards"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"rejectCorporateCards"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"no3DSecure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: center">Required</th>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><i class="material-icons">check</i></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">payment</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The payment object</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"><i class="material-icons">check</i></td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">operation</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Determines the initial operation, that defines the type card payment created.<br /> <br /> <code class="language-html highlighter-rouge">Purchase</code>. Used to charge a card. It is followed up by a capture or cancel operation.<br /> <br /> <code class="language-html highlighter-rouge">Recur</code>.Used to charge a card on a recurring basis. Is followed up by a capture or cancel operation (if not Autocapture is used, that is).<br /> <br /><code class="language-html highlighter-rouge">Payout</code>. Used to deposit funds directly to credit card. No more requests are necessary from the merchant side.<br /> <br /><code class="language-html highlighter-rouge">Verify</code>. Used when authorizing a card withouth reserveing any funds.  It is followed up by a verification transaction.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"><i class="material-icons">check</i></td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">intent</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Authorization</code>. Reserves the amount, and is followed by a <a href="/payments/card/after-payment#cancellations">cancellation</a> or <a href="/payments/card/capture">capture</a> of funds.<br /> <br /> <code class="language-html highlighter-rouge">AutoCapture</code>. A one phase option that enable capture of funds automatically after authorization.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">paymentToken</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">If you put in a paymentToken here, the payment page will preload the stored payment data related to the <code class="language-html highlighter-rouge">paymentToken</code> and let the consumer make a purchase without having to enter all card data. This is called a “One Click” purchase.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"><i class="material-icons">check</i></td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">currency</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">NOK, SEK, DKK, USD or EUR.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"><i class="material-icons">check</i></td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">prices</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">array</code></td>
      <td style="text-align: left">The <code class="language-html highlighter-rouge">prices</code> resource lists the prices related to a specific payment.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"><i class="material-icons">check</i></td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">type</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Use the generic type <code class="language-html highlighter-rouge">CreditCard</code> if you want to enable all card brands supported by merchant contract. Use card brands like <code class="language-html highlighter-rouge">Visa</code> (for card type Visa), <code class="language-html highlighter-rouge">MasterCard</code> (for card type MasterCard) and others if you want to specify different amount for each card brand. If you want to use more than one amount you must have one instance in the prices node for each card brand. You will not be allowed to both specify card brands and CreditCard at the same time in this field. <a href="/payments/card/other-features#prices">See the Prices resource and prices object types for more information</a>.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"><i class="material-icons">check</i></td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">amount</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">The amount (including VAT, if any) to charge the payer, entered in the lowest monetary unit of the selected currency. E.g.: <strong><code class="language-html highlighter-rouge">10000</code></strong> = <code class="language-html highlighter-rouge">100.00</code> SEK, <strong><code class="language-html highlighter-rouge">5000</code></strong> = <code class="language-html highlighter-rouge">50.00</code> SEK.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"><i class="material-icons">check</i></td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">vatAmount</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">The amount of VAT to charge the payer, entered in the lowest monetary unit ofthe selected currency. E.g.: <strong><code class="language-html highlighter-rouge">10000</code></strong> = <code class="language-html highlighter-rouge">100.00</code> SEK, <strong><code class="language-html highlighter-rouge">5000</code></strong> = <code class="language-html highlighter-rouge">50.00</code> SEK. If the <code class="language-html highlighter-rouge">amount</code> given includes VAT, <code class="language-html highlighter-rouge">vatAmount</code> may be displayed for the user inthe payment page (redirect only). Set to <code class="language-html highlighter-rouge">0</code> (zero) if there is no VAT amount charged.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"><i class="material-icons">check</i></td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">description</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string(40)</code></td>
      <td style="text-align: left">A 40 character length textual <a href="/payments/card/other-features#description">description</a> of the purchase.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">payerReference</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The reference to the payer (consumer/end user) from the merchant system. E.g mobile number, customer number etc.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">generatePaymentToken</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">boolean</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">true</code> or <code class="language-html highlighter-rouge">false</code>. Set this to <code class="language-html highlighter-rouge">true</code> if you want to create a paymentToken for future use as One Click.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">generateRecurrenceToken</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">boolean</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">true</code> or <code class="language-html highlighter-rouge">false</code>. Set this to <code class="language-html highlighter-rouge">true</code> if you want to create a recurrenceToken for future use Recurring purchases (subscription payments).</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"><i class="material-icons">check</i></td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">userAgent</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The user agent reference of the consumer’s browser - <a href="https://en.wikipedia.org/wiki/User_agent">see user agent definition</a></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"><i class="material-icons">check</i></td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">language</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">sv-SE</code>, <code class="language-html highlighter-rouge">nb-NO</code>, <code class="language-html highlighter-rouge">da-DK</code>, <code class="language-html highlighter-rouge">de-DE</code>, <code class="language-html highlighter-rouge">ee-EE</code>, <code class="language-html highlighter-rouge">en-US</code>, <code class="language-html highlighter-rouge">es-ES</code>, <code class="language-html highlighter-rouge">fr-FR</code>, <code class="language-html highlighter-rouge">lv-LV</code>,<code class="language-html highlighter-rouge">lt-LT</code>, <code class="language-html highlighter-rouge">ru-RU</code> or <code class="language-html highlighter-rouge">fi-FI</code>.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"><i class="material-icons">check</i>︎</td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">urls</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The object containing URLs relevant for the <code class="language-html highlighter-rouge">payment</code>.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">hostUrls</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of URLs valid for embedding of Swedbank Pay Hosted Views. If not supplied, view-operation will not be available.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"><i class="material-icons">check</i></td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">completeUrl</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The URL that Swedbank Pay will redirect back to when the payer has completed his or her interactions with the payment. This does not indicate a successful payment, only that it has reached a final (complete) state. A <code class="language-html highlighter-rouge">GET</code> request needs to be performed on the payment to inspect it further.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"><i class="material-icons">check</i></td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">cancelUrl</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI to redirect the payer to if the payment is canceled. Only used in redirect scenarios. Can not be used simultaneously with <code class="language-html highlighter-rouge">paymentUrl</code>; only <code class="language-html highlighter-rouge">cancelUrl</code> or <code class="language-html highlighter-rouge">paymentUrl</code> can be used, not both.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">paymentUrl</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI that Swedbank Pay will redirect back to when the view-operation needs to be loaded, to inspect and act on the current status of the payment. Only used in Seamless Views. If both <code class="language-html highlighter-rouge">cancelUrl</code> and <code class="language-html highlighter-rouge">paymentUrl</code> is sent, the <code class="language-html highlighter-rouge">paymentUrl</code> will used.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">callbackUrl</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The URL that Swedbank Pay will perform an HTTP <code class="language-html highlighter-rouge">POST</code> against every time a transaction is created on the payment. See <a href="/payments/card/other-features#callback">callback</a> for details.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">logoUrl</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The URL that will be used for showing the customer logo. Must be a picture with maximum 50px height and 400px width. Require https.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">termsOfServiceUrl</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI to the terms of service document the payer must accept in order to    complete the payment. Note that this field is not required    unless <code class="language-html highlighter-rouge">generateReferenceToken</code> or <code class="language-html highlighter-rouge">generateRecurrenceToken</code> is also submitted    in the request. This is the Merchants, not the Swedbank Pay Terms of    Service. <strong>HTTPS is a requirement</strong>.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"><i class="material-icons">check</i></td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">payeeInfo</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The <code class="language-html highlighter-rouge">payeeInfo</code> object, containing information about the payee (the recipient of the money).</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"><i class="material-icons">check</i></td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">payeeId</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">This is the unique id that identifies this payee (like merchant) set by Swedbank Pay.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"><i class="material-icons">check</i></td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">payeeReference</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string(50*)</code></td>
      <td style="text-align: left">A unique reference from the merchant system. It is set per operation to ensure an exactly-once delivery of a transactional operation. See <a href="#payee-reference"><code class="language-html highlighter-rouge">payeeReference</code></a> for details.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">payeeName</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The payee name (like merchant name) that will be displayed to consumer when redirected to Swedbank Pay.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">productCategory</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">A product category or number sent in from the payee/merchant. This is not validated by Swedbank Pay, but will be passed through the payment process and may be used in the settlement process.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">orderReference</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">String(50)</code></td>
      <td style="text-align: left">The order reference should reflect the order reference found in the merchant’s systems.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">subsite</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">String(40)</code></td>
      <td style="text-align: left">The subsite field can be used to perform <a href="#split-settlement">split settlement</a> on the payment. The subsites must be resolved with Swedbank Pay <a href="#settlement-and-reconciliation">reconciliation</a> before being used.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">metadata</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The keys and values that should be associated with the payment. Can be additional identifiers and data you want to associate with the payment.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">cardholder</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">Optional. Cardholder object that can hold information about a buyer (private or company). The information added increases the chance for frictionless flow.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">firstName</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set). If buyer is a company, use only <code class="language-html highlighter-rouge">firstName</code>.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">lastName</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set). If buyer is a company, use only <code class="language-html highlighter-rouge">firstName</code>.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">email</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set)</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">msisdn</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set)</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">homePhoneNumber</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set)</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">workPhoneNumber</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set)</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">shippingAddress</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set)</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└──➔ <code class="language-html highlighter-rouge">firstName</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set)</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└──➔ <code class="language-html highlighter-rouge">lastName</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set)</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└──➔ <code class="language-html highlighter-rouge">email</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set)</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└──➔ <code class="language-html highlighter-rouge">msisdn</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set)</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└──➔ <code class="language-html highlighter-rouge">streetAddress</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set)</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└──➔ <code class="language-html highlighter-rouge">coAddress</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set)</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└──➔ <code class="language-html highlighter-rouge">city</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set)</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└──➔ <code class="language-html highlighter-rouge">zipCode</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set)</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└──➔ <code class="language-html highlighter-rouge">countryCode</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set)</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">billingAddress</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set)</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└──➔ <code class="language-html highlighter-rouge">firstName</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set). If buyer is a company, use only <code class="language-html highlighter-rouge">firstName</code>.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└──➔ <code class="language-html highlighter-rouge">lastName</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set). If buyer is a company, use only <code class="language-html highlighter-rouge">firstName</code>.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└──➔ <code class="language-html highlighter-rouge">email</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set)</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└──➔ <code class="language-html highlighter-rouge">msisdn</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set)</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└──➔ <code class="language-html highlighter-rouge">streetAddress</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set)</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└──➔ <code class="language-html highlighter-rouge">coAddress</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set)</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└──➔ <code class="language-html highlighter-rouge">city</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set)</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└──➔ <code class="language-html highlighter-rouge">zipCode</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set)</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└──➔ <code class="language-html highlighter-rouge">countryCode</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set)</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">accountInfo</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set).<br /> <br />If cardholder is known by merchant and have some kind of registered user then these fields can be set.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└──➔ <code class="language-html highlighter-rouge">accountAgeIndicator</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set).<br /> <br />Indicates the length of time that the payments account was enrolled in the cardholder’s account with merchant.<br /><code class="language-html highlighter-rouge">01</code> (No account, guest)<br /><code class="language-html highlighter-rouge">02</code> (Created during transaction)<br /><code class="language-html highlighter-rouge">03</code> (Less than 30 days)<br /><code class="language-html highlighter-rouge">04</code> (30-60 days)<br /><code class="language-html highlighter-rouge">05</code> (More than 60 days)</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└──➔ <code class="language-html highlighter-rouge">accountChangeIndicator</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set).<br /> <br />Length of time since the cardholder’s account information with the merchant was changed. Including billing etc.<br /><code class="language-html highlighter-rouge">01</code> (Changed during transaction)<br /><code class="language-html highlighter-rouge">02</code> (Less than 30 days)<br /><code class="language-html highlighter-rouge">03</code> (30-60 days)<br /><code class="language-html highlighter-rouge">04</code> (More than 60 days)</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└──➔ <code class="language-html highlighter-rouge">accountPwdChangeIndicator</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set).<br /> <br />Indicates the length of time since the cardholder’s account with the merchant had a password change or account reset.<br /><code class="language-html highlighter-rouge">01</code> (No change)<br /><code class="language-html highlighter-rouge">02</code> (Changed during transaction)<br /><code class="language-html highlighter-rouge">03</code> (Less than 30 days)<br /><code class="language-html highlighter-rouge">04</code> (30-60 days)<br /><code class="language-html highlighter-rouge">05</code> (More than 60 days)</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└──➔ <code class="language-html highlighter-rouge">shippingAddressUsageIndicator</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set).<br /> <br />Indicates when the shipping address used for this transaction was first used with the merchant.<br /><code class="language-html highlighter-rouge">01</code> (This transaction)<br /><code class="language-html highlighter-rouge">02</code> (Less than 30 days)<br /><code class="language-html highlighter-rouge">03</code> (30-60 days)<br /><code class="language-html highlighter-rouge">04</code> (More than 60 days)</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└──➔ <code class="language-html highlighter-rouge">shippingNameIndicator</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set).<br /> <br />Indicates if the Cardholder Name on the account is identical to the shipping Name used for this transaction.<br /><code class="language-html highlighter-rouge">01</code> (Account name identical to shipping name)<br /><code class="language-html highlighter-rouge">02</code> (Account name different than shipping name)<br /></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└──➔ <code class="language-html highlighter-rouge">suspiciousAccountActivity</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set).<br /> <br />Indicates whether merchant has experienced suspicious activity (including previous fraud) on the cardholder account.<br /><code class="language-html highlighter-rouge">01</code> (No suspicious activity has been observed)<br /><code class="language-html highlighter-rouge">02</code> (Suspicious activity has been observed)<br /></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└──➔ <code class="language-html highlighter-rouge">addressMatchIndicator</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">boolean</code></td>
      <td style="text-align: left">Optional (increased chance for frictionless flow if set)<br /> <br /> Allows the 3-D Secure Requestor to indicate to the ACS whether the cardholder’s billing and shipping address are the same.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">riskIndicator</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">array</code></td>
      <td style="text-align: left">This <strong>optional</strong> object consist of information that helps verifying the payer. Providing these fields decreases the likelyhood of having to promt for 3-D Secure authenticaiton of the payer when they are authenticating the purchacse.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">deliveryEmailAdress</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">For electronic delivery, the email address to which the merchandise was delivered. Providing this field when appropriate decreases the likelyhood of a 3-D Secure authentication for the payer.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">deliveryTimeFrameIndicator</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Indicates the merchandise delivery timeframe. <br /><code class="language-html highlighter-rouge">01</code> (Electronic Delivery) <br /><code class="language-html highlighter-rouge">02</code> (Same day shipping) <br /><code class="language-html highlighter-rouge">03</code> (Overnight shipping) <br /><code class="language-html highlighter-rouge">04</code> (Two-day or more shipping)</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">preOrderDate</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">For a pre-ordered purchase. The expected date that the merchandise will be available. Format: <code class="language-html highlighter-rouge">YYYYMMDD</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">preOrderPurchaseIndicator</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Indicates whether the payer is placing an order for merchandise with a future availability or release date. <br /><code class="language-html highlighter-rouge">01</code> (Merchandise available) <br /><code class="language-html highlighter-rouge">02</code> (Future availability)</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">shipIndicator</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Indicates shipping method chosen for the transaction. <br /><code class="language-html highlighter-rouge">01</code> (Ship to cardholder’s billing address) <br /><code class="language-html highlighter-rouge">02</code> (Ship to another verified address on file with merchant)<br /><code class="language-html highlighter-rouge">03</code> (Ship to address that is different than cardholder’s billing address)<br /><code class="language-html highlighter-rouge">04</code> (Ship to Store / Pick-up at local store. Store address shall be populated in shipping address fields)<br /><code class="language-html highlighter-rouge">05</code> (Digital goods, includes online services, electronic giftcards and redemption codes) <br /><code class="language-html highlighter-rouge">06</code> (Travel and Event tickets, not shipped) <br /><code class="language-html highlighter-rouge">07</code> (Other, e.g. gaming, digital service)</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">giftCardPurchase</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">bool</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">true</code> if this is a purchase of a gift card.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">reOrderPurchaseIndicator</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Indicates whether the payer is placing an order for merchandise with a future availability or release date. <br /><code class="language-html highlighter-rouge">01</code> (Merchandise available) <br /><code class="language-html highlighter-rouge">02</code> (Future availability)</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">pickUpAddress</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">If <code class="language-html highlighter-rouge">shipIndicator</code> set to <code class="language-html highlighter-rouge">04</code>, then prefill this with the payers <code class="language-html highlighter-rouge">pickUpAddress</code> of the purchase to decrease the risk factor of the purchase.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">name</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">If <code class="language-html highlighter-rouge">shipIndicator</code> set to <code class="language-html highlighter-rouge">04</code>, then prefill this with the payers <code class="language-html highlighter-rouge">name</code> of the purchase to decrease the risk factor of the purchase.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">streetAddress</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">If <code class="language-html highlighter-rouge">shipIndicator</code> set to <code class="language-html highlighter-rouge">04</code>, then prefill this with the payers <code class="language-html highlighter-rouge">streetAddress</code> of the purchase to decrease the risk factor of the purchase.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">coAddress</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">If <code class="language-html highlighter-rouge">shipIndicator</code> set to <code class="language-html highlighter-rouge">04</code>, then prefill this with the payers <code class="language-html highlighter-rouge">coAddress</code> of the purchase to decrease the risk factor of the purchase.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">city</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">If <code class="language-html highlighter-rouge">shipIndicator</code> set to <code class="language-html highlighter-rouge">04</code>, then prefill this with the payers <code class="language-html highlighter-rouge">city</code> of the purchase to decrease the risk factor of the purchase.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">zipCode</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">If <code class="language-html highlighter-rouge">shipIndicator</code> set to <code class="language-html highlighter-rouge">04</code>, then prefill this with the payers <code class="language-html highlighter-rouge">zipCode</code> of the purchase to decrease the risk factor of the purchase.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">countryCode</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">If <code class="language-html highlighter-rouge">shipIndicator</code> set to <code class="language-html highlighter-rouge">04</code>, then prefill this with the payers <code class="language-html highlighter-rouge">countryCode</code> of the purchase to decrease the risk factor of the purchase.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">creditCard</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The credit card object.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">rejectDebitCards</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">boolean</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">true</code> if debit cards should be declined; otherwise <code class="language-html highlighter-rouge">false</code> per default. Default value is set by Swedbank Pay and can be changed at your request.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">rejectCreditCards</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">boolean</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">true</code> if credit cards should be declined; otherwise <code class="language-html highlighter-rouge">false</code> per default. Default value is set by Swedbank Pay and can be changed at your request.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">rejectConsumerCards</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">boolean</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">true</code> if consumer cards should be declined; otherwise <code class="language-html highlighter-rouge">false</code> per default. Default value is set by Swedbank Pay and can be changed at your request.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">rejectCorporateCards</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">boolean</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">true</code> if corporate cards should be declined; otherwise <code class="language-html highlighter-rouge">false</code> per default. Default value is set by Swedbank Pay and can be changed at your request.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">no3DSecure</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">boolean</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">true</code> if 3-D Secure should be disabled for this payment in the case a stored card is used; otherwise <code class="language-html highlighter-rouge">false</code> per default. To use this feature it has to be enabled on the contract with Swedbank Pay.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">noCvc</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">boolean</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">true</code> if the CVC field should be disabled for this payment in the case a stored card is used; otherwise <code class="language-html highlighter-rouge">false</code> per default. This feature is commonly used when <a href="#one-click-payments">One-Click Payments</a> is enabled. To use this feature it has to be enabled on the contract with Swedbank Pay.</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<p class="code-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
</pre></td><td class="rouge-code"><pre><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234567890</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instrument"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T13:21:29.3182115Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T13:21:57.6627579Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ready"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"intent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Authorization"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SEK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingCaptureAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingCancellationAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingReversalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"payerReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AB1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"initiatingSystemUserAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PostmanRuntime/3.0.1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0..."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sv-SE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/prices"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"authorizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/authorizations"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"captures"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/captures"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"reversals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/reversals"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"cancellations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/cancellations"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/urls"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payeeInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/payeeInfo"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/settings"</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"operations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"update-payment-abort"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PATCH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"redirect-authorization"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ecom.externalintegration.payex.com/creditcard/payments/authorize/5a17c24e-d459-4567-bbad-aa0f17a76119"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text/html"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"view-authorization"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ecom.externalintegration.payex.com/creditcard/core/scripts/client/px.creditcard.client.js?token=5a17c24e-d459-4567-bbad-aa0f17a76119"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/javascript"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">payment</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The <code class="language-html highlighter-rouge">payment</code> object contains information about the specific payment.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">payment</code> resource .    Please read about <a href="/home/technical-information#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">number</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">The payment  number , useful when there’s need to reference the payment in human communication. Not usable for programmatic identification of the payment, for that  id  should be used instead.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">created</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date of when the payment was created.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">updated</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date of when the payment was updated.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">state</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Ready</code>, <code class="language-html highlighter-rouge">Pending</code>, <code class="language-html highlighter-rouge">Failed</code> or <code class="language-html highlighter-rouge">Aborted</code>. Indicates the state of the payment, not the state of any transactions performed on the payment. To find the state of the payment’s transactions (such as a successful authorization), see the <code class="language-html highlighter-rouge">transactions</code> resource or the different specialized type-specific resources such as <code class="language-html highlighter-rouge">authorizations</code> or <code class="language-html highlighter-rouge">sales</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">prices</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The <code class="language-html highlighter-rouge">prices</code> resource lists the prices related to a specific payment.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">prices</code> resource .    Please read about <a href="/home/technical-information#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">amount</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">The amount (including VAT, if any) to charge the payer, entered in the lowest monetary unit of the selected currency. E.g.: <strong><code class="language-html highlighter-rouge">10000</code></strong> = <code class="language-html highlighter-rouge">100.00</code> SEK, <strong><code class="language-html highlighter-rouge">5000</code></strong> = <code class="language-html highlighter-rouge">50.00</code> SEK.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">remainingCaptureAmount</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">The available amount to capture.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">remainingCancelAmount</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">The available amount to cancel.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">remainingReversalAmount</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">The available amount to reverse.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">description</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string(40)</code></td>
      <td style="text-align: left">A 40 character length textual <a href="/payments/card/other-features#description">description</a> of the purchase.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">payerReference</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The reference to the payer (consumer/end-user) from the merchant system, like e-mail address, mobile number, customer number etc.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">userAgent</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The <a href="https://en.wikipedia.org/wiki/User_agent">user agent</a> string of the consumer’s browser.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">language</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">sv-SE</code>, <code class="language-html highlighter-rouge">nb-NO</code>, <code class="language-html highlighter-rouge">da-DK</code>, <code class="language-html highlighter-rouge">de-DE</code>, <code class="language-html highlighter-rouge">ee-EE</code>, <code class="language-html highlighter-rouge">en-US</code>, <code class="language-html highlighter-rouge">es-ES</code>, <code class="language-html highlighter-rouge">fr-FR</code>, <code class="language-html highlighter-rouge">lv-LV</code>,<code class="language-html highlighter-rouge">lt-LT</code>, <code class="language-html highlighter-rouge">ru-RU</code> or <code class="language-html highlighter-rouge">fi-FI</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">urls</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI to the  urls  resource where all URIs related to the payment can be retrieved.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">payeeInfo</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI to the  payeeinfo  resource where the information about the payee of the payment can be retrieved.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">operations</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of possible operations to perform</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">method</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The HTTP method to use when performing the operation.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">href</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The target URI to perform the operation against.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">rel</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The name of the relation the operation has to the current resource.</td>
    </tr>
  </tbody>
</table>
    
      <h2 id="completeurl">
        
        
          CompleteUrl <a href="#completeurl" class="header-anchor"></a>
        
        
      </h2>

<p>This URL will be used by Swedbank Pay when a payment is <code class="language-html highlighter-rouge">Completed</code> or <code class="language-html highlighter-rouge">Failed</code>.
If your integration subscribes to the <code class="language-html highlighter-rouge">onPaymentCompleted</code> and possibly the
<code class="language-html highlighter-rouge">onPaymentFailed</code> event, no redirect or use of the <code class="language-html highlighter-rouge">completeUrl</code> will take
place. But if you do not have any event handler for the <code class="language-html highlighter-rouge">onPaymentCompleted</code>
event, the Swedbank Pay JavaScript will perform an HTTP redirect in the top
frame to the <code class="language-html highlighter-rouge">completeUrl</code>. You will still need to do a <code class="language-html highlighter-rouge">GET</code> request on the
payment resource to find the final status (<code class="language-html highlighter-rouge">Completed</code> or <code class="language-html highlighter-rouge">Failed</code>).</p>
    
      <h2 id="description">
        
        
          Description <a href="#description" class="header-anchor"></a>
        
        
      </h2>

<p>The <code class="language-html highlighter-rouge">description</code> field is a 40 character length textual summary of the
purchase. It is needed to specify what payer is actually purchasing. Below you
will find an abbreviated Card Payments <code class="language-html highlighter-rouge">Purchase</code> request.</p>

<p>As you can see the <code class="language-html highlighter-rouge">description</code> field is set to be <code class="language-html highlighter-rouge">test purchase -
orderNumber28749347</code> in the the code example. The images below will show you the
payment UI for the Redirect and Seamless View scenario.</p>

<div class="alert  alert-neutral">
    
        
            <i class="material-icons alert-icon">info</i>
        
    

    
        
            <p>Notice that for Redirect,
the description will be shown as <code class="language-html highlighter-rouge">test purchase - orderNumber28749347</code>, as set
in the code example. For the Seamless View scenario, the description is not
shown in the payment window, but it is still required in the initial request.</p>
        
    
</div>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre></td><td class="rouge-code"><pre><span class="nf">POST</span> <span class="nn">/psp/creditcard/payments</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"intent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Authorization"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SEK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test purchase - orderNumber28749347"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"generatePaymentToken"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"generateRecurrenceToken"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0..."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nb-NO"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"urls"</span><span class="p">:</span><span class="w">
            </span><span class="nl">"hostUrls"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"https://example.com"</span><span class="p">],</span><span class="w">
            </span><span class="nl">"completeUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-completed"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cancelUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-canceled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"paymentUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/perform-payment"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"callbackUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-callback"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"logoUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-logo.png"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"termsOfServiceUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-terms.pdf"</span><span class="p">,</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="err">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p><img src="/assets/screenshots/description-field/description-field-redirect.png" alt="description field in redirect view" width="1200px" /></p>

<p><img src="/assets/screenshots/description-field/description-field-seamless.png" alt="description field in seamless-view" width="1200px" /></p>
    
      <h2 id="recur">
        
        
          Recur <a href="#recur" class="header-anchor"></a>
        
        
      </h2>

<p>A <code class="language-html highlighter-rouge">recur</code> payment is a payment that references a <code class="language-html highlighter-rouge">recurrenceToken</code> created
through a previous payment in order to charge the same card.</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre></td><td class="rouge-code"><pre><span class="nf">POST</span> <span class="nn">/psp/creditcard/payments</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Recur"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"intent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Authorization|AutoCapture"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"recurrenceToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Recurrence"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0..."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nb-NO"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"callbackUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-callback"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payeeInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"payeeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5cabf558-5283-482f-b252-4d58e06f6f3b"</span><span class="w">
            </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CD1234"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payeeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Merchant1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"productCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"or-12456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subsite"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MySubsite"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>
    
      <h2 id="unscheduled-purchase">
        
        
          Unscheduled Purchase <a href="#unscheduled-purchase" class="header-anchor"></a>
        
        
      </h2>

<div class="alert  alert-warning">
    
        
            <i class="material-icons alert-icon">warning</i>
        
    

    
        
            <p>This feature is only
available for merchants who have a specific agreement with Swedbank Pay.</p>
        
    
</div>

<p>An <code class="language-html highlighter-rouge">unscheduled purchase</code>, also called a Merchant Initiated Transaction (MIT),
is a payment which uses a <code class="language-html highlighter-rouge">paymentToken</code> generated through a previous payment in
order to charge the same card at a later time. They are done by the merchant
without the cardholder being present.</p>

<p><code class="language-html highlighter-rouge">unscheduled purchase</code>s differ from <code class="language-html highlighter-rouge">recur</code> as they are not meant to be
recurring, but occur as singular transactions. Examples of this can be car
rental companies charging the payer’s card for toll road expenses after the
rental period.</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre></td><td class="rouge-code"><pre><span class="nf">POST</span> <span class="nn">/psp/creditcard/payments</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UnscheduledPurchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"intent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Authorization"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"paymentToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Unscheduled"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0..."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nb-NO"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"callbackUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-callback"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payeeInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"payeeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5cabf558-5283-482f-b252-4d58e06f6f3b"</span><span class="w">
            </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CD1234"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payeeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Merchant1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"productCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"or-12456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subsite"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MySubsite"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre></td><td class="rouge-code"><pre><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/5adc265f-f87f-4313-577e-08d3dca1a26c"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234567890</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T13:21:29.3182115Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T13:21:57.6627579Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ready"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Purchase"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"intent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Authorization"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOK"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remainingCaptureAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remainingCancellationAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remainingReversalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Unscheduled"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"initiatingSystemUserAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PostmanRuntime/3.0.1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0..."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nb-NO"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"paymentToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/prices"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nl">"authorizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/authorizations"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nl">"captures"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/captures"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nl">"reversals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/reversals"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nl">"cancellations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/cancellations"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nl">"urls"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/urls"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nl">"payeeInfo"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/payeeInfo"</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>
    
      <h2 id="payout">
        
        
          Payout <a href="#payout" class="header-anchor"></a>
        
        
      </h2>

<blockquote>
  <p>“Payout to Card” is an add-on service that enable you to deposit winnings
  directly to your end-users’ credit cards. This without  the need to collect
  card details from the end-user a second time.</p>
</blockquote>
    
      <h3 id="introduction">
        
        
          Introduction <a href="#introduction" class="header-anchor"></a>
        
        
      </h3>

<ul>
  <li>Acquirer for this service is Swedbank. You require a separate Swedbank
acquiring number to ensure that payout transactions and regular card
transactions are kept separate.</li>
  <li>You need to have the 3-D Secure protocol enabled.</li>
  <li>The service is available through a Swedbank Pay hosted payment page.</li>
  <li>The current implementation is only available for gaming transactions (
<a href="https://en.wikipedia.org/wiki/Merchant_category_code">MCC</a>: 7995).</li>
  <li>The payout service is not a part of Swedbank Pay Settlement Service.</li>
</ul>
    
      <h3 id="api-requests">
        
        
          API requests <a href="#api-requests" class="header-anchor"></a>
        
        
      </h3>

<p>The API requests are displayed in the <a href="#payout-flow">payout flow</a>.  You create
a payout by performing a <code class="language-html highlighter-rouge">POST</code> creditcard payments with key <code class="language-html highlighter-rouge">operation</code> set to
<code class="language-html highlighter-rouge">payout</code>.</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre></td><td class="rouge-code"><pre><span class="nf">POST</span> <span class="nn">/psp/creditcard/payments</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Payout"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"intent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AutoCapture"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"paymentToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Payout"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nb-NO"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"callbackUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-callback"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payeeInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"payeeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5cabf558-5283-482f-b252-4d58e06f6f3b"</span><span class="w">
            </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CD1234"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payeeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Merchant1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"productCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"or-12456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subsite"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MySubsite"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p class="code-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre></td><td class="rouge-code"><pre><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234567890</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T13:21:29.3182115Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T13:21:57.6627579Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ready"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Payout"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOK"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remainingCaptureAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remainingCancellationAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remainingReversalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Recurrence"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"initiatingSystemUserAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PostmanRuntime/3.0.1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0..."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nb-NO"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"paymentToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/prices"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nl">"authorizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/authorizations"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nl">"captures"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/captures"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nl">"reversals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/reversals"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nl">"cancellations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/cancellations"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nl">"urls"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/urls"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nl">"payeeInfo"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/payeeInfo"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nl">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/settings"</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>
    
      <h3 id="payout-flow">
        
        
          Payout flow <a href="#payout-flow" class="header-anchor"></a>
        
        
      </h3>

<p>You must set <code class="language-html highlighter-rouge">Operation</code> to <code class="language-html highlighter-rouge">Payout</code> in the initial <code class="language-html highlighter-rouge">POST</code> request.</p>

<pre><code class="language-mermaid">sequenceDiagram
  activate Consumer
  Consumer-&gt;&gt;-Merchant: Start payout
  activate Merchant
  Merchant-&gt;&gt;-SwedbankPay: POST [Credit Card Payout]
  activate SwedbankPay
  SwedbankPay--&gt;&gt;-Merchant: Payment resource
  activate Merchant
  Merchant--&gt;&gt;-Consumer: Display Payout result
</code></pre>
    
      <h2 id="verify">
        
        
          Verify <a href="#verify" class="header-anchor"></a>
        
        
      </h2>

<p>The <code class="language-html highlighter-rouge">Verify</code> operation lets you post verification payments, which are used to
confirm validity of card information without reserving or charging any amount.</p>
    
      <h3 id="introduction-to-verify">
        
        
          Introduction to Verify <a href="#introduction-to-verify" class="header-anchor"></a>
        
        
      </h3>

<p>This option is commonly used when initiating a subsequent
<a href="#one-click-payments">One-click card payment</a> or a
<a href="#recur">recurring card payment</a> flow - where you do not want
to charge the consumer right away.</p>

<div class="alert  alert-informative">
    
        
            <i class="material-icons alert-icon">info</i>
        
    

    
        
            <p>Please note that all boolean credit card attributes involving rejection of
certain card types are optional and requires enabling on the contract with
Swedbank Pay.</p>
        
    
</div>
    
      <h3 id="verification-through-swedbank-pay-payments">
        
        
          Verification through Swedbank Pay Payments <a href="#verification-through-swedbank-pay-payments" class="header-anchor"></a>
        
        
      </h3>

<ul>
  <li>When properly set up in your merchant/webshop site and the payer initiates a
verification operation, you make a <code class="language-html highlighter-rouge">POST</code> request towards Swedbank Pay with
your Verify information. This will generate a payment object with a unique
<code class="language-html highlighter-rouge">paymentID</code>. You either receive a Redirect URL to a hosted page or a
JavaScript source in response.</li>
  <li>You need to <a href="/payments/card/redirect">redirect</a> the payer’s browser to that specified URL, or
embed the script source on your site to create a <a href="/payments/card/seamless-view">Hosted View</a> in
an <code class="language-html highlighter-rouge">iframe</code>; so that the payer can enter the credit card details in a secure
Swedbank Pay hosted environment.</li>
  <li>Swedbank Pay will handle 3-D Secure authentication when this is required.</li>
  <li>Swedbank Pay will redirect the payer’s browser to - or display directly in the
<code class="language-html highlighter-rouge">iframe</code> - one of two specified URLs, depending on whether the payment session
is followed through completely or cancelled beforehand. Please note that both
a successful and rejected payment reach completion, in contrast to a cancelled
payment.</li>
  <li>When you detect that the payer reach your completeUrl , you need to do a <code class="language-html highlighter-rouge">GET</code>
request to receive the state of the transaction.</li>
  <li>Finally you will make a <code class="language-html highlighter-rouge">GET</code> request towards Swedbank Pay with the
<code class="language-html highlighter-rouge">paymentID</code> received in the first step, which will return the payment result
and a <code class="language-html highlighter-rouge">paymentToken</code> that can be used for subsequent <a href="#one-click-payments">One-Click
Payments</a> and <a href="#recur">recurring server-to-server based
payments</a>.</li>
</ul>
    
      <h3 id="screenshots">
        
        
          Screenshots <a href="#screenshots" class="header-anchor"></a>
        
        
      </h3>

<p>You will redirect the consumer/end-user to Swedbank Pay hosted pages to collect
the credit card information.</p>

<p><img src="/assets/img/payments/card-payment.png" alt="screenshot of the redirect card payment page" height="500px" width="425px" /></p>
    
      <h3 id="api-requests-1">
        
        
          API Requests <a href="#api-requests-1" class="header-anchor"></a>
        
        
      </h3>

<p>The API requests are displayed in the [Verification flow]. The options you can
choose from when creating a payment with key operation set to Value Verify are
listed below.</p>

<p>Please note that not including <code class="language-html highlighter-rouge">paymentUrl</code> in the request will generate a
<code class="language-html highlighter-rouge">redirect-verification</code> operation in the response, meant to be used in the
Redirect flow. Adding <code class="language-html highlighter-rouge">paymentUrl</code> input will generate the response meant for
Seamless View, which does not include the <code class="language-html highlighter-rouge">redirect-verification</code>. The request
below is the Redirect option.</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre></td><td class="rouge-code"><pre><span class="nf">POST</span> <span class="nn">/psp/creditcard/payments</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Verify"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Verification"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"payerReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AB1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0..."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nb-NO"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"generatePaymentToken"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"generateRecurrenceToken"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"hostUrls"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"https://example.com"</span><span class="p">,</span><span class="w"> </span><span class="s2">"https://example.net"</span><span class="p">],</span><span class="w">
            </span><span class="nl">"completeUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-completed"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cancelUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-canceled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"logoUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-logo.png"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"termsOfServiceUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-terms.html"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payeeInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"payeeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5cabf558-5283-482f-b252-4d58e06f6f3b"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CD1234"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payeeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Merchant1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"productCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"or-12456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subsite"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MySubsite"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"creditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"rejectCreditCards"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"rejectDebitCards"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"rejectConsumerCards"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"rejectCorporateCards"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p class="code-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
</pre></td><td class="rouge-code"><pre><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234567890</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T13:21:29.3182115Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T13:21:57.6627579Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Verify"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ready"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Verification"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"payerReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AB1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"initiatingSystemUserAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PostmanRuntime/3.0.1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nb-NO"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"verifications"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/verifications"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"urls"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/urls"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payeeInfo"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/payeeInfo"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/settings"</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"operations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"update-payment-abort"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PATCH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ecom.externalintegration.payex.com/creditcard/payments/verification/5a17c24e-d459-4567-bbad-aa0f17a76119"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"redirect-verification"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ecom.externalintegration.payex.com/creditcard/core/scripts/client/px.creditcard.client.js?token=5a17c24e-d459-4567-bbad-aa0f17a76119"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"view-verification"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/javascript"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ecom.externalintegration.payex.com/psp/creditcard/confined/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/verifications"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"direct-verification"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>
    
      <h3 id="verification-flow">
        
        
          Verification flow <a href="#verification-flow" class="header-anchor"></a>
        
        
      </h3>

<p>The sequence diagram below shows the two requests you have to send to Swedbank
Pay to make a purchase. The links will take you directly to the API description
for the specific request. The diagram also shows in high level, the sequence of
the process of a complete purchase.
When dealing with credit card payments, 3-D Secure authentication of the
cardholder is an essential topic. There are three alternative outcome of a
credit card payment:</p>

<ul>
  <li>3-D Secure enabled - by default, 3-D Secure should be enabled, and Swedbank
Pay will check if the card is enrolled with 3-D Secure. This depends on the
issuer of the card. If the card is not enrolled with 3-D Secure, no
authentication of the cardholder is done.</li>
  <li>Card supports 3-D Secure - if the card is enrolled with 3-D Secure, Swedbank
Pay will redirect the cardholder to the autentication mechanism that is
decided by the issuing bank. Normally this will be done using BankID or Mobile
BankID.</li>
</ul>

<pre><code class="language-mermaid">sequenceDiagram
    participant Payer
    participant Merchant
    participant SwedbankPay as Swedbank Pay
    participant IssuingBank

  activate Payer
  Payer-&gt;&gt;+Merchant: start verification
  deactivate Payer
  Merchant-&gt;&gt;+SwedbankPay: POST /psp/creditcard/payments(operation=VERIFY)
  deactivate Merchant
  note left of Payer: First API request
  SwedbankPay--&gt;+Merchant: payment resource
  deactivate SwedbankPay
  Merchant--&gt;&gt;+Payer: redirect to verification page
  deactivate Merchant
  Payer-&gt;&gt;+SwedbankPay: access verification page
  deactivate Payer
  note left of Payer: redirect to SwedbankPay&lt;br&gt;(If Redirect scenario)
  SwedbankPay--&gt;&gt;+Payer: display purchase information
  deactivate SwedbankPay

  Payer-&gt;&gt;Payer: input creditcard information
  Payer-&gt;&gt;+SwedbankPay: submit creditcard information
  deactivate Payer
  opt Card supports 3-D Secure
    SwedbankPay--&gt;&gt;Payer: redirect to IssuingBank
    deactivate SwedbankPay
    Payer-&gt;&gt;IssuingBank: 3-D Secure authentication process
    Payer-&gt;&gt;+SwedbankPay: access authentication page
    deactivate Payer
  end

  SwedbankPay--&gt;&gt;+Payer: redirect to merchant
  deactivate SwedbankPay
  note left of Payer: redirect back to merchant&lt;br&gt;(If Redirect scenario)

  Payer-&gt;&gt;+Merchant: access merchant page
  Merchant-&gt;&gt;+SwedbankPay: GET &lt;payment.id&gt;
  deactivate Merchant
  note left of Merchant: Second API request
  SwedbankPay--&gt;&gt;+Merchant: rel: redirect-authorization
  deactivate SwedbankPay
  Merchant--&gt;&gt;Payer: display purchase result
  deactivate Merchant

  opt Callback is set
    activate SwedbankPay
    SwedbankPay-&gt;&gt;SwedbankPay: Payment is updated
    SwedbankPay-&gt;&gt;Merchant: POST Payment Callback
    deactivate SwedbankPay
  end
</code></pre>
    
      <h2 id="one-click-payments">
        
        
          One-Click Payments <a href="#one-click-payments" class="header-anchor"></a>
        
        
      </h2>

<div class="jumbotron">
    <p>One-Click Payments utilize a previously
generated payment token to prefill payment details for credit card or
invoice payments pages - which means that the payer don’t need to enter
these details for every purchase.</p>

</div>
    
      <h3 id="introduction-1">
        
        
          Introduction <a href="#introduction-1" class="header-anchor"></a>
        
        
      </h3>

<p>For <a href="/payments/card">credit card</a> and <a href="/payments/invoice">financing invoice</a> payments the
payment flow and implementation varies from your default only being the
use of a <code class="language-html highlighter-rouge">paymentToken</code>.
The details in this section describe explicitly the parameters that must
be set to enable one-click purchases.</p>
    
      <h3 id="payment-url">
        
        
          Payment Url <a href="#payment-url" class="header-anchor"></a>
        
        
      </h3>

<p>For our Seamless Views, the field called <code class="language-html highlighter-rouge">paymentUrl</code> will be used when the
consumer is redirected out of the Seamless View (the <code class="language-html highlighter-rouge">iframe</code>). The consumer is
redirected out of frame when at the 3-D Secure verification for credit card payments.</p>

<p>The URL should represent the page of where the Payment Seamless View was
hosted originally, such as the checkout page, shopping cart page, or similar.
Basically, <code class="language-html highlighter-rouge">paymentUrl</code> should be set to the same URL as that of the page where
the JavaScript for the Seamless View was added to in order to initiate the
payment process.</p>

<div class="alert  alert-informative">
    
        
            <i class="material-icons alert-icon">info</i>
        
    

    
        
            <p>Please note that the <code class="language-html highlighter-rouge">paymentUrl</code> must be able to invoke the same JavaScript URL
from the same Payment as the one that initiated the payment process
originally, so it should include some sort of state identifier in the URL. The
state identifier is the ID of the order, shopping cart or similar that has the
URL of the Payment stored.</p>
        
    
</div>

<p>With <code class="language-html highlighter-rouge">paymentUrl</code> in place, the retry process becomes much more convenient for
both the integration and the payer.</p>

<p><code class="language-html highlighter-rouge">paymentUrl</code> is used by the Seamless View flow and <strong>must</strong> be used for
WebView-based app implementations. Some payment instruments only work when
owning the full browser page (no use of <code class="language-html highlighter-rouge"><span class="nt">&lt;iframe&gt;</span></code>), this will be solved by
doing a full browser (top frame) redirect out of the Seamless View. 3-D Secure
requires this, for example.</p>

<p>For mobile flows, some payment instruments work best when app-to-app switching
is enabled and handled automatically (Swish, Vipps etc). To solve this, it is
important that the third party app or site understand where to redirect the
consumer back to after the flow on their end is completed.</p>

<p>The <code class="language-html highlighter-rouge">paymentUrl</code> is the URL Swedbank Pay will provide to the third party for
handling the redirect back to your site or app. When receiving the consumer back
on the <code class="language-html highlighter-rouge">paymentUrl</code> either in an app or web page it is important to restore the
Seamless View to let the payment finalize the flow. For in-app it is important
that you either implement the <code class="language-html highlighter-rouge">onPaymentCompleted</code> event or let the Seamless
View redirect to the <code class="language-html highlighter-rouge">completeUrl</code> before intercepting the WebView. If you
intercept the WebView when the consumer device is redirected to the <code class="language-html highlighter-rouge">paymentUrl</code>
it can lead to issues. If you want to handle payment errors in your own code,
you should also subscribe to other events provided by the Seamless View
JavaScript and shut down the Seamless View if any of these events occur.</p>

<p>Events to subscribe to for full control over the payment flow are:</p>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Event</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">onError</code></td>
      <td style="text-align: left">Will trigger any time a system error occur from the JavaScript.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">onPaymentFailed</code></td>
      <td style="text-align: left">will call registrered endpoint if provided. If not subscribed to will redirect to conpleteUrl</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">onPaymentCanceled</code></td>
      <td style="text-align: left">will be called if the payment is aborted by the consumer or triggered by you with the Abort command on the payment</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">onPaymentTransactionFailed</code></td>
      <td style="text-align: left">this will trigger if one payment attempt failed. Standard functionality are to let the consumer be able to retry the payment from the payment page.</td>
    </tr>
  </tbody>
</table>

<p>When implementing the Seamless View flow into a WebView in your mobile app, you
should use a <a href="https://developer.apple.com/documentation/uikit/inter-process_communication/allowing_apps_and_websites_to_link_to_your_content/defining_a_custom_url_scheme_for_your_app">custom scheme</a> or <a href="https://developer.apple.com/ios/universal-links/">Universal Link</a>
in the <code class="language-html highlighter-rouge">paymentUrl</code> for handling automatic switching between your app and the
payment app on the mobile device.</p>
    
      <h3 id="api-requests-to-generate-paymenttoken">
        
        
          API Requests To Generate paymentToken <a href="#api-requests-to-generate-paymenttoken" class="header-anchor"></a>
        
        
      </h3>

<p>When making the initial purchase request, you need to generate a <code class="language-html highlighter-rouge">paymentToken</code>.
You can do this either by by setting the <code class="language-html highlighter-rouge">generatePaymentToken</code> field to
<code class="language-html highlighter-rouge">true</code> (see example below) when doing a card purchase, or set the initial
operation to <a href="#verify"><code class="language-html highlighter-rouge">Verify</code></a>.</p>

<p class="code-header"><strong><code class="language-html highlighter-rouge">generatePaymentToken</code> field</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="p">{</span>
    <span class="dl">"</span><span class="s2">generatePaymentToken</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
    
      <h3 id="finding-paymenttoken-value">
        
        
          Finding paymentToken value <a href="#finding-paymenttoken-value" class="header-anchor"></a>
        
        
      </h3>

<p>When the initial purchase is followed through, a <code class="language-html highlighter-rouge">paymentToken</code> will linked to
the payment.  You can return the value by making a <code class="language-html highlighter-rouge">GET</code> request towards payment
resource (expanding either the authorizations or verifications sub-resource),
after the consumer successfully has completed the purchase. The two examples are
provided below.</p>

<p class="code-header"><strong>Request Towards Authorizations Resource</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="nf">GET</span> <span class="nn">/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/authorizations</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p class="code-header"><strong>Request Towards Verifications Resource</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="nf">GET</span> <span class="nn">/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/verifications</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>You need to store the <code class="language-html highlighter-rouge">paymentToken</code> from the response in your system and keep
track of the corresponding consumer-ID in your system.</p>
    
      <h3 id="returning-purchases">
        
        
          Returning Purchases <a href="#returning-purchases" class="header-anchor"></a>
        
        
      </h3>

<p>When a known consumer (where you have attained a consumer-ID or similar) returns
to your system, you can use the payment token, using already stored payment
data, to initiate one-click payments. You will need to make a standard
purchase, following the sequence as specified in the Redirect or Seamless View
scenarios for <a href="/payments/card">credit card</a> and <a href="/payments/invoice">financing invoice</a>. When making
the first <code class="language-html highlighter-rouge">POST</code> request you insert the <code class="language-html highlighter-rouge">paymentToken</code> field. This must be
the <code class="language-html highlighter-rouge">paymentToken</code> you received in the initial purchase, where you specified the
<code class="language-html highlighter-rouge">generatePaymentToken</code> to <code class="language-html highlighter-rouge">true</code>.</p>

<p>See the Other Feature sections for how to create a <a href="/payments/card/other-features#create-payment">card</a>
and <a href="/payments/invoice/other-features#create-payment">invoice</a> payment.</p>

<p>Abbreviated code example:</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="nf">POST</span> <span class="nn">/psp/creditcard/payments</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"intent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Authorization"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"paymentToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5a17c24e-d459-4567-bbad-aa0f17a76119"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"creditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"noCVC"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: center">Required</th>
      <th>Field</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><i class="material-icons">check</i></td>
      <td><code class="language-html highlighter-rouge">payment</code></td>
      <td><code class="language-html highlighter-rouge">object</code></td>
      <td>The <code class="language-html highlighter-rouge">payment</code> object.</td>
    </tr>
    <tr>
      <td style="text-align: center"><i class="material-icons">check</i></td>
      <td>└➔ <code class="language-html highlighter-rouge">operation</code></td>
      <td><code class="language-html highlighter-rouge">string</code></td>
      <td>Determines the initial operation, that defines the type card payment created.<br /> <br /> <code class="language-html highlighter-rouge">Purchase</code>. Used to charge a card. It is followed up by a capture or cancel operation.<br /> <br /> <code class="language-html highlighter-rouge">Recur</code>.Used to charge a card on a recurring basis. Is followed up by a capture or cancel operation (if not Autocapture is used, that is).<br /> <br /><code class="language-html highlighter-rouge">Payout</code>. Used to deposit funds directly to credit card. No more requests are necessary from the merchant side.<br /> <br /><code class="language-html highlighter-rouge">Verify</code>. Used when authorizing a card withouth reserveing any funds.  It is followed up by a verification transaction.</td>
    </tr>
    <tr>
      <td style="text-align: center"><i class="material-icons">check</i></td>
      <td>└➔ <code class="language-html highlighter-rouge">intent</code></td>
      <td><code class="language-html highlighter-rouge">string</code></td>
      <td>The intent of the payment identifies how and when the charge will be effectuated. This determine the type transactions used during the payment process.<br /> <br /><code class="language-html highlighter-rouge">Authorization</code>. Reserves the amount, and is followed by a <a href="/payments/card/after-payment#cancellations">cancellation</a> or <a href="/payments/card/capture">capture</a> of funds.<br /> <br /><code class="language-html highlighter-rouge">AutoCapture</code>. A one phase-option that enable capture of funds automatically after authorization.</td>
    </tr>
    <tr>
      <td style="text-align: center"><i class="material-icons">check</i></td>
      <td>└➔ <code class="language-html highlighter-rouge">paymentToken</code></td>
      <td><code class="language-html highlighter-rouge">string</code></td>
      <td>The <code class="language-html highlighter-rouge">paymentToken</code> value received in <code class="language-html highlighter-rouge">GET</code> response towards the Payment Resource is the same <code class="language-html highlighter-rouge">paymentToken</code> generated in the initial purchase request. The token allow you to use already stored card data to initiate one-click payments.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td>└➔ <code class="language-html highlighter-rouge">creditCard</code></td>
      <td><code class="language-html highlighter-rouge">object</code></td>
      <td>An object that holds different scenarios for card payments.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td>└─➔ <code class="language-html highlighter-rouge">noCvc</code></td>
      <td><code class="language-html highlighter-rouge">boolean</code></td>
      <td><code class="language-html highlighter-rouge">true</code> if the CVC field should be disabled for this payment in the case a stored card is used; otherwise <code class="language-html highlighter-rouge">false</code> per default. To use this feature it has to be enabled on the contract with Swedbank Pay.</td>
    </tr>
  </tbody>
</table>

<div class="alert  alert-informative">
    
        
            <i class="material-icons alert-icon">info</i>
        
    

    
        
            <p>When redirecting to Swedbank Pay the payment page will be
prefilled with the payer’s card details. See example below.</p>
        
    
</div>

<p><img src="/assets/img/checkout/one-click.png" alt="One click payment page" height="450px" width="425px" /></p>
    
      <h3 id="delete-payment-token">
        
        
          Delete payment token <a href="#delete-payment-token" class="header-anchor"></a>
        
        
      </h3>

<p>If you, for any reason, need to delete a <code class="language-html highlighter-rouge">paymentToken</code>
you use the <code class="language-html highlighter-rouge">Delete payment token</code> request.</p>

<div class="alert  alert-warning">
    
        
            <i class="material-icons alert-icon">warning</i>
        
    

    
        
            <p>Please note that this call does not erase the card
  number stored at Swedbank Pay.
  A card number is automatically deleted six months after a successful
  <code class="language-html highlighter-rouge">Deletepayment token</code> request.
  If you want card information removed at an earlier date, you need to contact
  <a href="mailto:ehandelsetup@swedbankpay.dk">ehandelsetup@swedbankpay.dk</a>,
  <a href="mailto:verkkokauppa.setup@swedbankpay.fi">verkkokauppa.setup@swedbankpay.fi</a>,
  <a href="mailto:ehandelsetup@swedbankpay.no">ehandelsetup@swedbankpay.no</a> or
  <a href="mailto:ehandelsetup@swedbankpay.se">ehandelsetup@swedbankpay.se</a>;
  and supply them with the relevant transaction reference or payment token.</p>
        
    
</div>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="nf">PATCH</span> <span class="nn">/psp/creditcard/payments/instrumentData/5a17c24e-d459-4567-bbad-aa0f17a76119</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Deleted"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tokenType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PaymentToken"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comment on why the deletion is happening"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p class="code-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"instrumentData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/instrumentdata/5a17c24e-d459-4567-bbad-aa0f17a76119"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"paymentToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5a17c24e-d459-4567-bbad-aa0f17a76119"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"payeeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5cabf558-5283-482f-b252-4d58e06f6f3b"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"isDeleted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"isPayeeToken"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cardBrand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maskedPan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456xxxxxx1111"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"expiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MM/YYYY"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>
    <hr />
      <h2 id="callback">
        
        
          Callback <a href="#callback" class="header-anchor"></a>
        
        
      </h2>

<p>When a change or update from the back-end system are made on a payment or
transaction, Swedbank Pay will perform a callback to inform the payee (merchant)
about this update.</p>

<p>Providing a <code class="language-html highlighter-rouge">callbackUrl</code> in <code class="language-html highlighter-rouge">POST</code> requests is <strong>mandatory</strong>. Below we provide
three example scenarios of why this is important:</p>

<ol>
  <li>If the payer closes the payment window, the merchant will never know what
 happened to the payment if <code class="language-html highlighter-rouge">callbackUrl</code> is not implemented.</li>
  <li>If the payer stops up in a payment app such as Vipps or Swish, the payer
 will never come back to the merchant. This means that the merchant won’t know what
 happened to the payment unless <code class="language-html highlighter-rouge">callbackUrl</code> is implemented.</li>
  <li>If a payer experiences a network error or something else happens that
prevents the payer from being redirected from Swedbank Pay back to the
merchant website, the <code class="language-html highlighter-rouge">callbackUrl</code> is what ensures that you receive the
information about what happened with the payment.</li>
</ol>

<ul>
  <li>When a change or update from the back-end system are made on a payment or
transaction, Swedbank Pay will perform an asynchronous server-to-server
callback to inform the payee (merchant) about this update.</li>
  <li>Swedbank Pay will make an HTTP <code class="language-html highlighter-rouge">POST</code> to the <code class="language-html highlighter-rouge">callbackUrl</code> that was specified
when the payee (merchant) created the payment.</li>
  <li>When the <code class="language-html highlighter-rouge">callbackUrl</code> receives such a callback, an <code class="language-html highlighter-rouge">HTTP</code> <code class="language-html highlighter-rouge">GET</code> request must
be made on the payment or on the transaction. The retrieved payment or
transaction resource will give you the necessary information about the recent
change/update.</li>
  <li>The callback will be retried if it fails. Below are the retry timings, in
seconds from the initial transaction time:
    <ul>
      <li>30 seconds</li>
      <li>60 seconds</li>
      <li>360 seconds</li>
      <li>432 seconds</li>
      <li>864 seconds</li>
      <li>1265 seconds</li>
    </ul>
  </li>
  <li>The callback is sent from the following IP address: <code class="language-html highlighter-rouge">82.115.146.1</code></li>
  <li>A callback should return a <code class="language-html highlighter-rouge">200 OK</code> response.</li>
</ul>

<p class="code-header"><strong>Payment Instrument Callback</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="p">{</span>
    <span class="dl">"</span><span class="s2">payment</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">number</span><span class="dl">"</span><span class="p">:</span> <span class="mi">222222222</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">transaction</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/&lt;transaction type&gt;/ec2a9b09-601a-42ae-8e33-a5737e1cf177</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">number</span><span class="dl">"</span><span class="p">:</span> <span class="mi">333333333</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Parameter</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge"><span class="nt">&lt;transaction</span> <span class="na">type</span><span class="nt">&gt;</span></code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">authorizations</code>, <code class="language-html highlighter-rouge">captures</code>, <code class="language-html highlighter-rouge">cancellations</code>, <code class="language-html highlighter-rouge">reversals</code></td>
    </tr>
  </tbody>
</table>

<p>The sequence diagram below shows the HTTP <code class="language-html highlighter-rouge">POST</code> you will receive from Swedbank
Pay, and the two <code class="language-html highlighter-rouge">GET</code> requests that you make to get the updated status.</p>

<pre><code class="language-mermaid">sequenceDiagram
    Participant Merchant
    Participant SwedbankPay as Swedbank Pay

    activate SwedbankPay
    SwedbankPay-&gt;&gt;+Merchant: POST &lt;callbackUrl&gt;
    deactivate SwedbankPay
    note left of Merchant: Callback by Swedbank Pay
    Merchant--&gt;&gt;+SwedbankPay: HTTP response
    Merchant-&gt;&gt;+SwedbankPay: GET creditcard payment
    deactivate Merchant
    note left of Merchant: First API request
    SwedbankPay--&gt;&gt;+Merchant: payment resource
    deactivate SwedbankPay
</code></pre>
    
      <h2 id="payment-link">
        
        
          Payment Link <a href="#payment-link" class="header-anchor"></a>
        
        
      </h2>

<div class="jumbotron">
    <p>The implementation sequence for this scenario
is a variant of the purchase sequence. The consumer is not redirected to the
Payments directly but will instead receive a payment link via mail/SMS.
When the consumer clicks on the link, a payment window opens.</p>

</div>
    
      <h3 id="introduction-2">
        
        
          Introduction <a href="#introduction-2" class="header-anchor"></a>
        
        
      </h3>

<p>The Payment Link can be implemented for payment instruments listed below, using the
Redirect platform and Swedbank Pay hosted payment page.</p>

<ul>
  <li><a href="/payments/card/">Credit card</a></li>
  <li><a href="/payments/mobile-pay/">MobilePay</a></li>
  <li><a href="/payments/swish">Swish</a></li>
  <li><a href="/payments/vipps">Vipps</a></li>
</ul>

<p>When the consumer/end-user starts the purchase process in your merchant or
webshop site, you need to make a <code class="language-html highlighter-rouge">POST</code> request towards Swedbank Pay with your
<em>Purchase</em> information. You receive a Payment Link (same as redirect URL) in
response.</p>

<p>You have to distribute the Payment Link to the consumer through your order
system, using channels like e-mail or SMS.</p>

<div class="alert  alert-informative">
    
        
            <i class="material-icons alert-icon">info</i>
        
    

    
        
            <p>When sending information
in e-mail/SMS, it is strongly recommended that you add information about your
terms and conditions, including purchase information and price. <strong>See
recommendations in the next section.</strong></p>
        
    
</div>

<p>When the consumer clicks on the Payment Link, the Swedbank Pay payment page will
open, letting the consumer enter the payment details (varying depending on
payment instrument) in a secure Swedbank Pay hosted environment.</p>

<p>When paying with credit card and if required, Swedbank Pay will handle 3-D
Secure authentication.</p>

<p>After completion, Swedbank Pay will redirect the browser back to your
merchant/webshop site.</p>

<p>If <a href="#callback"><code class="language-html highlighter-rouge">callbackURL</code></a> is set the merchant system
will receive a callback from Swedbank Pay, enabling you to make a <code class="language-html highlighter-rouge">GET</code> request
towards Swedbank Pay with the <code class="language-html highlighter-rouge">id</code> of the payment received in the first step,
which will return the purchase result.</p>
    
      <h3 id="e-mail-and-sms-recommendations">
        
        
          E-mail And SMS Recommendations <a href="#e-mail-and-sms-recommendations" class="header-anchor"></a>
        
        
      </h3>

<p>When you as a merchant sends an e-mail or SMS to the consumer about the
Payment Link, it is recommended to include contextual information that help
the consumer understand what will happen when clicking on the Payment Link.
We recommend that you include following information:</p>

<ul>
  <li>The name of the merchant/shop that initiates the payment</li>
  <li>An understandable product description, describing what kind of service the
consumer will pay for.</li>
  <li>Some order-id (or similar) that exists in the merchant order system.</li>
  <li>The price and currency.</li>
  <li>Details about shipping method and expected delivery (if physical goods will be
sent  to the payer).</li>
  <li>Directions to (a link to a page) the merchant’s terms and conditions (such as
return policy) and information of how the consumer can contact the merchant.</li>
  <li>Details informing that the payer accepts the Terms &amp; Conditions
when clicking on the Payment Link.</li>
</ul>
    
      <h3 id="receipt-recommendations">
        
        
          Receipt Recommendations <a href="#receipt-recommendations" class="header-anchor"></a>
        
        
      </h3>

<p>We recommend that you send an e-mail or SMS confirmation with a receipt to
the consumer when the payment has been fulfilled.</p>
    
      <h3 id="api-requests-2">
        
        
          API Requests <a href="#api-requests-2" class="header-anchor"></a>
        
        
      </h3>

<p>The API requests depend on the payment instrument you are using when
implementing the Payment Link scenario, see <a href="/payments/card/#purchase-flow">purchase flow</a>.
One-phase payment instruments will not implement <code class="language-html highlighter-rouge">capture</code>, <code class="language-html highlighter-rouge">cancellation</code> or
<code class="language-html highlighter-rouge">reversal</code>.
The options you can choose from when creating a payment with key <code class="language-html highlighter-rouge">operation</code>
set to <code class="language-html highlighter-rouge">Purchase</code> are listed below.</p>
    
      <h3 id="screenshots-1">
        
        
          Screenshots <a href="#screenshots-1" class="header-anchor"></a>
        
        
      </h3>

<p>When clicking the payment link, the consumer will be directed to a payment
page, similar to the examples below, where payment information can be entered.</p>

<p><img src="/assets/img/payments/card-payment.png" alt="screenshot of the redirect card payment page" height="500px" width="425px" /></p>
    
      <h3 id="options">
        
        
          Options <a href="#options" class="header-anchor"></a>
        
        
      </h3>

<p>All valid options when posting in a payment with operation <code class="language-html highlighter-rouge">Purchase</code>,
are described in each payment instrument’s respective API reference.
Please see the general sequence diagrams for more information about payments
in one-phase (e.g. <a href="/payments/swish">Swish</a> and credit card with autocapture) and
two-phase (e.g. <a href="/payments/card">Credit card</a>, <a href="/payments/mobile-pay">MobilePay</a>,
<a href="/payments/vipps">Vipps</a>).</p>
    
      <h4 id="authorization">
        
        
          Authorization <a href="#authorization" class="header-anchor"></a>
        
        
      </h4>

<p>When using two-phase flows you reserve the amount with an authorization, you
will have to specify that the <em>intent</em> of the <em>purchase</em> is <code class="language-html highlighter-rouge">Authorize</code>. The
amount will be reserved but not charged. You will later (i.e. when you are ready
to ship the purchased products) have to make a <code class="language-html highlighter-rouge">Capture</code> or <code class="language-html highlighter-rouge">Cancel</code> request.</p>
    
      <h4 id="capture">
        
        
          Capture <a href="#capture" class="header-anchor"></a>
        
        
      </h4>

<p>Capture can only be performed on a payment with a successfully authorized
transaction. It is possible to do a part-capture where you only capture a
smaller amount than the authorized amount. You can later do more captures on the
same payment up to the total authorization amount.</p>

<p>If you want the credit card to be charged right away, you will have to specify
that the <em>intent</em> of the purchase is <code class="language-html highlighter-rouge">AutoCapture</code>. The credit card will be
charged and you don’t need to do any more financial operations to this purchase.</p>
    
      <h4 id="cancel">
        
        
          Cancel <a href="#cancel" class="header-anchor"></a>
        
        
      </h4>

<p>Cancel can only be done on a authorized transaction. If you do cancel after
doing a part-capture you will cancel the difference between the captured amount
and the authorized amount.</p>
    
      <h4 id="reversal">
        
        
          Reversal <a href="#reversal" class="header-anchor"></a>
        
        
      </h4>

<p>Reversal can only be done on a payment where there are some captured amount not
yet reversed.</p>
    
      <h4 id="general">
        
        
          General <a href="#general" class="header-anchor"></a>
        
        
      </h4>

<p>When implementing the Payment Link scenario, it is optional to set a
<a href="#callback"><code class="language-html highlighter-rouge">callbackURL</code></a> in the <code class="language-html highlighter-rouge">POST</code> request. If
callbackURL is set Swedbank Pay will send a request to this URL when the
consumer as fulfilled the payment. <a href="#callback">See the Callback API description
here</a>.</p>
    
      <h3 id="purchase-flow">
        
        
          Purchase flow <a href="#purchase-flow" class="header-anchor"></a>
        
        
      </h3>

<p>The sequence diagrams display the high level process of the purchase, from
generating a Payment Link to receiving a Callback.</p>

<p>This in a generalized flow as
well as a specific 3-D Secure enabled credit card scenario.</p>

<div class="alert  alert-informative">
    
        
            <i class="material-icons alert-icon">info</i>
        
    

    
        
            <p>Please note that the the callback may come either before, after or in the
same moment as the consumer are being redirected to the status page at the
merchant site when the purchase is fulfilled. Don’t rely on the callback being
timed at any specific moment.</p>
        
    
</div>

<p>When dealing with credit card payments, 3-D Secure authentication of the
cardholder is an essential topic.
There are three alternative outcome of a credit card payment:</p>

<ul>
  <li>3-D Secure enabled - by default, 3-D Secure should be enabled,
and Swedbank Pay will check if the card is enrolled with 3-D Secure.
This depends on the issuer of the card.
If the card is not enrolled with 3-D Secure,
no authentication of the cardholder is done.</li>
  <li>Card supports 3-D Secure - if the card is enrolled with 3-D Secure,
Swedbank Pay will redirect the cardholder to the autentication mechanism
that is decided by the issuing bank.
Normally this will be done using BankID or Mobile BankID.</li>
</ul>

<pre><code class="language-mermaid">sequenceDiagram
    activate Consumer
    Consumer-&gt;&gt;-MerchantOrderSystem: consumer starts purchase
    activate MerchantOrderSystem
    MerchantOrderSystem-&gt;&gt;-Merchant: start purchase process
    activate Merchant
    Merchant-&gt;&gt;-SwedbankPay: POST [payment] (operation=PURCHASE)
    activate SwedbankPay
    note left of Merchant: First API request
    SwedbankPay--&gt;&gt;-Merchant: payment resource with payment URL
    activate Merchant
    Merchant--&gt;&gt;-MerchantOrderSystem: Payment URL sent to order system
    activate MerchantOrderSystem
    MerchantOrderSystem--&gt;&gt;-Consumer: Distribute Payment URL through e-mail/SMS
    activate Consumer
    note left of Consumer: Payment Link in e-mail/SMS
    Consumer-&gt;&gt;-SwedbankPay: Open link and enter payment information
    activate SwedbankPay

    
        opt Card supports 3-D Secure
        SwedbankPay--&gt;&gt;-Consumer: redirect to IssuingBank
        activate Consumer
        Consumer-&gt;&gt;IssuingBank: 3-D Secure authentication process
        Consumer-&gt;&gt;-SwedbankPay: access authentication page
        activate SwedbankPay
        end
    

    SwedbankPay--&gt;&gt;-Consumer: redirect to merchant site
    activate Consumer
    note left of SwedbankPay: redirect back to merchant
    Consumer-&gt;&gt;-Merchant: access merchant page
    activate Merchant
    Merchant-&gt;&gt;-SwedbankPay: GET [payment]
    activate SwedbankPay
    note left of Merchant: Second API request
    SwedbankPay--&gt;&gt;-Merchant: payment resource
    activate Merchant
    Merchant--&gt;&gt;-Consumer: display purchase result
</code></pre>
    
      <h4 id="options-after-posting-a-payment">
        
        
          Options after posting a payment <a href="#options-after-posting-a-payment" class="header-anchor"></a>
        
        
      </h4>

<ul>
  <li>If the payment enable a two-phase flow (<code class="language-html highlighter-rouge">Authorize</code>),
you will need to implement the <code class="language-html highlighter-rouge">Capture</code> and <code class="language-html highlighter-rouge">Cancel</code> requests.</li>
  <li>It is possible to “abort” the validity of the Payment Link.
<a href="/payments/card/after-payment#abort">See the Abort description here</a>.</li>
  <li>For reversals, you will need to implement the <code class="language-html highlighter-rouge">Reversal</code> request.</li>
  <li>When implementing the Payment Link scenario, it is optional to set a
<code class="language-html highlighter-rouge">callbackURL</code> in the <code class="language-html highlighter-rouge">POST</code> request.
If <code class="language-html highlighter-rouge">callbackURL</code> is set Swedbank Pay will send a postback request to this
URL when the consumer as fulfilled the payment.
<a href="#callback">See the Callback API description here</a>.</li>
</ul>
    
      <h3 id="create-authorization-transaction">
        
        
          Create authorization transaction <a href="#create-authorization-transaction" class="header-anchor"></a>
        
        
      </h3>

<p>The <code class="language-html highlighter-rouge">direct-authorization</code> operation creates an authorization transaction
directly whilst the <code class="language-html highlighter-rouge">redirect-authorization</code> operation redirects the consumer to
a Swedbank Pay hosted payment page, where the payment is authorized by the
consumer.</p>

<div class="alert alert-complex alert-warning">
    <header class="alert-header">
            
                <i class="material-icons alert-icon">warning</i>
      <h3>
        
        
          PCI-DSS Complicance
        
        
      </header>
    

    
        
            <div class="alert-body">
                <p>In order to use the <code class="language-html highlighter-rouge">direct-authorization</code> operation, you need to collect
card data on your website, which means it must be <a href="https://www.pcisecuritystandards.org/">PCI-DSS
Compliant</a>.</p>
            </div>
        
    
</div>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
</pre></td><td class="rouge-code"><pre><span class="nf">POST</span> <span class="nn">/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/authorizations</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"intent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Authorization"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"payerReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AB1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nb-NO"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"hostUrls"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"https://example.com"</span><span class="p">,</span><span class="w"> </span><span class="s2">"https://example.net"</span><span class="w"> </span><span class="p">],</span><span class="w">
            </span><span class="nl">"completeUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-completed"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cancelUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-canceled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"callbackUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-callback"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"logoUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-logo.png"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"termsOfServiceUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-terms.pdf"</span><span class="p">,</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payeeInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"payeeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5cabf558-5283-482f-b252-4d58e06f6f3b"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CD1234"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payeeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Merchant"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"productCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A123"</span><span class="w">
        </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: center">Required</th>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><i class="material-icons">check</i></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">transaction</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The transaction object.</td>
    </tr>
    <tr>
      <td style="text-align: center"><i class="material-icons">check</i></td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">cardNumber</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Primary Account Number (PAN) of the card, printed on the face of the card.</td>
    </tr>
    <tr>
      <td style="text-align: center"><i class="material-icons">check</i></td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">cardExpiryMonth</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">Expiry month of the card, printed on the face of the card.</td>
    </tr>
    <tr>
      <td style="text-align: center"><i class="material-icons">check</i></td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">cardExpiryYear</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">Expiry year of the card, printed on the face of the card.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">cardVerificationCode</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Card verification code (CVC/CVV/CVC2), usually printed on the back of the card.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">cardholderName</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Name of the card holder, usually printed on the face of the card.</td>
    </tr>
  </tbody>
</table>

<p><strong>Response</strong></p>

<p>The <code class="language-html highlighter-rouge">authorization</code> resource contains information about an authorization
transaction made towards a payment, as previously described.</p>
    
      <h2 id="payeeinfo">
        
        
          PayeeInfo <a href="#payeeinfo" class="header-anchor"></a>
        
        
      </h2>

<p>The <code class="language-html highlighter-rouge">payeeinfo</code> resource contains information about the payee (i.e. a merchant,
a corporation etc) related to a specific payment.</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="nf">GET</span> <span class="nn">/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/payeeInfo</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p class="code-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"payeeInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/payeeInfo"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"payeeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5cabf558-5283-482f-b252-4d58e06f6f3b"</span><span class="w">
        </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EN1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"payeeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TestMerchant1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"productCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EF1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"or-123456"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">payment</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">payment</code> resource this <code class="language-html highlighter-rouge">payeeInfo</code> belongs to..    Please read about <a href="/home/technical-information#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">payeeInfo</code> resource this <code class="language-html highlighter-rouge">payeeInfo</code> belongs to..    Please read about <a href="/home/technical-information#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">payeeId</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">This is the unique id that identifies this payee (like merchant) set by Swedbank Pay</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">payeeReference</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string(50)</code></td>
      <td style="text-align: left">A unique reference set by the merchant system. See below for details</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">payeeName</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The payee name (like merchant name) that will be displayed to consumer when redirected to Swedbank Pay.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">productCategory</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">A product category or number sent in from the payee/merchant. This is not validated by Swedbank Pay, but will be passed through the payment process and may be used in the settlement process. You therefore need to ensure that the value given here is valid in the settlement.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">orderReference</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string(50)</code></td>
      <td style="text-align: left">The order reference should reflect the order reference found in the merchant’s systems.</td>
    </tr>
  </tbody>
</table>
    
      <h2 id="payee-reference">
        
        
          Payee Reference <a href="#payee-reference" class="header-anchor"></a>
        
        
      </h2>

<p>The <code class="language-html highlighter-rouge">payeeReference</code> given when creating transactions and payments has some
specific processing rules depending on specifications in the contract.</p>

<ul>
  <li>It must be <strong>unique</strong> for every operation, used to ensure exactly-once
delivery of a transactional operation from the merchant system.</li>
  <li>Its length and content validation is dependent on whether the
<code class="language-html highlighter-rouge">transaction.number</code> or the <code class="language-html highlighter-rouge">payeeReference</code> is sent to the acquirer.
    <ol>
      <li>If you select <em>Option A</em> in the settlement process (Swedbank Pay will
handle the settlement), Swedbank Pay will send the <code class="language-html highlighter-rouge">transaction.number</code> to
the acquirer and the <code class="language-html highlighter-rouge">payeeReference</code> must be in the format of characters
<code class="language-html highlighter-rouge">A-Za-z0-9</code> (including <code class="language-html highlighter-rouge">-</code>) and <code class="language-html highlighter-rouge">string(30)</code>.</li>
      <li>If you select <em>Option B</em> in the settlement process (you will handle the
settlement yourself), Swedbank Pay will send the <code class="language-html highlighter-rouge">payeeReference</code> to the
acquirer and it will be limited to the format of <code class="language-html highlighter-rouge">string(12)</code> and all
characters <strong>must be digits</strong>.</li>
    </ol>
  </li>
</ul>
    
      <h2 id="prices">
        
        
          Prices <a href="#prices" class="header-anchor"></a>
        
        
      </h2>

<p>The <code class="language-html highlighter-rouge">prices</code> resource lists the prices related to a specific payment.</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="nf">GET</span> <span class="nn">/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/prices/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p class="code-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/prices"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"priceList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VISA"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2350</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MasterCard"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2350</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">payment</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">payment</code> resource this <code class="language-html highlighter-rouge">prices</code> belongs to..    Please read about <a href="/home/technical-information#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">prices</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The <code class="language-html highlighter-rouge">prices</code>  resource.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">prices</code> resource this <code class="language-html highlighter-rouge">prices</code> belongs to..    Please read about <a href="/home/technical-information#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">priceList</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of price objects. <strong>Note:</strong> Even if you specifiy  <code class="language-html highlighter-rouge">CreditCard</code>  in the input message the system will return all your configured card brands instead when you expan the priceList.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">type</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The type of the price object.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">amount</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">The amount (including VAT, if any) to charge the payer, entered in the lowest monetary unit of the selected currency. E.g.: <strong><code class="language-html highlighter-rouge">10000</code></strong> = <code class="language-html highlighter-rouge">100.00</code> SEK, <strong><code class="language-html highlighter-rouge">5000</code></strong> = <code class="language-html highlighter-rouge">50.00</code> SEK.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">vatAmount</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">The amount of VAT to charge the payer, entered in the lowest monetary unit ofthe selected currency. E.g.: <strong><code class="language-html highlighter-rouge">10000</code></strong> = <code class="language-html highlighter-rouge">100.00</code> SEK, <strong><code class="language-html highlighter-rouge">5000</code></strong> = <code class="language-html highlighter-rouge">50.00</code> SEK. If the <code class="language-html highlighter-rouge">amount</code> given includes VAT, <code class="language-html highlighter-rouge">vatAmount</code> may be displayed for the user inthe payment page (redirect only). Set to <code class="language-html highlighter-rouge">0</code> (zero) if there is no VAT amount charged.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="prices-object-types">
        
        
          Prices Object Types <a href="#prices-object-types" class="header-anchor"></a>
        
        
      </h3>

<p>Each payment instrument have one or more prices object types. This is most
relevant when using card based payments as each type correspond
to a card brand or bank respectively.</p>
    
      <h4 id="card-payments">
        
        
          Card Payments <a href="#card-payments" class="header-anchor"></a>
        
        
      </h4>

<p>The generic type <code class="language-html highlighter-rouge">CreditCard</code> enables all card brands, supported by merchant
contract.</p>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Visa</code></td>
      <td style="text-align: left">Visa</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">MasterCard</code></td>
      <td style="text-align: left">MasterCard</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Amex</code></td>
      <td style="text-align: left">American Express</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Dankort</code></td>
      <td style="text-align: left">Dankort can only be used with DKK currency</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Diners</code></td>
      <td style="text-align: left">Diners Club</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Finax</code></td>
      <td style="text-align: left">Finax</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Jcb</code></td>
      <td style="text-align: left">JCB</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">IkanoFinansDK</code></td>
      <td style="text-align: left">Ikano Finans Denmark</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Maestro</code></td>
      <td style="text-align: left">MasterCard Maestro</td>
    </tr>
  </tbody>
</table>
    
      <h2 id="co-badge-card-choice-for-dankort">
        
        
          Co-badge Card Choice for Dankort <a href="#co-badge-card-choice-for-dankort" class="header-anchor"></a>
        
        
      </h2>

<p>Due to new <a href="https://ec.europa.eu/commission/presscorner/detail/en/MEMO_16_2162">EU regulations from 2016-06-09</a> regarding cards that have
more than one payment application, we have developed support for the end users
of Dankort to be able to choose their preferred payment application on the
Swedbank Pay payment page. If you are a Dankort user, read more about this
feature at <a href="https://www.dankort.dk/Pages/Dankort-eller-Visa.aspx">Dankort</a>.</p>

<p>As a merchant you are able to set a priority selection of payment application by
contacting <a href="https://www.swedbankpay.se/support">SwedbankPay Support</a>. The end user will always
be able to override this priority selection on the payment page.</p>

<p>If you want more information about Co-badge Card Choice for Dankort users please
contact <a href="https://www.swedbankpay.se/support">SwedankPay Support</a>. The example below shows the
payment window where there payer can choose between Dankort or Visa before
completing the payment.</p>

<p><img src="/assets/img/card-badge.png" alt="Co-badge Dankort cards with option to choose between Dankort and Visa before paying" height="500px" width="425px" /></p>
    
      <h2 id="settlement-and-reconciliation">
        
        
          Settlement and Reconciliation <a href="#settlement-and-reconciliation" class="header-anchor"></a>
        
        
      </h2>

<div class="jumbotron">
    <p>Reconciliation is an important step in an
economic transaction. When a payment is reconciled,  captured amounts for the
payment are matched against the corresponding settlement.</p>

</div>

<p>The information needed to reconcile captured funds - the balance report and
transactions list - are available for all merchants using Swedbank Pay. By default you
receive these files by e-mail, but it is also possible to get them via FTP
access. Contact <a href="mailto:omni.client@swedbankpay.se">omni.client@swedbankpay.se</a> for further
inquiries regarding this. The settlement frequency is defined in the agreement
and you will receive a report for each payout and/or invoice.</p>
    
      <h3 id="settlement">
        
        
          Settlement <a href="#settlement" class="header-anchor"></a>
        
        
      </h3>

<p>There are two main alternatives for settlement - either we handle the settlement
process for you, or you handle the process yourself :</p>
    
      <h4 id="swedbank-pay-handles-the-settlement-process">
        
        
          Swedbank Pay handles the settlement process <a href="#swedbank-pay-handles-the-settlement-process" class="header-anchor"></a>
        
        
      </h4>

<p>Swedbank Pay handles the settlement process on your behalf, (<em>called
“Redovisningsservice”</em>). Swedbank Pay transfers the net amount to you directly.</p>
    
      <h5 id="swedbank-pay-checkout">
        
        
          Swedbank Pay Checkout <a href="#swedbank-pay-checkout" class="header-anchor"></a>
        
        
      </h5>

<p>When choosing <a href="/checkout">Swedbank Pay Checkout</a> we always handle the
settlement process for you, gathering all your eCommerce payments in one place.
Straighforward and time efficient.</p>
    
      <h4 id="you-handle-the-settlement-process-yourself">
        
        
          You handle the settlement process yourself <a href="#you-handle-the-settlement-process-yourself" class="header-anchor"></a>
        
        
      </h4>

<p>If you will handle the settlement yourself, then Swedbank Pay will send you an
invoice with the relevant fees, in addition to the report and transactions
lists. Your acquirer will transfer settled funds to you.</p>
    
      <h4 id="balance-report">
        
        
          Balance Report <a href="#balance-report" class="header-anchor"></a>
        
        
      </h4>

<p>The Balance Report (a <em>.pdf file</em>) specifies the total sales for a specific
period, including fees and VAT. The report contains three parts: a payment
summary and specifications for sales and for fees.</p>
    
      <h5 id="payment-summary">
        
        
          Payment Summary <a href="#payment-summary" class="header-anchor"></a>
        
        
      </h5>

<p>Provides a summary of the <code class="language-html highlighter-rouge">Amount</code> sold, <code class="language-html highlighter-rouge">Fees</code> and <code class="language-html highlighter-rouge">VAT</code>. <strong>If Swedbank Pay
handles the settlement process</strong>, the <code class="language-html highlighter-rouge">Transfered</code><code class="language-html highlighter-rouge">amount</code> - shown in the
balance report summary is equivalent to the disbursement on the bank statement
(the remaining total amount after fees).</p>
    
      <h5 id="sales-specification">
        
        
          Sales specification <a href="#sales-specification" class="header-anchor"></a>
        
        
      </h5>

<p>Provides a specification over sales for the given period. The sales total is
specified per payment area (<code class="language-html highlighter-rouge">CreditCard</code>, <code class="language-html highlighter-rouge">Invoice</code>) and
underlying payment instruments. Each sales row specify Quantity, Sum sales and
Amount to pay out, the last one is only eligble <strong>if Swedbank Pay handles the
Settlement process</strong>.</p>
    
      <h5 id="fees-specification">
        
        
          Fees specification <a href="#fees-specification" class="header-anchor"></a>
        
        
      </h5>

<p>Provides a specification over fees for the given period. The fees total is
specified per payment area (<code class="language-html highlighter-rouge">CreditCard</code>, <code class="language-html highlighter-rouge">Invoice</code>) and
underlying payment instruments. Each fees row specify <code class="language-html highlighter-rouge">Quantity</code> (sales),
<code class="language-html highlighter-rouge">Amount</code> (sales), <code class="language-html highlighter-rouge">Unit price</code>, <code class="language-html highlighter-rouge">Provision</code> and <code class="language-html highlighter-rouge">fee Amount</code>. <strong>If you handle
the settlement process yourselves you will receive a separat invoice for fees</strong>.</p>
    
      <h4 id="transactions-list">
        
        
          Transactions List <a href="#transactions-list" class="header-anchor"></a>
        
        
      </h4>

<p>The Transaction List (provided in <code class="language-html highlighter-rouge">.xlsx</code> and <code class="language-html highlighter-rouge">.xml</code> formats) specifies all
transactions for a specific period, including a summary of transactions grouped
by payment instrument. Both formats contain the same information, but the xml
file is meant for computer processing while the excel workbook is meant for
human interaction.</p>

<p>The first row contains the name of the Swedbank Pay company (e.g. Swedbank Pay
Solutions AB) that the merchant has the contract with, and the balance report
number. The header fields contain a summary of the transactions displayed in the
body.</p>

<p class="code-header"><strong>Header fields</strong></p>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Prefix</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">String</code></td>
      <td style="text-align: left">The <code class="language-html highlighter-rouge">Prefix</code> used for transactions, only eligible if merchant uses prefix.</td>
    </tr>
    <tr>
      <td style="text-align: left">Currency</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">ISO 4217</code></td>
      <td style="text-align: left">Settlement currency (e.g. <code class="language-html highlighter-rouge">SEK, NOK, EUR</code>).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">ServiceType</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">String</code></td>
      <td style="text-align: left">The service type of the service used (e.g. <code class="language-html highlighter-rouge">Creditcard</code>).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Service</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">String</code></td>
      <td style="text-align: left">The service used (e.g. <code class="language-html highlighter-rouge">Creditcard</code>).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">NoOfDebet</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">Total number of debit transactions for the given service.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">NoOfCredit</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">Total number of credit transactions for the given service.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Amount</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">Total amount for the given service (e.g 100.00).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">FromDate</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">ISO 8601</code></td>
      <td style="text-align: left">The earlistest transaction date, <code class="language-html highlighter-rouge">YYYY-MM-DD</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">ToDate</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">ISO 8601</code></td>
      <td style="text-align: left">The latest transaction date, <code class="language-html highlighter-rouge">YYYY-MM-DD</code>.</td>
    </tr>
  </tbody>
</table>

<p class="code-header"><strong>Body fields</strong></p>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Swedbank Pay Batch Number</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">A batch number common to all types of transactions processed by Swedbank Pay.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Transaction Number</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">A unique identifier of the transaction, can be traced in Swedbank Pay Admin user interface.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Order id</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">String</code></td>
      <td style="text-align: left">A unique identifier of the order, as sent from the merchant to Swedbank Pay. Transactions that are related to the same order are associated with this ID.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Date Created</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">ISO 8601</code></td>
      <td style="text-align: left">Transaction capture date/time. YYYY-MM-DD hh:mm:ss.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Date Modified</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">ISO 8601</code></td>
      <td style="text-align: left">Transaction settle date/time. YYYY-MM-DD hh:mm:ss.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Provider</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">String</code></td>
      <td style="text-align: left">The service provider (e.g. Babs, Swedbank).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Type</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">String</code></td>
      <td style="text-align: left">The service type of the related transaction (e.g. <code class="language-html highlighter-rouge">Creditcard</code>).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Amount</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">Total amount of the related transaction (e.g 100.00).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Currency</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">ISO 4217</code></td>
      <td style="text-align: left">Settlement currency (e.g. <code class="language-html highlighter-rouge">SEK, NOK, EUR</code>).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Product Number</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">String</code></td>
      <td style="text-align: left">A product number, as sent by merchant to Swedbank Pay.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Description</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">String</code></td>
      <td style="text-align: left">A textual description of the transaction, as sent by merchant to Swedbank Pay.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">VAT Amount</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">VAT Amount for the given transaction (e.g 100.00).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">VAT Percentage</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">VAT Percentage for the given transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Credit Card Batch Number</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">The reference number from the credit card processor.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Reference</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">The transaction reference from processor.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Swedbank Pay Account Number</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">The Account number given, shown in Swedbank Pay admin.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Referenced Transaction Number</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">Transaction number for the Authoriation transaction for a two-stage transaction or the number of the debit transaction if it is a credit transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Sales Channel</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">String</code></td>
      <td style="text-align: left">The channel through which the transaction was sent to Swedbank Pay (e.g Transaction via eCommerce APIs).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Brand</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">String</code></td>
      <td style="text-align: left">If eligible, Branding information as sent by merchant to Swedbank Pay.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Point Of Sale</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">String</code></td>
      <td style="text-align: left">If eligible, POS information as sent by merchant to Swedbank Pay.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="reconciliation">
        
        
          Reconciliation <a href="#reconciliation" class="header-anchor"></a>
        
        
      </h3>

<p>To do the reconciliation, you need to match the information in your system
against the information provided by Swedbank Pay in the balance report and
transaction list. Below is a sequence diagram detailing the interaction.</p>

<pre><code class="language-mermaid">sequenceDiagram
    participant SwedbankPay as Swedbank Pay

    activate Merchant
    activate SwedbankPay
    Merchant--&gt;&gt;SwedbankPay: Online payment transactions
    deactivate Merchant

    deactivate SwedbankPay

    activate Merchant

    SwedbankPay-&gt;&gt;Merchant: Balance Report (PDF-file)
    note left of Merchant: files are sent by e-mail or file transfer
    SwedbankPay-&gt;&gt;Merchant: Transaction list (XLSX-file)
    SwedbankPay-&gt;&gt;Merchant: Transaction list (XML-file)
    deactivate Merchant
</code></pre>

<p><strong>There are two ways</strong> for you to match the information from your system with
the information given in the reconciliation files from Swedbank Pay:</p>

<ol>
  <li>You can use information <strong>generated by your</strong> system (you will have to set a
unique payeeReference when you make the transaction), or</li>
  <li>You can use the transaction number <strong>generated by Swedbank Pay</strong> (this is called
transaction number and is returned from Swedbank Pay after you have created
the transaction).</li>
</ol>

<p>A credit card transaction is made when you either make a capture or a reversal.
In the input data for making a capture, you will set the <code class="language-html highlighter-rouge">payeeReference</code>. The
unique value of this field is the same as the field called <code class="language-html highlighter-rouge">OrderID</code> in the
reconciliation file.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="p">{</span>
    <span class="dl">"</span><span class="s2">transaction</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">amount</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1500</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">vatAmount</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">description</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Test Reversal</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">payeeReference</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ABC123</span><span class="dl">"</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>When you receive the response from Swedbank Pay, the response will include
<code class="language-html highlighter-rouge">transaction.number</code>. This is the same as the field called <code class="language-html highlighter-rouge">TransactionNo</code> in
the reconciliation file.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre><span class="p">{</span>
    <span class="dl">"</span><span class="s2">payment</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">capture</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/captures/ec2a9b09-601a-42ae-8e33-a5737e1cf177</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">transaction</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions/ec2a9b09-601a-42ae-8e33-a5737e1cf177</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">created</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2016-09-14T01:01:01.01Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">updated</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2016-09-14T01:01:01.03Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Capture</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">state</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Initialized</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">number</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1234567890</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">amount</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1500</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">vatAmount</span><span class="dl">"</span><span class="p">:</span> <span class="mi">250</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">description</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Test Capture</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">payeeReference</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ABC123</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">failedReason</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">isOperational</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">operations</span><span class="dl">"</span><span class="p">:</span> <span class="p">[]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li><code class="language-html highlighter-rouge">payeeReference</code> sent to Swedbank Pay is equal to <code class="language-html highlighter-rouge">OrderId</code> in the
reconciliation file.</li>
  <li><code class="language-html highlighter-rouge">capture.transaction.number</code> returned from Swedbank Pay is equal to
<code class="language-html highlighter-rouge">TransactionNo</code> in reconciliation file.</li>
</ul>
    
      <h3 id="samples">
        
        
          Samples <a href="#samples" class="header-anchor"></a>
        
        
      </h3>

<p>The content of the files depends on the type of agreement you have made with
Swedbank Pay. For some payment instruments, only option A is available, while for other
payment instruments, only option B is available. The sample files can be
downloaded below.</p>
    
      <h4 id="option-a-swedbank-pay-handles-the-settlement-process">
        
        
          Option A: Swedbank Pay handles the settlement process <a href="#option-a-swedbank-pay-handles-the-settlement-process" class="header-anchor"></a>
        
        
      </h4>

<ul>
  <li><strong><a href="/assets/documents/testredovisning-payexcheckout.pdf">PDF Balance Report for Swedbank Pay Checkout</a></strong></li>
  <li><a href="/assets/documents/r1234-0001-redov.service.pdf">PDF Balance Report</a></li>
  <li><a href="/assets/documents/transaktionsstatistik-redovisningsservice.xlsx">XLSX Transaction List</a></li>
  <li><a href="/assets/documents/transaktionsstatistik-redovisningsservice.xml">XML Transaction List</a></li>
</ul>
    
      <h4 id="option-b-you-will-handle-the-settlement-process-yourself">
        
        
          Option B: You will handle the settlement process yourself <a href="#option-b-you-will-handle-the-settlement-process-yourself" class="header-anchor"></a>
        
        
      </h4>

<ul>
  <li><a href="/assets/documents/r1234-0001-eget-konto.pdf">PDF Balance Report</a></li>
  <li><a href="/assets/documents/r1234-0001-eget-konto.pdf">XLSX Transaction List</a></li>
  <li><a href="/assets/documents/testredovisning-eget-konto.xlsx">XML Transaction List</a></li>
</ul>
    
      <h3 id="split-settlement">
        
        
          Split Settlement <a href="#split-settlement" class="header-anchor"></a>
        
        
      </h3>

<p>The prefix split is the easy way of doing settlements for companies with
multiple sub merchants. With only a few easy steps, you can make the settlement
process more efficient with regards to invoicing, payouts and setup for both
your sub merchants and yourself.</p>

<p>In short, it is a settlement feature where a company with a website or an app
can attach specific prefix numbers to sub merchants selling their goods or
services through the company. The prefix number is used to match the
transactions and the merchant, so the settlement is automatically split between
the sub merchants. If you run a site selling tickets to concerts, theatres,
sporting events etc., each venue gets its own prefix number. If you run a
funeral home, the sub merchants can be everything from flower delivery to
charities.</p>
    
      <h4 id="what-we-need-from-you-as-a-company">
        
        
          What we need from you as a company <a href="#what-we-need-from-you-as-a-company" class="header-anchor"></a>
        
        
      </h4>

<ul>
  <li>Send us a KYC form for each sub merchant you want to include. We will also do
a KYC check on your sub merchants, providing extra security for you.</li>
  <li>Give every sub merchant who sells goods/services at your website or in your
app a unique prefix number. This needs to be included in the KYC form you send
to us. We recommend using the same customer number they have in your system.</li>
  <li>Attach the prefix number to all the goods/services the sub merchant
sells through your website or app, so the goods/services can be matched to the
correct merchant in our back office system.</li>
  <li>A partner agreement is needed for the automatic deduction of revenue cuts and
fees.</li>
</ul>
    
      <h4 id="how-it-works">
        
        
          How it works <a href="#how-it-works" class="header-anchor"></a>
        
        
      </h4>

<ol>
  <li>We set up the sub merchant prefix in our systems.</li>
  <li>The prefix number is added in the subsite field in the API call when you
create the payment for the goods or service.</li>
  <li>The customer selects payment instrument and completes the payment.</li>
  <li>The payment goes into the client funds account.</li>
  <li>Swedbank Pay matches the transaction and the merchant using the prefix
number.</li>
  <li>The settlement is split and connected to the correct merchant.</li>
  <li>Revenue cuts for the super merchant and fees from Swedbank Pay are deducted
automatically.</li>
  <li>Payout to the sub merchant is done.</li>
</ol>
    
      <h4 id="the-upsides">
        
        
          The upsides <a href="#the-upsides" class="header-anchor"></a>
        
        
      </h4>

<ul>
  <li>Since the sub merchants are connected to Swedbank Pay through the super
merchant instead of having separate setups, this means that you:</li>
  <li>Only need one agreement for credit card, Vipps, Swish,
MobilePay, invoice and payment gateway.</li>
  <li>Only need one acquiring agreement.</li>
  <li>Only need one Vipps/Swish certificate.</li>
  <li>Can add more payment instruments easily, as it only has to be done once.</li>
  <li>Can set up new sub merchants quickly, as the only thing needed is a KYC
form and a prefix number. This shortens the setup time for both you and us
to a matter of hours.</li>
  <li>The automatic settlement split and deduction of fees and revenue cuts
minimizes the work for your accounting department, as you do not have to
invoice your sub merchants.</li>
  <li>The prefix split is available with all the payment instruments we offer on our
eCom platform.</li>
</ul>
    
      <h4 id="good-to-know">
        
        
          Good to know <a href="#good-to-know" class="header-anchor"></a>
        
        
      </h4>

<p>With regards to admin functions, we offer a full integration towards our admin
system. This way, you do not have to log in to Swedbank Pay Admin to perform
these operations.</p>
    
      <h5 id="captures-and-cancels">
        
        
          Captures and cancels <a href="#captures-and-cancels" class="header-anchor"></a>
        
        
      </h5>

<p>Captures and cancels are done by the super merchant the same way as any other
normal flow.</p>
    
      <h5 id="reversals">
        
        
          Reversals <a href="#reversals" class="header-anchor"></a>
        
        
      </h5>

<p>In cases where you need to do reversals, this will be performed by the super
merchant. The reversal amount will be charged from the sub merchants prefix. If
the sub merchants balance is 0 (zero), the super merchant will be invoiced. The
super merchant will in turn have to invoice this amount to the sub merchant.</p>
    
      <h3 id="common-problem-types">
        
        
          Common Problem Types <a href="#common-problem-types" class="header-anchor"></a>
        
        
      </h3>

<p>All common types will have the following URI in front of type:
<code class="language-html highlighter-rouge">https://api.payex.com/psp/errordetail/<span class="nt">&lt;error-type&gt;</span></code></p>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Type</th>
      <th style="text-align: center">Status</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">inputerror</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">400</code></td>
      <td style="text-align: left">The server cannot or will not process the request due to an apparent client error (e.g. malformed request syntax, size to large, invalid request).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">forbidden</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">403</code></td>
      <td style="text-align: left">The request was valid, but the server is refusing the action. The necessary permissions to access the resource might be lacking.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">notfound</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">404</code></td>
      <td style="text-align: left">The requested resource could not be found, but may be available in the future. Subsequent requests are permissible.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">systemerror</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">500</code></td>
      <td style="text-align: left">A generic error message.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">configurationerror</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">500</code></td>
      <td style="text-align: left">A error relating to configuration issues.</td>
    </tr>
  </tbody>
</table>
    
      <h2 id="problems">
        
        
          Problems <a href="#problems" class="header-anchor"></a>
        
        
      </h2>

<p>When performing unsuccessful operations, the eCommerce API will respond with a
problem message. We generally use the problem message <code class="language-html highlighter-rouge">type</code> and <code class="language-html highlighter-rouge">status</code> code
to identify the nature of the problem. The problem <code class="language-html highlighter-rouge">name</code> and <code class="language-html highlighter-rouge">description</code> will
often help narrow down the specifics of the problem.</p>
    
      <h3 id="contractual-problem-types">
        
        
          Contractual Problem Types <a href="#contractual-problem-types" class="header-anchor"></a>
        
        
      </h3>

<p>All contract types will have the following URI in front of type:
<code class="language-html highlighter-rouge">https://api.payex.com/psp/errordetail/creditcard/<span class="nt">&lt;error-type&gt;</span></code></p>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Type</th>
      <th style="text-align: center">Status</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">cardbranddisabled</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">403</code></td>
      <td style="text-align: left">The card brand is disabled.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">accountholdertyperejected</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">403</code></td>
      <td style="text-align: left">The account holder type is rejected.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">cardtyperejected</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">403</code></td>
      <td style="text-align: left">The card type is rejected.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">3dsecurerequired</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">403</code></td>
      <td style="text-align: left">The transaction was rejected by 3-D Secure.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">authenticationstatusrejected</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">403</code></td>
      <td style="text-align: left">The authentication status was rejected.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">frauddetected</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">403</code></td>
      <td style="text-align: left">The transaction was fraudulent.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">3dsecuredeclined</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">403</code></td>
      <td style="text-align: left">3-D Secure declined the transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">velocitycheck</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">429</code></td>
      <td style="text-align: left">Indicates that the limit for how  many times a card or different cards can be used for attempting a purchase has been reached.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="acquirer-and-3-d-secure-problem-types">
        
        
          Acquirer and 3-D Secure Problem Types <a href="#acquirer-and-3-d-secure-problem-types" class="header-anchor"></a>
        
        
      </h3>

<p>All acquirer error types will have the following URI in front of type:
<code class="language-html highlighter-rouge">https://api.payex.com/psp/errordetail/creditcard/<span class="nt">&lt;error-type&gt;</span></code></p>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Type</th>
      <th style="text-align: center">Status</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">3dsecureerror</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">400</code></td>
      <td style="text-align: left">3D Secure not working, try again some time later</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">cardblacklisted</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">400</code></td>
      <td style="text-align: left">Card blacklisted, Consumer need to contact their Card-issuing bank</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">paymenttokenerror</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">403</code></td>
      <td style="text-align: left">There was an error with the payment token.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">carddeclined</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">403</code></td>
      <td style="text-align: left">The card was declined.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">acquirererror</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">403</code></td>
      <td style="text-align: left">The acquirer responded with a generic error.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">acquirercardblacklisted</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">403</code></td>
      <td style="text-align: left">Card blacklisted, Consumer need to contact their Card-issuing bank</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">acquirercardexpired</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">403</code></td>
      <td style="text-align: left">Wrong expire date or Card has expired and consumer need to contact their Card-issuing bank</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">acquirercardstolen</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">403</code></td>
      <td style="text-align: left">Card blacklisted, Consumer need to contact their Card-issuing bank</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">acquirerinsufficientfunds</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">403</code></td>
      <td style="text-align: left">Card does not have sufficient funds, consumer need to contact their Card-issuing bank.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">acquirerinvalidamount</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">403</code></td>
      <td style="text-align: left">Amount not valid by aquirer, contact support.ecom@payex.com</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">acquirerpossiblefraud</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">403</code></td>
      <td style="text-align: left">Transaction declined due to possible fraud, consumer need to contact their Card-issuing bank.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">3dsecureusercanceled</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">403</code></td>
      <td style="text-align: left">Transaction was Cancelled during 3DSecure verification</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">3dsecuredeclined</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">403</code></td>
      <td style="text-align: left">Transaction was declined during 3DSecure verification</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">frauddetected</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">403</code></td>
      <td style="text-align: left">Fraud detected. Consumer need to contact their Card-issuing bank.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">badrequest</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">500</code></td>
      <td style="text-align: left">Bad request, try again after some time</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">internalservererror</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">500</code></td>
      <td style="text-align: left">Server error, try again after some time</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">3dsecureacquirergatewayerror</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">502</code></td>
      <td style="text-align: left">Problems reaching 3DSecure verification, try again after some time.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">badgateway</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">502</code></td>
      <td style="text-align: left">Problems reaching the gateway, try again after some time</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">acquirergatewayerror</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">502</code></td>
      <td style="text-align: left">Problems reaching acquirers gateway, try again after some time</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">acquirergatewaytimeout</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">504</code></td>
      <td style="text-align: left">Problems reaching acquirers gateway, try again after some time</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="seamless-view-events">
        
        
          Seamless View Events <a href="#seamless-view-events" class="header-anchor"></a>
        
        
      </h3>
    
      <h3 id="onpaymentcompleted">
        
        
          <code class="language-html highlighter-rouge">onPaymentCompleted</code> <a href="#onpaymentcompleted" class="header-anchor"></a>
        
        
      </h3>

<p>This event triggers when a payment has completed successfully.
The <code class="language-html highlighter-rouge">onPaymentCompleted</code> event is raised with the following event argument
object:</p>

<p class="code-header"><strong><code class="language-html highlighter-rouge">onPaymentCompleted</code> event object</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="p">{</span>
    <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">redirectUrl</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://en.wikipedia.org/wiki/Success</span><span class="dl">"</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">payment</code> resource this <code class="language-html highlighter-rouge">prices</code> belongs to..    Please read about <a href="/home/technical-information#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">redirectUrl</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI the user will be redirect to after a completed payment.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="onpaymentcanceled">
        
        
          <code class="language-html highlighter-rouge">onPaymentCanceled</code> <a href="#onpaymentcanceled" class="header-anchor"></a>
        
        
      </h3>

<p>This event triggers when the user cancels the payment.
The <code class="language-html highlighter-rouge">onPaymentCanceled</code> event is raised with the following event argument
object:</p>

<p class="code-header"><strong><code class="language-html highlighter-rouge">onPaymentCanceled</code> event object</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="p">{</span>
    <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">redirectUrl</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://en.wikipedia.org/wiki/Canceled</span><span class="dl">"</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">payment</code> resource this <code class="language-html highlighter-rouge">prices</code> belongs to..    Please read about <a href="/home/technical-information#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">redirectUrl</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI the user will be redirect to after a canceled payment.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="onpaymentfailed">
        
        
          <code class="language-html highlighter-rouge">onPaymentFailed</code> <a href="#onpaymentfailed" class="header-anchor"></a>
        
        
      </h3>

<p>This event triggers when a payment has failed, disabling further attempts to
perform a payment. The <code class="language-html highlighter-rouge">onPaymentFailed</code> event is raised with the following
event argument object:</p>

<p class="code-header"><strong><code class="language-html highlighter-rouge">onPaymentFailed</code> event object</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="p">{</span>
    <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">redirectUrl</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://en.wikipedia.org/wiki/Failed</span><span class="dl">"</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">payment</code> resource this <code class="language-html highlighter-rouge">prices</code> belongs to..    Please read about <a href="/home/technical-information#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">redirectUrl</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI the user will be redirect to after a failed payment.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="onpaymenttermsofservice">
        
        
          <code class="language-html highlighter-rouge">onPaymentTermsOfService</code> <a href="#onpaymenttermsofservice" class="header-anchor"></a>
        
        
      </h3>

<p>This event triggers when the user clicks on the “Display terms and conditions”
link. The <code class="language-html highlighter-rouge">onPaymentTermsOfService</code> event is raised with the following event
argument object:</p>

<p class="code-header"><strong><code class="language-html highlighter-rouge">onPaymentTermsOfService</code> event object</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="p">{</span>
    <span class="dl">"</span><span class="s2">origin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">owner</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">openUrl</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://example.org/terms.html</span><span class="dl">"</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">origin</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">owner</code>, <code class="language-html highlighter-rouge">merchant</code>. The value is always <code class="language-html highlighter-rouge">merchant</code> unless Swedbank Pay hosts the view.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">openUrl</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI containing Terms of Service and conditions.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="onerror">
        
        
          <code class="language-html highlighter-rouge">onError</code> <a href="#onerror" class="header-anchor"></a>
        
        
      </h3>

<p>This event triggers during terminal errors or if the configuration fails
validation. The <code class="language-html highlighter-rouge">onError</code> event will be raised with the following event argument
object:</p>

<p class="code-header"><strong><code class="language-html highlighter-rouge">onError</code> event object</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="p">{</span>
    <span class="dl">"</span><span class="s2">origin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">creditcard</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">messageId</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ec2a9b09-601a-42ae-8e33-a5737e1cf177</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">details</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Descriptive text of the error</span><span class="dl">"</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">origin</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">creditcard</code>, identifies the system that originated the error.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">messageId</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">A unique identifier for the message.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">details</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">A human readable and descriptive text of the error.</td>
    </tr>
  </tbody>
</table>

<nav class="iterator d-flex">
    
        <a class="mr-auto btn btn-guiding" role="button" rel="prev" href="after-payment">
            Back: After
payment
        </a>
    

    
</nav>
                                    
                                </div>

                                <div class="col-2 d-none d-lg-block">
                                    <nav class="doc-toc">
                                        <ul>
  <li class="toc-2"><a href="#payment-resource">Payment Resource</a></li>
  <li class="toc-2"><a href="#payment-states-and-transaction-states">Payment States And Transaction States</a></li>
  <li class="toc-2"><a href="#create-payment">Create Payment</a></li>
  <li class="toc-2"><a href="#purchase">Purchase</a></li>
  <li class="toc-2"><a href="#completeurl">CompleteUrl</a></li>
  <li class="toc-2"><a href="#description">Description</a></li>
  <li class="toc-2"><a href="#recur">Recur</a></li>
  <li class="toc-2"><a href="#unscheduled-purchase">Unscheduled Purchase</a></li>
  <li class="toc-2"><a href="#payout">Payout</a></li>
  <li class="toc-2"><a href="#verify">Verify</a></li>
  <li class="toc-2"><a href="#one-click-payments">One-Click Payments</a></li>
  <li class="toc-2"><a href="#callback">Callback</a></li>
  <li class="toc-2"><a href="#payment-link">Payment Link</a></li>
  <li class="toc-2"><a href="#payeeinfo">PayeeInfo</a></li>
  <li class="toc-2"><a href="#payee-reference">Payee Reference</a></li>
  <li class="toc-2"><a href="#prices">Prices</a></li>
  <li class="toc-2"><a href="#co-badge-card-choice-for-dankort">Co-badge Card Choice for Dankort</a></li>
  <li class="toc-2"><a href="#settlement-and-reconciliation">Settlement and Reconciliation</a></li>
  <li class="toc-2"><a href="#problems">Problems</a></li>
</ul>

                                    </nav>
                                </div>
                            </div>
                        </div>
                    </main>
                </div>
            </div>

            <footer class="page-footer">
                <p class="page-footer-rights">© Swedbank Pay</p>
            </footer>
        </div>

        <script src="https://design.swedbankpay.com/v/4.5.0/scripts/dg.js"></script>
        <script src="/assets/js/swedbank-pay-design-guide-theme.js"></script>
        
        <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-156582708-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-156582708-1');
</script>

        
    </body>
    
    <script>document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1"></' + 'script>')</script>
    

</html>
