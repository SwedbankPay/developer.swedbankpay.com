<!DOCTYPE html>
<html lang="en-US">
    <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="theme-color" content="#000">
        <meta name="application-name" content="Invoice – Other Features">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <meta name="apple-mobile-web-app-title" content="Invoice – Other Features">
        <meta name="msapplication-TileColor" content="#000">
        <meta name="msapplication-TileImage" content="/icons/mstile-144x144.png">
        <meta property="og:type" value="website">
        <meta property="og:url" value="https://developer.swedbankpay.com/payment-instruments/invoice/other-features.html">
        <meta property="og:title" value="Invoice – Other Features">
        <meta name="title" content="Invoice – Other Features">
        <meta property="og:description" value="Swedbank Pay Developer Portal">
        <meta name="description" content="Swedbank Pay Developer Portal">
        <meta property="og:image" value="/assets/img/swedbank-pay-developer-portal.png">
        <title>Invoice – Other Features</title>
        <link rel="stylesheet" href="https://design.swedbankpay.com/v/5.0.1/styles/dg-style.css">
        <link rel="stylesheet" href="/assets/css/style.css">
        <link rel="stylesheet" href="/assets/css/pygments-autumn.css">
        <link rel="shortcut icon" href="https://design.swedbankpay.com/v/5.0.1/icons/favicon.ico">
        <link rel="icon" type="image/png" sizes="16x16" href="https://design.swedbankpay.com/v/5.0.1/icons/favicon-16x16.png">
        <link rel="icon" type="image/png" sizes="32x32" href="https://design.swedbankpay.com/v/5.0.1/icons/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="228x228" href="https://design.swedbankpay.com/v/5.0.1/icons/coast-228x228.png">
        <link href="https://fonts.googleapis.com/css?family=Material+Icons+Outlined" rel="stylesheet">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Other Features">
<link rel="apple-touch-icon" sizes="57x57" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="167x167" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-icon-167x167.png">
<link rel="apple-touch-icon" sizes="180x180" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-icon-180x180.png">
<link rel="apple-touch-icon" sizes="1024x1024" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-icon-1024x1024.png">
<link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 480px) and  (-webkit-device-pixel-ratio: 1)" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-startup-image-320x460.png">
<link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 480px) and  (-webkit-device-pixel-ratio: 2)" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-startup-image-640x920.png">
<link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and  (-webkit-device-pixel-ratio: 2)" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-startup-image-640x1096.png">
<link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and  (-webkit-device-pixel-ratio: 2)" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-startup-image-750x1294.png">
<link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 3)" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-startup-image-1182x2208.png">
<link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 3)" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-startup-image-1242x2148.png">
<link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 1)" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-startup-image-748x1024.png">
<link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 1)" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-startup-image-768x1004.png">
<link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 2)" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-startup-image-1496x2048.png">
<link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 2)" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-startup-image-1536x2008.png">
<script src="/assets/js/mermaid.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script src="/assets/tipuesearch/tipuesearch_content.js"></script>
        <script src="/assets/tipuesearch/tipuesearch_set.js"></script>
        <script src="/assets/tipuesearch/tipuesearch.min.js"></script>
    </head>

    <body>
        <div id="designguide">
            <div class="documentation">
                <div class="row">
                    <div class="col-xxl-2 col-lg-3 pr-0">
                        <div class="sidebar dg-sidebar">
                            <nav class="sidebar-nav">
                                <a href="/" class="sidebar-header">
                                    <img src="https://design.swedbankpay.com/v/5.0.1/img/swedbankpay-logo-v.svg" alt="Swedbank Pay vertical logo" class="logotype-vertical logotype-lg">
                                    <div class="sidebar-header-text">
                                        <span>{</span>developer portal<span>}</span>
                                    </div>
                                </a>
                                
                                <form class="search-container mx-2 my-4 px-3 py-2 d-flex" method="get" action="/search">
                                    <input name="q" type="text" id="tipue_search_input" class="search-input w-100 " placeholder="Search in documentation" onfocus="this.placeholder=''" onblur="this.placeholder='Search in documentation'" pattern=".{3,}" title="At least 3 characters">
                                    <button class="mb-0">
                                        <i class="material-icons m-0" aria-hidden="true">search</i>
                                    </button>
                                </form>
                                
                                <ul id="dx-sidebar-main-nav-ul" class="main-nav-ul">
<li class="nav-group">
        <div class="nav-group-heading">
          <i class="material-icons">arrow_right</i>
          <span>Introduction</span>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/introduction#foundation">Foundation</a></li>
<li class="nav-leaf"><a href="/introduction#connection-and-protocol">Connection and Protocol</a></li>
<li class="nav-leaf"><a href="/introduction#postels-robustness-principle">Postel’s Robustness Principle</a></li>
<li class="nav-leaf"><a href="/introduction#headers">Headers</a></li>
<li class="nav-leaf"><a href="/introduction#uri-usage">URI Usage</a></li>
<li class="nav-leaf"><a href="/introduction#uniform-responses">Uniform Responses</a></li>
<li class="nav-leaf"><a href="/introduction#expansion">Expansion</a></li>
<li class="nav-leaf"><a href="/introduction#data-types">Data Types</a></li>
<li class="nav-leaf"><a href="/introduction#operations">Operations</a></li>
<li class="nav-leaf"><a href="/introduction#payee-reference">Payee Reference</a></li>
<li class="nav-leaf"><a href="/introduction#callback">Callback</a></li>
<li class="nav-leaf"><a href="/introduction#problems">Problems</a></li>
        
      </ul>
      </li>
<li class="nav-group">
        <div class="nav-group-heading">
          <i class="material-icons">arrow_right</i>
          <span>Checkout</span>
        </div>
        <ul class="nav-ul">
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/checkout/">Introduction</a>
        </div>
        <ul class="nav-ul">
<li class="nav-leaf"><a href="/checkout/#prerequisites">Prerequisites</a></li>
<li class="nav-leaf"><a href="/checkout/#introduction">Introduction</a></li>
<li class="nav-leaf"><a href="/checkout/#languages">Languages</a></li>
</ul>
      </li>
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/checkout/checkin">Checkin</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/checkout/checkin#step-1-initiate-session-for-consumer-identification">Step 1: Initiate session for consumer identification</a></li>
<li class="nav-leaf"><a href="/checkout/checkin#step-2-display-swedbank-pay-checkin-module">Step 2: Display Swedbank Pay Checkin module</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/checkout/payment-menu">Payment Menu</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/checkout/payment-menu#step-3-create-payment-order">Step 3: Create Payment Order</a></li>
<li class="nav-leaf"><a href="/checkout/payment-menu#payment-url">Payment Url</a></li>
<li class="nav-leaf"><a href="/checkout/payment-menu#step-4-display-the-payment-menu">Step 4: Display the Payment Menu</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/checkout/capture">Capture</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/checkout/capture#step-5-capture-the-funds">Step 5: Capture the funds</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/checkout/after-payment">After Payment</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/checkout/after-payment#operations">Operations</a></li>
<li class="nav-leaf"><a href="/checkout/after-payment#cancel">Cancel</a></li>
<li class="nav-leaf"><a href="/checkout/after-payment#reversal">Reversal</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/checkout/other-features">Other Features</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/checkout/other-features#payment-orders">Payment Orders</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#description">Description</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#payment-url">Payment Url</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#operations">Operations</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#payment-order-state">Payment Order State</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#completeurl">CompleteUrl</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#recurring-payments">Recurring Payments</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#delete-recurrencetoken">Delete recurrenceToken</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#purchase-payments">Purchase Payments</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#verify-payments">Verify Payments</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#payments-resource">Payments Resource</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#prices">Prices</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#custom-logo">Custom Logo</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#checkin-events">Checkin Events</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#payment-menu-events">Payment Menu Events</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#callback">Callback</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#problems">Problems</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#payeeinfo">PayeeInfo</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#payee-reference">Payee Reference</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#delegated-strong-consumer-authentication">Delegated Strong Consumer Authentication</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#metadata">Metadata</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#settlement-and-reconciliation">Settlement and Reconciliation</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#3-d-secure-2">3-D Secure 2</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#updating-payment-menu">Updating Payment Menu</a></li>
        
      </ul>
      </li>
      </ul>
      </li>
<li class="nav-group active">
        <div class="nav-group-heading">
          <i class="material-icons">arrow_right</i>
          <span>Payment Instruments</span>
        </div>
        <ul class="nav-ul">
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/">Introduction</a>
        </div>
        <ul class="nav-ul">
<li class="nav-leaf"><a href="/payment-instruments/#prerequisites">Prerequisites</a></li>
<li class="nav-leaf"><a href="/payment-instruments/#platform-options">Platform options</a></li>
<li class="nav-leaf"><a href="/payment-instruments/#the-fundamentals">The Fundamentals</a></li>
<li class="nav-leaf"><a href="/payment-instruments/#the-payment-object">The Payment Object</a></li>
</ul>
      </li>
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/card/">Card</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/card/">Introduction</a>
        </div>
        <ul class="nav-ul">
<li class="nav-leaf"><a href="/payment-instruments/card/#operations">Operations</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/#intent">Intent</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/#languages">Languages</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/#purchase-flow">Purchase Flow</a></li>
</ul>
      </li>
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/card/redirect">Redirect</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/card/redirect#step-1-create-a-purchase">Step 1: Create a Purchase</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/card/seamless-view">Seamless View</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/card/seamless-view#introduction">Introduction</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/seamless-view#step-1-create-payment">Step 1: Create Payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/seamless-view#step-2-display-the-payment">Step 2: Display the Payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/seamless-view#purchase-flow">Purchase Flow</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/card/direct">Direct</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/card/direct#payment-flow">Payment flow</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/direct#step-1-create-a-purchase">Step 1: Create a Purchase</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/direct#step-2a-create-authorization-without-3-d-secure-authentication">Step 2a: Create authorization without 3-D Secure authentication</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/direct#step-2b-create-authorization-with-3-d-secure-authentication">Step 2b: Create authorization with 3-D Secure authentication</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/direct#options-after-posting-a-purchase-payment">Options after posting a purchase payment</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/card/capture">Capture</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/card/capture#capture">Capture</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/card/mobile-card-payments">Mobile</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/card/mobile-card-payments#card-payments-in-mobile-apps">Card Payments in Mobile Apps</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/mobile-card-payments#api-requests-for-payments">API Requests for Payments</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/mobile-card-payments#purchase-flow-mobile">Purchase flow mobile</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/card/after-payment">After Payment</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/card/after-payment#options-after-posting-a-payment">Options after posting a payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/after-payment#cancellations">Cancellations</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/after-payment#reversals">Reversals</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/after-payment#abort">Abort</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/after-payment#remove-payment-token">Remove payment token</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/card/other-features">Other Features</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/card/other-features#payment-resource">Payment Resource</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#payment-and-transaction-states">Payment And Transaction States</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#payment-state">Payment State</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#create-payment">Create Payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#purchase">Purchase</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#completeurl">CompleteUrl</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#description">Description</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#recur">Recur</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#unscheduled-purchase">Unscheduled Purchase</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#payout">Payout</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#verify">Verify</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#one-click-payments">One-Click Payments</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#payment-url">Payment Url</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#callback">Callback</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#transactions">Transactions</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#card-authorization-transaction">Card authorization transaction</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#payeeinfo">PayeeInfo</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#payee-reference">Payee Reference</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#prices">Prices</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#transaction-on-file">Transaction on file</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#3-d-secure-2">3-D Secure 2</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#co-badge-card-choice-for-dankort">Co-badge Card Choice for Dankort</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#metadata">Metadata</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#settlement-and-reconciliation">Settlement and Reconciliation</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#problems">Problems</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#seamless-view-events">Seamless View Events</a></li>
        
      </ul>
      </li>
      </ul>
      </li>
<li class="nav-subgroup active">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/invoice/">Invoice</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/invoice/">Introduction</a>
        </div>
        <ul class="nav-ul">
<li class="nav-leaf"><a href="/payment-instruments/invoice/#api-requests">API Requests</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/#languages">Languages</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/#invoice-flow">Invoice flow</a></li>
</ul>
      </li>
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/invoice/redirect">Redirect</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/invoice/redirect#introduction">Introduction</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/redirect#step-1-create-a-payment">Step 1: Create a payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/redirect#invoice-flow">Invoice flow</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/redirect#options-after-posting-a-payment">Options after posting a payment</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/invoice/seamless-view">Seamless View</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/invoice/seamless-view#introduction">Introduction</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/seamless-view#step-1-create-the-payment">Step 1: Create the payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/seamless-view#step-2-display-the-payment">Step 2: Display the Payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/seamless-view#purchase-flow">Purchase Flow</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/invoice/direct">Direct</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/invoice/direct#invoice-direct-implementation-flow">Invoice Direct implementation flow</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/direct#step-1-create-a-purchase">Step 1: Create a Purchase</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/direct#step-2-get-approvedlegaladdress-confirmation">Step 2: Get approvedLegalAddress confirmation</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/direct#step-3-complete-a-payment">Step 3: Complete a Payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/direct#invoice-flow">Invoice flow</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/direct#options-after-posting-a-purchase-payment">Options after posting a purchase payment</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/invoice/capture">Capture</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/invoice/capture#capture">Capture</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/capture#step-1-create-financingconsumer-capture">Step 1: Create FinancingConsumer Capture</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/capture#step-2-inspecting-the-captures">Step 2: Inspecting the Captures</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/capture#capture-flow">Capture Flow</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/invoice/after-payment">After Payment</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/invoice/after-payment#options-after-posting-a-payment">Options after posting a payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/after-payment#abort">Abort</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/after-payment#cancellations">Cancellations</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/after-payment#reversals">Reversals</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup active">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/invoice/other-features">Other Features</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#api-requests">API requests</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#payment-resource">Payment Resource</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#payment-and-transaction-states">Payment And Transaction States</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#payment-state">Payment State</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#create-payment">Create Payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#financing-consumer">Financing Consumer</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#recur">Recur</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#delete-recurrencetoken">Delete recurrenceToken</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#verify">Verify</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#transactions">Transactions</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#callback">Callback</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#completeurl">CompleteUrl</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#description">Description</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#payeeinfo">PayeeInfo</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#payee-reference">Payee Reference</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#prices">Prices</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#metadata">Metadata</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#settlement-and-reconciliation">Settlement and Reconciliation</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#problems">Problems</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#seamless-view-events">Seamless View Events</a></li>
        
      </ul>
      </li>
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/swish/">Swish</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/swish/">Introduction</a>
        </div>
        <ul class="nav-ul">
<li class="nav-leaf"><a href="/payment-instruments/swish/#payment-flow">Payment Flow</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/#good-to-know">Good To Know</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/#languages">Languages</a></li>
</ul>
      </li>
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/swish/direct">Direct</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/swish/direct#payment-flow">Payment Flow</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/direct#step-1-create-a-purchase">Step 1: Create a Purchase</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/direct#step-2a-create-e-commerce-sale-transaction">Step 2a: Create E-Commerce Sale Transaction</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/direct#e-commerce-purchase-flow">E-Commerce Purchase Flow</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/direct#step-2b-create-m-commerce-sale-transaction">Step 2b: Create M-Commerce Sale Transaction</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/direct#step-3-get-the-payment-status">Step 3: Get the payment status</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/direct#m-commerce-purchase-flow">M-Commerce Purchase Flow</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/swish/redirect">Redirect</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/swish/redirect#introduction">Introduction</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/redirect#step-1-create-a-purchase">Step 1: Create a Purchase</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/redirect#redirect-purchase-flow">Redirect Purchase flow</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/swish/seamless-view">Seamless View</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/swish/seamless-view#swish-seamless-view-integration-flow">Swish Seamless View integration flow</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/seamless-view#step-1-create-a-purchase">Step 1: Create a Purchase</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/seamless-view#payment-url">Payment Url</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/seamless-view#step-2-display-the-payment-window">Step 2: Display the Payment Window</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/seamless-view#seamless-view-purchase-flow">Seamless View Purchase flow</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/swish/after-payment">After Payment</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/swish/after-payment#options-after-posting-a-payment">Options after posting a payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/after-payment#swish-transactions">Swish transactions</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/after-payment#sales">Sales</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/after-payment#reversals">Reversals</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/after-payment#abort">Abort</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/after-payment#capture">Capture</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/after-payment#cancel">Cancel</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/after-payment#recurring">Recurring</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/swish/other-features">Other Features</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/swish/other-features#payment-resource">Payment Resource</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/other-features#payment-and-transaction-states">Payment And Transaction States</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/other-features#payment-state">Payment State</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/other-features#create-payment">Create Payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/other-features#settlement-and-reconciliation">Settlement and Reconciliation</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/other-features#description">Description</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/other-features#completeurl">CompleteUrl</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/other-features#payment-url">Payment Url</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/other-features#prices">Prices</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/other-features#payeeinfo">PayeeInfo</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/other-features#payee-reference">Payee Reference</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/other-features#transactions">Transactions</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/other-features#callback">Callback</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/other-features#metadata">Metadata</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/other-features#problems">Problems</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/other-features#seamless-view-events">Seamless View Events</a></li>
        
      </ul>
      </li>
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/vipps/">Vipps</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/vipps/">Introduction</a>
        </div>
        <ul class="nav-ul">
<li class="nav-leaf"><a href="/payment-instruments/vipps/#purchase-flow">Purchase flow</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/#good-to-know">Good To Know</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/#languages">Languages</a></li>
</ul>
      </li>
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/vipps/redirect">Redirect</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/vipps/redirect#introduction">Introduction</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/redirect#step-1-create-a-purchase">Step 1: Create a Purchase</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/redirect#step-2-authorization">Step 2: Authorization</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/redirect#step-3-get-the-transaction-state">Step 3: Get the transaction state</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/redirect#vipps-redirect-integration-flow">Vipps Redirect integration flow</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/vipps/seamless-view">Seamless View</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/vipps/seamless-view#step-1-create-a-purchase">Step 1: Create a Purchase</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/seamless-view#payment-url">Payment Url</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/seamless-view#step-2-display-the-payment-window">Step 2: Display the payment window</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/seamless-view#vipps-seamless-view-integration-flow">Vipps Seamless View integration flow</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/vipps/capture">Capture</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/vipps/capture#capture">Capture</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/vipps/after-payment">After Payment</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/vipps/after-payment#operations">Operations</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/after-payment#vipps-transactions">Vipps transactions</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/after-payment#authorizations">Authorizations</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/after-payment#cancellations">Cancellations</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/after-payment#create-cancellation-transaction">Create cancellation transaction</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/after-payment#reversals">Reversals</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/after-payment#abort">Abort</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/vipps/other-features">Other Features</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/vipps/other-features#payment-resource">Payment Resource</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/other-features#payment-and-transaction-states">Payment And Transaction States</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/other-features#payment-state">Payment State</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/other-features#completeurl">CompleteUrl</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/other-features#payment-url">Payment Url</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/other-features#prices">Prices</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/other-features#description">Description</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/other-features#payeeinfo">PayeeInfo</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/other-features#payee-reference">Payee Reference</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/other-features#payee-reference-1">Payee Reference</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/other-features#transactions">Transactions</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/other-features#callback">Callback</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/other-features#metadata">Metadata</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/other-features#problems">Problems</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/other-features#seamless-view-events">Seamless View Events</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/other-features#settlement-and-reconciliation">Settlement and Reconciliation</a></li>
        
      </ul>
      </li>
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/mobile-pay/">MobilePay Online</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/mobile-pay/">Introduction</a>
        </div>
        <ul class="nav-ul">
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/#purchase-flow">Purchase flow</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/#good-to-know">Good To Know</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/#languages">Languages</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/#payment-availability">Payment availability</a></li>
</ul>
      </li>
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/mobile-pay/redirect">Redirect</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/mobile-pay/redirect#mobilepay-online-redirect-integration-flow">MobilePay Online redirect integration flow</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/redirect#step-1-create-a-purchase">Step 1: Create a Purchase</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/redirect#step-2-get-the-transaction-status">Step 2: Get the transaction status</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/redirect#purchase-flow">Purchase flow</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/mobile-pay/seamless-view">Seamless View</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/mobile-pay/seamless-view#step-1-create-a-purchase">Step 1: Create a purchase</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/seamless-view#step-2-display--the-payment-window">Step 2: Display  the payment window</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/seamless-view#mobilepay-online-seamless-view-flow">MobilePay Online Seamless View flow</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/mobile-pay/capture">Capture</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/mobile-pay/capture#capture">Capture</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/capture#create-capture-transaction">Create capture transaction</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/capture#capture-sequence">Capture Sequence</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/mobile-pay/after-payment">After Payment</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/mobile-pay/after-payment#options-after-posting-a-payment">Options after posting a payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/after-payment#cancellations">Cancellations</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/after-payment#cancel-sequence">Cancel Sequence</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/after-payment#reversals">Reversals</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/after-payment#create-reversal-transaction">Create reversal transaction</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/after-payment#reversal-sequence">Reversal Sequence</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/after-payment#abort">Abort</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/mobile-pay/other-features">Other Features</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#payment-resource">Payment Resource</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#payment-state">Payment State</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#purchase">Purchase</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#operations-1">Operations</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#completeurl">CompleteUrl</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#mobilepay-online-transactions">MobilePay Online transactions</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#authorizations">Authorizations</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#captures">Captures</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#cancellations">Cancellations</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#reversals">Reversals</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#capture-sequence">Capture Sequence</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#cancel-sequence">Cancel Sequence</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#reversal-sequence">Reversal Sequence</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#settlement-and-reconciliation">Settlement and Reconciliation</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#description">Description</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#callback">Callback</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#transactions">Transactions</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#prices">Prices</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#metadata">Metadata</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#payeeinfo">PayeeInfo</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#payee-reference">Payee Reference</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#problems">Problems</a></li>
        
      </ul>
      </li>
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/trustly/">Trustly</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/trustly/">Introduction</a>
        </div>
        <ul class="nav-ul">
<li class="nav-leaf"><a href="/payment-instruments/trustly/#payment-type">Payment Type</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/#languages">Languages</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/#banks">Banks</a></li>
</ul>
      </li>
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/trustly/redirect">Redirect</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/trustly/redirect#introduction">Introduction</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/redirect#step-1-create-a-payment">Step 1: Create a payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/redirect#trustly-flow">Trustly flow</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/redirect#options-after-posting-a-payment">Options after posting a payment</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/trustly/seamless-view">Seamless View</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/trustly/seamless-view#introduction">Introduction</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/seamless-view#step-1-create-the-payment">Step 1: Create the payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/seamless-view#step-2-display-the-payment">Step 2: Display the Payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/seamless-view#purchase-flow">Purchase Flow</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/trustly/after-payment">After Payment</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/trustly/after-payment#options-after-posting-a-payment">Options after posting a payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/after-payment#abort">Abort</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/after-payment#reversals">Reversals</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/trustly/other-features">Other Features</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/trustly/other-features#payment-resource">Payment Resource</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/other-features#payment-and-transaction-states">Payment And Transaction States</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/other-features#payment-state">Payment State</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/other-features#create-payment">Create Payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/other-features#transactions">Transactions</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/other-features#callback">Callback</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/other-features#completeurl">CompleteUrl</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/other-features#description">Description</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/other-features#payeeinfo">PayeeInfo</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/other-features#payee-reference">Payee Reference</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/other-features#settlement-and-reconciliation">Settlement and Reconciliation</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/other-features#metadata">Metadata</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/other-features#problems">Problems</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/other-features#seamless-view-events">Seamless View Events</a></li>
        
      </ul>
      </li>
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/payment-link">Payment Link</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf nav-subgroup-leaf"><a href="/payment-instruments/payment-link">Payment Link</a></li>
        
      </ul>
      </li>
      </ul>
      </li>
<li class="nav-group">
        <div class="nav-group-heading">
          <i class="material-icons">arrow_right</i>
          <span>Gift Cards</span>
        </div>
        <ul class="nav-ul">
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/gift-cards/">Introduction</a>
        </div>
        <ul class="nav-ul">
<li class="nav-leaf"><a href="/gift-cards/#overview">Overview</a></li>
<li class="nav-leaf"><a href="/gift-cards/#prerequisites">Prerequisites</a></li>
<li class="nav-leaf"><a href="/gift-cards/#implementation">Implementation</a></li>
</ul>
      </li>
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/gift-cards/operations">Operations</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/gift-cards/operations#gift-card-resource">Gift card resource</a></li>
<li class="nav-leaf"><a href="/gift-cards/operations#get-new-gift-card">Get New Gift Card</a></li>
<li class="nav-leaf"><a href="/gift-cards/operations#pre-deposit">Pre Deposit</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/gift-cards/security">Security</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/gift-cards/security#oauth2">OAuth2</a></li>
<li class="nav-leaf"><a href="/gift-cards/security#hmac">HMAC</a></li>
<li class="nav-leaf"><a href="/gift-cards/security#security-documentation">Security Documentation</a></li>
<li class="nav-leaf"><a href="/gift-cards/security#test-client">Test client</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/gift-cards/test-client">Test Client</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/gift-cards/test-client#prerequisites">Prerequisites</a></li>
<li class="nav-leaf"><a href="/gift-cards/test-client#project-setup">Project setup</a></li>
<li class="nav-leaf"><a href="/gift-cards/test-client#first-app-run">First App run</a></li>
<li class="nav-leaf"><a href="/gift-cards/test-client#testing-application">Testing application</a></li>
<li class="nav-leaf"><a href="/gift-cards/test-client#build-docker-image">Build docker image</a></li>
<li class="nav-leaf"><a href="/gift-cards/test-client#deploy-to-local-docker">Deploy to local docker</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/gift-cards/other-features">Other Features</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/gift-cards/other-features#purchase">Purchase</a></li>
<li class="nav-leaf"><a href="/gift-cards/other-features#deposit">Deposit</a></li>
<li class="nav-leaf"><a href="/gift-cards/other-features#balance">Balance</a></li>
<li class="nav-leaf"><a href="/gift-cards/other-features#authentication">Authentication</a></li>
        
      </ul>
      </li>
      </ul>
      </li>
<li class="nav-group">
        <div class="nav-group-heading">
          <i class="material-icons">arrow_right</i>
          <span>Modules &amp; SDKs</span>
        </div>
        <ul class="nav-ul">
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/modules-sdks/">Introduction</a>
        </div>
        <ul class="nav-ul">
<li class="nav-leaf"><a href="/modules-sdks/#official-modules">Official Modules</a></li>
<li class="nav-leaf"><a href="/modules-sdks/#official-sdks">Official SDKs</a></li>
<li class="nav-leaf"><a href="/modules-sdks/#official-libraries">Official Libraries</a></li>
</ul>
      </li>
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/modules-sdks/mobile-sdk/">Mobile SDK</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/modules-sdks/mobile-sdk/">Introduction</a>
        </div>
        <ul class="nav-ul">
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/#prerequisites">Prerequisites</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/#introduction">Introduction</a></li>
</ul>
      </li>
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/modules-sdks/mobile-sdk/configuration">Configuration</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/configuration#ios">iOS</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/configuration#android">Android</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/configuration#backend">Backend</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/modules-sdks/mobile-sdk/merchant-backend">Merchant Backend</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/merchant-backend#authentication-and-authorization">Authentication and Authorization</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/merchant-backend#the-merchant-backend-configuration">The Merchant Backend Configuration</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/merchant-backend#root-endpoint">Root Endpoint</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/merchant-backend#consumers-endpoint">Consumers Endpoint</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/merchant-backend#payment-orders-endpoint">Payment Orders Endpoint</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/merchant-backend#set-instrument-endpoint">Set Instrument Endpoint</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/merchant-backend#payment-url-helper-endpoints">Payment Url Helper Endpoints</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/merchant-backend#problems">Problems</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/modules-sdks/mobile-sdk/merchant-backend-sample-code">Merchant Backend Sample Code</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf nav-subgroup-leaf"><a href="/modules-sdks/mobile-sdk/merchant-backend-sample-code">Merchant Backend Sample Code</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/modules-sdks/mobile-sdk/android">Android</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/android#installation">Installation</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/android#usage">Usage</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/android#errors">Errors</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/android#problems">Problems</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/android#payment-url-and-external-applications">Payment URL and External Applications</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/modules-sdks/mobile-sdk/ios">iOS</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/ios#installation">Installation</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/ios#usage">Usage</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/ios#problems">Problems</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/ios#payment-url-and-external-applications">Payment URL and External Applications</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/modules-sdks/mobile-sdk/custom-backend">Custom Backend</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/custom-backend#basic-backend-requirements">Basic Backend Requirements</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/custom-backend#android-configuration">Android Configuration</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/custom-backend#ios-configuration">iOS Configuration</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/custom-backend#backend">Backend</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/custom-backend#updating-a-payment-order">Updating a Payment Order</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/custom-backend#errors">Errors</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/custom-backend#other-features">Other Features</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/modules-sdks/mobile-sdk/other-features">Other Features</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/other-features#payment-orders">Payment Orders</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/other-features#instrument-mode">Instrument Mode</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/other-features#payer-aware-payment-menu">Payer Aware Payment Menu</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/other-features#purchase-payments">Purchase Payments</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/other-features#verify-payments">Verify Payments</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/other-features#observing-the-payment-process">Observing the Payment Process</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/other-features#problems">Problems</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/other-features#android-view-model-provider-key">Android: View Model Provider Key</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/other-features#android-default-ui">Android: Default UI</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/other-features#debugging-features">Debugging Features</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/modules-sdks/mobile-sdk/process-diagrams">Process Diagrams</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/process-diagrams#initialization">Initialization</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/process-diagrams#merchant-backend-discover-endpoints">Merchant Backend: Discover Endpoints</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/process-diagrams#optional-checkin">Optional Checkin</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/process-diagrams#begin-checkout">Begin Checkout</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/process-diagrams#external-content">External Content</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/process-diagrams#payment-completion">Payment Completion</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/modules-sdks/mobile-sdk/plain-webview">Plain Webview</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/plain-webview#quick-fix-list">Quick Fix List</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/plain-webview#the-mobile-sdk-and-you">The Mobile SDK And You</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/plain-webview#basics">Basics</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/plain-webview#completion">Completion</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/plain-webview#external-applications">External Applications</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/plain-webview#getting-back-from-external-applications">Getting Back from External Applications</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/plain-webview#dealing-with-picky-web-pages">Dealing with Picky Web Pages</a></li>
        
      </ul>
      </li>
      </ul>
      </li>
      </ul>
      </li>
<li class="nav-group">
        <div class="nav-group-heading">
          <i class="material-icons">arrow_right</i>
          <span>Resources</span>
        </div>
        <ul class="nav-ul">
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/resources/">Introduction</a>
        </div>
        <ul class="nav-ul">
<li class="nav-leaf"><a href="/resources/#test-data">Test Data</a></li>
<li class="nav-leaf"><a href="/resources/#demoshop">Demoshop</a></li>
<li class="nav-leaf"><a href="/resources/#open-source-development-guidelines">Open Source Development Guidelines</a></li>
</ul>
      </li>
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/resources/demoshop">Demoshop</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf nav-subgroup-leaf"><a href="/resources/demoshop">Demoshop</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/resources/public-migration-key">Public Migration Key</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf nav-subgroup-leaf"><a href="/resources/public-migration-key">Public Migration Key</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/resources/terminology">Terminology</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf nav-subgroup-leaf"><a href="/resources/terminology">Terminology</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/resources/data-protection">Data Protection</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/resources/data-protection#paymentorder-consumer-data">Paymentorder consumer data</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/resources/development-guidelines/">Open Source Development Guidelines</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/resources/development-guidelines/">Introduction</a>
        </div>
        <ul class="nav-ul">
<li class="nav-leaf"><a href="/resources/development-guidelines/#principles">Principles</a></li>
<li class="nav-leaf"><a href="/resources/development-guidelines/#licensing">Licensing</a></li>
<li class="nav-leaf"><a href="/resources/development-guidelines/#copyright">Copyright</a></li>
<li class="nav-leaf"><a href="/resources/development-guidelines/#how-to-contribute">How to Contribute</a></li>
<li class="nav-leaf"><a href="/resources/development-guidelines/#code-of-conduct">Code of Conduct</a></li>
<li class="nav-leaf"><a href="/resources/development-guidelines/#release-management">Release Management</a></li>
</ul>
      </li>
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/resources/development-guidelines/code-of-conduct">Code Of Conduct</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/resources/development-guidelines/code-of-conduct#contributor-code-of-conduct">Contributor Code of Conduct</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/resources/development-guidelines/contributing">Contributing</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/resources/development-guidelines/contributing#how-to-contribute">How to contribute</a></li>
<li class="nav-leaf"><a href="/resources/development-guidelines/contributing#getting-started">Getting Started</a></li>
<li class="nav-leaf"><a href="/resources/development-guidelines/contributing#making-changes">Making Changes</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/resources/development-guidelines/good-commit-practice">Good Commit Practice</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/resources/development-guidelines/good-commit-practice#executive-summary">Executive Summary</a></li>
<li class="nav-leaf"><a href="/resources/development-guidelines/good-commit-practice#structural-split-of-changes">Structural split of changes</a></li>
<li class="nav-leaf"><a href="/resources/development-guidelines/good-commit-practice#things-to-avoid-when-creating-commits">Things to avoid when creating commits</a></li>
<li class="nav-leaf"><a href="/resources/development-guidelines/good-commit-practice#information-in-commit-messages">Information in commit messages</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/resources/development-guidelines/license">License</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/resources/development-guidelines/license#licensing">Licensing</a></li>
        
      </ul>
      </li>
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/resources/release-notes">Release Notes</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/resources/release-notes#26-jan-2021">26 Jan 2021</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#01-dec-2020">01 Dec 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#12-nov-2020">12 Nov 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#11-nov-2020">11 Nov 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#04-sep-2020">04 Sep 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#28-aug-2020">28 Aug 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#21-aug-2020">21 Aug 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#17-jul-2020">17 Jul 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#10-jul-2020">10 Jul 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#07-jul-2020">07 Jul 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#04-jun-2020">04 Jun 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#29-may-2020">29 May 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#22-may-2020">22 May 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#14-may-2020">14 May 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#07-may-2020">07 May 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#22-apr-2020">22 Apr 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#15-apr-2020">15 Apr 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#31-mar-2020">31 Mar 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#18-mar-2020">18 Mar 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#04-mar-2020">04 Mar 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#03-mar-2020">03 Mar 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#27-feb-2020">27 Feb 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#7-feb-2020">7 Feb 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#6-feb-2020">6 Feb 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#29-jan-2020">29 Jan 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#27-jan-2020">27 Jan 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#16-jan-2020">16 Jan 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#09-jan-2020">09 Jan 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#22-dec-2019">22 Dec 2019</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#01-nov-2019">01 Nov 2019</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#01-oct-2019">01 Oct 2019</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#01-aug-2019">01 Aug 2019</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/resources/test-data">Test Data</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/resources/test-data#swedbank-pay-checkout-test-data">Swedbank Pay Checkout Test Data</a></li>
<li class="nav-leaf"><a href="/resources/test-data#credit-card-test-data">Credit Card Test Data</a></li>
<li class="nav-leaf"><a href="/resources/test-data#failure-testing">Failure Testing</a></li>
<li class="nav-leaf"><a href="/resources/test-data#invoice-test-data">Invoice Test Data</a></li>
<li class="nav-leaf"><a href="/resources/test-data#invoice-service-test-data">Invoice Service Test Data</a></li>
<li class="nav-leaf"><a href="/resources/test-data#vipps-test-data">Vipps Test Data</a></li>
<li class="nav-leaf"><a href="/resources/test-data#swish-test-data">Swish Test Data</a></li>
        
      </ul>
      </li>
      </ul>
      </li>
</ul>
                            </nav>
                        </div>
                    </div>

                    <main class="doc-view col-xxl-10 col-lg-9">
                        
                            





<div class="title-header">
    <div class="title-header-container max-width">
        
            <h4>Invoice</h4>
        

        <h1>Other Features</h1>

        
            <div class="title-header-estimated-read">
                <i class="material-icons">schedule</i>
                70 min read
            </div>
        

        
    </div>

    

<a href="https://github.com/SwedbankPay/developer.swedbankpay.com/tree/master/payment-instruments/invoice/other-features.md" class="github" target="_blank" rel="noopener noreferrer" title="Edit 'Other Features' on GitHub">
    <svg aria-labelledby="simpleicons-github-icon" role="img" width="40" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <title id="simpleicons-github-icon">Edit "Other Features" on GitHub</title>
        <path fill="#fff" d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path>
    </svg>
</a>

</div>

                        
                        <div class="doc-container normal-padding max-width
                            ">
                            <article>
                                <h2 id="api-requests">
        
        
          API requests <a href="#api-requests" class="header-anchor"></a>
        
        
      </h2>

<p>The API requests are displayed in the <a href="/payment-instruments/invoice#invoice-flow">invoice flow</a>.
The options you can choose from when creating a payment with key operation
set to value <code class="language-html highlighter-rouge">FinancingConsumer</code> are listed below.</p>
    
      <h3 id="options-before-posting-a-payment">
        
        
          Options before posting a payment <a href="#options-before-posting-a-payment" class="header-anchor"></a>
        
        
      </h3>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left"> </th>
      <th style="text-align: left">Norway <i class="flag-icon flag-icon-no "></i>
</th>
      <th style="text-align: left">Finland <i class="flag-icon flag-icon-fi "></i>
</th>
      <th style="text-align: left">Sweden <i class="flag-icon flag-icon-se "></i>
</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">operation</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">FinancingConsumer</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">FinancingConsumer</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">FinancingConsumer</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">currency</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">NOK</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">EUR</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">SEK</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">invoiceType</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">PayExFinancingNO</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">PayExFinancingFI</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">PayExFinancingSE</code></td>
    </tr>
  </tbody>
</table>

<ul>
  <li>An invoice payment is always two-phased based -  you create an Authorize
  transaction, that is followed by a Capture or Cancel request.</li>
</ul>

<div class="alert alert-complex alert-success">
    <header class="alert-header">
        
        <i class="material-icons alert-icon">link</i>
      <h3>
        
        
          Callback URL
        
        
      </h3></header>
    

    
    
    <div class="alert-body">
        <p>It is mandatory to set a <a href="/payment-instruments/invoice/other-features#callback"><code class="language-html highlighter-rouge">callbackUrl</code></a> in the <code class="language-html highlighter-rouge">POST</code>
request creating the payment. When <code class="language-html highlighter-rouge">callbackUrl</code> is set, Swedbank Pay will send
a <code class="language-html highlighter-rouge">POST</code> request to this URL when the payer has fulfilled the payment. Upon
receiving this <code class="language-html highlighter-rouge">POST</code> request, a subsequent <code class="language-html highlighter-rouge">GET</code> request towards the <code class="language-html highlighter-rouge">id</code> of
the payment generated initially must be made to receive the state of the
transaction.</p>
    </div>
    
    
</div>
    
      <h3 id="authorizations">
        
        
          Authorizations <a href="#authorizations" class="header-anchor"></a>
        
        
      </h3>

<p>The <code class="language-html highlighter-rouge">authorizations</code> resource will list the authorization transactions
made on a specific payment.</p>

<p class="code-view-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
</pre></td>
<td class="code-view-code"><pre><span class="nf">GET</span> <span class="nn">/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/authorizations</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p>The <code class="language-html highlighter-rouge">authorization</code> resource contains information about the
<code class="language-html highlighter-rouge">authorization</code> transaction made against a  payment. You can
return a specific <code class="language-html highlighter-rouge">authorization</code> transaction by performing a <code class="language-html highlighter-rouge">GET</code> request
towards the specific transaction’s <code class="language-html highlighter-rouge">id</code>.</p>

<p class="code-view-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
</pre></td>
<td class="code-view-code"><pre><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"authorizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/authorizations"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"authorizationList"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/authorizations/ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"consumer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/consumer"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"legalAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/legaladdress"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"billingAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/billingaddress"</span><span class="w">
                </span><span class="p">},</span><span class="w">
            </span><span class="nl">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions/ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T01:01:01.01Z"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T01:01:01.03Z"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Authorization"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234567890</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="p">,</span><span class="w">
                </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test transaction"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AH123456"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"isOperational"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"operations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                       </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/authorizations"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"create-authorization"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"edit-authorization"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PATCH"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">payment</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">payment</code> resource this <code class="language-html highlighter-rouge">authorizations</code> belongs to..    Please read about <a href="/introduction#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">authorizations</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The current <code class="language-html highlighter-rouge">authorizations</code> resource.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">id</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">authorizations</code> resource this <code class="language-html highlighter-rouge">authorizations</code> belongs to..    Please read about <a href="/introduction#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">authorizationList</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of authorization transaction objects.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">authorizationList[]</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The authorization transaction object described in the <code class="language-html highlighter-rouge">authorization</code> resource below.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">id</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">transaction</code> resource this <code class="language-html highlighter-rouge">authorizations</code> belongs to..    Please read about <a href="/introduction#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">created</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date and time of when the transaction was created.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">updated</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date and time of when the transaction was updated.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">type</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Indicates the transaction type.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">state</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Indicates the state of the transaction, usually <code class="language-html highlighter-rouge">initialized</code>, <code class="language-html highlighter-rouge">completed</code> or<code class="language-html highlighter-rouge">failed</code>. If a partial authorization has been done and further transactionsare possible, the state will be <code class="language-html highlighter-rouge">awaitingActivity</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">number</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The transaction <code class="language-html highlighter-rouge">number</code>, useful when there’s need to reference the transaction in human communication. Not usable for programmatic identification of the transaction, where <code class="language-html highlighter-rouge">id</code> should be used instead.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">amount</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">The transaction amount (including VAT, if any) entered in the lowest monetary unit of the selected currency. E.g.: <strong><code class="language-html highlighter-rouge">10000</code></strong> = <code class="language-html highlighter-rouge">100.00</code> SEK, <strong><code class="language-html highlighter-rouge">5000</code></strong> = <code class="language-html highlighter-rouge">50.00</code> SEK.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">vatAmount</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">The payment’s VAT (Value Added Tax) <code class="language-html highlighter-rouge">amount</code>, entered in the lowest monetary unit of the selected currency. E.g.: <strong><code class="language-html highlighter-rouge">10000</code></strong> = <code class="language-html highlighter-rouge">100.00</code> SEK, <strong><code class="language-html highlighter-rouge">5000</code></strong> = <code class="language-html highlighter-rouge">50.00</code> SEK.  The <code class="language-html highlighter-rouge">vatAmount</code> entered will not affect the <code class="language-html highlighter-rouge">amount</code> shown on the payment page, which only shows the total <code class="language-html highlighter-rouge">amount</code>. This field is used to specify how much of the total <code class="language-html highlighter-rouge">amount</code> the VAT will be. Set to <code class="language-html highlighter-rouge">0</code> (zero) if there is no VAT <code class="language-html highlighter-rouge">amount</code> charged.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">description</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">A 40 character length textual <a href="/payment-instruments/invoice/other-features#description">description</a> of the purchase.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">payeeReference</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">A unique reference from the merchant system. It is set per operation to     ensure an exactly-once delivery of a transactional operation. See     <a href="/payment-instruments/invoice/other-features#payee-reference"><code class="language-html highlighter-rouge">payeeReference</code></a> for details.               In Invoice Payments <code class="language-html highlighter-rouge">payeeReference</code> is used as an invoice/receipt         number, if the <code class="language-html highlighter-rouge">receiptReference</code> is not defined.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">isOperational</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">bool</code></td>
      <td style="text-align: left">
<code class="language-html highlighter-rouge">true</code> if the transaction is operational; otherwise <code class="language-html highlighter-rouge">false</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">operations</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of <a href="/payment-instruments/invoice/other-features#operations">operations</a> that are possible to perform on the transaction in its current state.</td>
    </tr>
  </tbody>
</table>
    
      <h4 id="create-authorization-transaction">
        
        
          Create Authorization transaction <a href="#create-authorization-transaction" class="header-anchor"></a>
        
        
      </h4>

<p>To create an <code class="language-html highlighter-rouge">authorization</code> transaction, perform the <code class="language-html highlighter-rouge">create-authorization</code>
operation as returned in a previously created invoice payment.</p>

<p class="code-view-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
</pre></td>
<td class="code-view-code"><pre><span class="nf">POST</span> <span class="nn">/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/authorizations</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"activity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FinancingConsumer"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"consumer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"socialSecurityNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"socialSecurityNumber"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"customerNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Olivia Nyhuus"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"olivia.nyhuus@payex.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"msisdn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+4798765432"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.0.0.1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"legalAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"addressee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Olivia Nyhuus"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"streetAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SaltnesToppen 43"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"zipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1642"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Saltnes"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"countryCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"billingAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"addressee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Olivia Nyhuus"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"coAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bernt Nyhuus"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"streetAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SaltnesToppen 43"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"zipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1642"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Saltnes"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"countryCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Required</th>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Data type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><i class="material-icons">check</i></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">transaction.activity</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">FinancingConsumer</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><i class="material-icons">check</i></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">consumer</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The payer object.</td>
    </tr>
    <tr>
      <td style="text-align: left"><i class="material-icons">check</i></td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">socialSecurityNumber</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The social security number (national identity number) of the payer. Format Sweden: <code class="language-html highlighter-rouge">YYMMDD-NNNN</code>. Format Norway: <code class="language-html highlighter-rouge">DDMMYYNNNNN</code>. Format Finland: <code class="language-html highlighter-rouge">DDMMYYNNNNN</code>
</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">customerNumber</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The customer number in the merchant system.</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">email</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The e-mail address of the payer.</td>
    </tr>
    <tr>
      <td style="text-align: left"><i class="material-icons">check</i></td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">msisdn</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The mobile phone number of the payer. Format Sweden: <code class="language-html highlighter-rouge">+46707777777</code>. Format Norway: <code class="language-html highlighter-rouge">+4799999999</code>. Format Finland: <code class="language-html highlighter-rouge">+358501234567</code>
</td>
    </tr>
    <tr>
      <td style="text-align: left"><i class="material-icons">check</i></td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">ip</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The IP address of the payer.</td>
    </tr>
    <tr>
      <td style="text-align: left"><i class="material-icons">check</i></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">legalAddress</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The legal address object containing information about the payer’s legal address.</td>
    </tr>
    <tr>
      <td style="text-align: left"><i class="material-icons">check</i></td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">addressee</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The full (first and last) name of the payer.</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">coAddress</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The CO-address (if used)</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">streetAddress</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The street address of the payer. Maximum 50 characters long.</td>
    </tr>
    <tr>
      <td style="text-align: left"><i class="material-icons">check</i></td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">zipCode</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The postal code (ZIP code) of the payer.</td>
    </tr>
    <tr>
      <td style="text-align: left"><i class="material-icons">check</i></td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">city</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The city of the payer.</td>
    </tr>
    <tr>
      <td style="text-align: left"><i class="material-icons">check</i></td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">countryCode</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">
<code class="language-html highlighter-rouge">SE</code>, <code class="language-html highlighter-rouge">NO</code>, or <code class="language-html highlighter-rouge">FI</code>. The country code of the payer.</td>
    </tr>
    <tr>
      <td style="text-align: left"><i class="material-icons">check</i></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">billingAddress</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The billing address object containing information about the payer’s billing address.</td>
    </tr>
    <tr>
      <td style="text-align: left"><i class="material-icons">check</i></td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">addressee</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The full (first and last) name of the payer.</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">coAddress</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The CO-address (if used)</td>
    </tr>
    <tr>
      <td style="text-align: left">
<i class="material-icons">check</i>︎︎︎︎ ︎</td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">streetAddress</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The street address of the payer. Maximum 50 characters long.</td>
    </tr>
    <tr>
      <td style="text-align: left"><i class="material-icons">check</i></td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">zipCode</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The postal number (ZIP code) of the payer.</td>
    </tr>
    <tr>
      <td style="text-align: left"><i class="material-icons">check</i></td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">city</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The city of the payer.</td>
    </tr>
    <tr>
      <td style="text-align: left"><i class="material-icons">check</i></td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">countryCode</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">
<code class="language-html highlighter-rouge">SE</code>, <code class="language-html highlighter-rouge">NO</code>, or <code class="language-html highlighter-rouge">FI</code>.</td>
    </tr>
  </tbody>
</table>

<div class="alert  alert-informative">
    
    
    <i class="material-icons alert-icon">info</i>
    
    

    
    
    <p>Note: The legal address must be the registered address of the payer.</p>
    
    
</div>

<p>The <code class="language-html highlighter-rouge">authorization</code> resource will be returned, containing information about
the newly created authorization transaction.</p>

<p class="code-view-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre></td>
<td class="code-view-code"><pre><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"authorization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/authorizations/ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"consumer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/consumer"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"legalAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/legaladdress"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"billingAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/billingaddress"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions/ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T01:01:01.01Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T01:01:01.03Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Authorization"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Initialized"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234567890</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="p">,</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test transaction"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AH123456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isOperational"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"operations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"edit-authorization"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PATCH"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>
    
      <h2 id="payment-resource">
        
        
          Payment Resource <a href="#payment-resource" class="header-anchor"></a>
        
        
      </h2>

<p>The <code class="language-html highlighter-rouge">payment</code> resource is central to all payment instruments. All operations
that target the payment resource directly produce a response similar to the
example seen below. The response given contains all operations that are
possible to perform in the current state of the payment.</p>

<p class="code-view-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
</pre></td>
<td class="code-view-code"><pre><span class="nf">GET</span> <span class="nn">/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p class="code-view-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
</pre></td>
<td class="code-view-code"><pre><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234567890</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T13:21:29.3182115Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T13:21:57.6627579Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ready"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"intent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Authorization"</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SEK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingCaptureAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingCancellationAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingReversalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"initiatingSystemUserAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PostmanRuntime/3.0.1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0..."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sv-SE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/prices"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payeeInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/payeeInfo"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/payers"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/urls"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"authorizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/authorizations"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"captures"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/captures"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"reversals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/reversals"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"cancellations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/cancellations"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"operations"</span><span class="p">:</span><span class="w"> </span><span class="p">[,</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/operation=authorize"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"view-authorization"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/javascript"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"redirect-authorization"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text/html"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PATCH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"update-payment-abort"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/captures"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"create-capture"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/paid"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid-payment"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/failed"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed-payment"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">payment</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The <code class="language-html highlighter-rouge">payment</code> object contains information about the specific payment.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">id</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">payment</code> resource this <code class="language-html highlighter-rouge">authorizations</code> belongs to..    Please read about <a href="/introduction#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">number</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">The payment  number , useful when there’s need to reference the payment in human communication. Not usable for programmatic identification of the payment, for that  id  should be used instead.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">created</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date of when the payment was created.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">updated</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date of when the payment was updated.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">state</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">
<code class="language-html highlighter-rouge">Ready</code>, <code class="language-html highlighter-rouge">Pending</code>, <code class="language-html highlighter-rouge">Failed</code> or <code class="language-html highlighter-rouge">Aborted</code>. Indicates the state of the payment, not the state of any transactions performed on the payment. To find the state of the payment’s transactions (such as a successful authorization), see the <code class="language-html highlighter-rouge">transactions</code> resource or the different specialized type-specific resources such as <code class="language-html highlighter-rouge">authorizations</code> or <code class="language-html highlighter-rouge">sales</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">prices</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The <code class="language-html highlighter-rouge">prices</code> resource lists the prices related to a specific payment.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">prices.id</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">prices</code> resource this <code class="language-html highlighter-rouge">authorizations</code> belongs to..    Please read about <a href="/introduction#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">description</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">A 40 character length textual <a href="/payment-instruments/invoice/other-features#description">description</a> of the purchase.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">userAgent</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The <a href="https://en.wikipedia.org/wiki/User_agent">user agent</a> string of the payer’s browser.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">language</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">
<code class="language-html highlighter-rouge">sv-SE</code>, <code class="language-html highlighter-rouge">nb-NO</code> or <code class="language-html highlighter-rouge">en-US</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">urls</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI to the  urls  resource where all URIs related to the payment can be retrieved.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">payeeInfo</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The <code class="language-html highlighter-rouge">payeeInfo</code> object, containing information about the payee (the recipient of the money).    See <a href="/payment-instruments/invoice/other-features#payeeinfo"><code class="language-html highlighter-rouge">payeeInfo</code></a> for details.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">payers</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI to the <code class="language-html highlighter-rouge">payer</code> resource where the information about the payer can be retrieved.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">operations</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of possible operations to perform</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">method</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The HTTP method to use when performing the operation.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">href</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The target URI to perform the operation against.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">rel</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The name of the relation the operation has to the current resource.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="operations">
        
        
          Operations <a href="#operations" class="header-anchor"></a>
        
        
      </h3>

<p>The operations should be performed as described in each response and not as
described here in the documentation.
Always use the <code class="language-html highlighter-rouge">href</code> and <code class="language-html highlighter-rouge">method</code> as specified in the response by finding
the appropriate operation based on its <code class="language-html highlighter-rouge">rel</code> value.
The only thing that should be hard coded in the client is the value of
the <code class="language-html highlighter-rouge">rel</code> and the request that will be sent in the HTTP body of the request
for the given operation.</p>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Operation</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">update-payment-abort</code></td>
      <td style="text-align: left">
<code class="language-html highlighter-rouge">abort</code>s the payment order before any financial transactions are performed.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">redirect-authorization</code></td>
      <td style="text-align: left">Contains the URI that is used to redirect the payer to the Swedbank Pay Payments containing the card authorization UI.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">view-authorization</code></td>
      <td style="text-align: left">Contains the JavaScript <code class="language-html highlighter-rouge">href</code> that is used to embed the card authorization UI directly on the webshop/merchant site</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">view-payment</code></td>
      <td style="text-align: left">Contains the URI of the JavaScript to create a Seamless view iframe directly without redirecting the payer to a separate payment page.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">create-capture</code></td>
      <td style="text-align: left">Creates a <code class="language-html highlighter-rouge">capture</code> transaction in order to charge the reserved funds from the payer.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">create-cancellation</code></td>
      <td style="text-align: left">Creates a <code class="language-html highlighter-rouge">cancellation</code> transaction that cancels a created, but not yet captured payment.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">paid-payment</code></td>
      <td style="text-align: left">Returns the information about a payment that has the status <code class="language-html highlighter-rouge">paid</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">failed-payment</code></td>
      <td style="text-align: left">Returns the information about a payment that has the status <code class="language-html highlighter-rouge">failed</code>.</td>
    </tr>
  </tbody>
</table>
    
      <h2 id="payment-and-transaction-states">
        
        
          Payment And Transaction States <a href="#payment-and-transaction-states" class="header-anchor"></a>
        
        
      </h2>

<p>Both payments and transactions can be in several different states during
the course of a purchase. You can find a short description of each state below.</p>
    
      <h3 id="payment-states">
        
        
          Payment States <a href="#payment-states" class="header-anchor"></a>
        
        
      </h3>

<ul>
  <li>
    <p><code class="language-html highlighter-rouge">ready</code> means that the payment has been created successfully, and is now
ready for further transaction operations, like <code class="language-html highlighter-rouge">authorization</code>, <code class="language-html highlighter-rouge">sale</code> or
<code class="language-html highlighter-rouge">abort</code>.</p>
  </li>
  <li>
    <p><code class="language-html highlighter-rouge">failed</code> means that something went wrong during the payment process, and no
further transactions can be created if the payment is in this state.
Examples of possible failures are triggering of anti-fraud protection or if
the payer reaches the maximum number of attempts for a given payment.</p>
  </li>
  <li>
    <p><code class="language-html highlighter-rouge">aborted</code> means that the merchant has aborted the payment before the
payer has fulfilled the payment process. Aborting a payment is done by
performing the <code class="language-html highlighter-rouge">update-payment-abort</code> operation.</p>
  </li>
  <li>
    <p><code class="language-html highlighter-rouge">pending</code> is the state of a payment when a transaction is in an
<code class="language-html highlighter-rouge">initialized</code> state. See more below. As long as a payment is <code class="language-html highlighter-rouge">pending</code>, no
further transactions can be done.</p>
  </li>
</ul>

<div class="alert  alert-informative">
    
    
    <i class="material-icons alert-icon">info</i>
    
    

    
    
    <p>If you want to inspect the transactional status of a payment, read about the
<a href="#operation-paid-payment"><code class="language-html highlighter-rouge">paid-payment</code></a>,
<a href="#operation-failed-payment"><code class="language-html highlighter-rouge">failed-payment</code></a> and
<a href="#operation-aborted-payment"><code class="language-html highlighter-rouge">aborted-payment</code></a> operations.</p>
    
    
</div>
    
      <h3 id="transaction-states">
        
        
          Transaction States <a href="#transaction-states" class="header-anchor"></a>
        
        
      </h3>

<ul>
  <li>
    <p><code class="language-html highlighter-rouge">ìntialized</code> is the transaction state when something unexpected occured, and
   it is impossible to determine the exact status of the transaction.
   An example of this can be a network failure.
   No further actions can be done on a payment with a transaction in this state.</p>
  </li>
  <li>
    <p><code class="language-html highlighter-rouge">completed</code> means that the transaction has reached its intended purpose. An
<code class="language-html highlighter-rouge">authorization</code> will be <code class="language-html highlighter-rouge">completed</code> when the funds have been authorized, a
<code class="language-html highlighter-rouge">capture</code> will be <code class="language-html highlighter-rouge">completed</code> when the funds have been captured and a
<code class="language-html highlighter-rouge">reversal</code> will be <code class="language-html highlighter-rouge">completed</code> when the payer has been refunded.</p>
  </li>
  <li>
    <p><code class="language-html highlighter-rouge">failed</code> means that the transaction has <code class="language-html highlighter-rouge">failed</code>. The state is final for
that specific transaction, but given that the payment is operational, it is
possible to perform more transactions on the same payment, i.e. retry the
authorization with another card.
If the payer reaches the maximum amount of retries, the payment itself will
be set to <code class="language-html highlighter-rouge">failed</code>.</p>
  </li>
  <li>
    <p><code class="language-html highlighter-rouge">awaitingActivity</code> is in use for a selection of payment instruments. A
transaction reaches this state when a payer is sent away from Swedbank Pay
to do a confirmation or verification. Examples of this can be payment apps
like Swish, Vipps or MobilePay, or 3-D Secure verifications for card
payments.</p>
  </li>
</ul>
    
      <h2 id="payment-state">
        
        
          Payment State <a href="#payment-state" class="header-anchor"></a>
        
        
      </h2>

<p>The <code class="language-html highlighter-rouge">state</code> field on the <code class="language-html highlighter-rouge">authorization</code> does not indicate whether a given
<code class="language-html highlighter-rouge">transaction</code> was successful or not, it only tells whether the authorization
resource itself is operational or not. To figure out the <code class="language-html highlighter-rouge">state</code> of i.e. authorization <code class="language-html highlighter-rouge">transactions</code>, you have two options:</p>
    
      <h3 id="paid-or-failed-operations">
        
        
          Paid or Failed Operations <a href="#paid-or-failed-operations" class="header-anchor"></a>
        
        
      </h3>

<p>You can perform a <code class="language-html highlighter-rouge">GET</code> request on the authorization. As long as the
authorization has been completed, successful or not, you will find the
<code class="language-html highlighter-rouge">Paid</code> or <code class="language-html highlighter-rouge">Failed</code> operation among the operations in the response.</p>

<p>Please note that a authorization where a <code class="language-html highlighter-rouge">Failed</code> attempt has been made,
but the payer still has attempts left to complete the authorization, you
won’t see the <code class="language-html highlighter-rouge">Failed</code> operation. It will only appear when all attempts have
been made.</p>
    
      <h3 id="authorization-or-sale-transactions">
        
        
          Authorization or Sale Transactions <a href="#authorization-or-sale-transactions" class="header-anchor"></a>
        
        
      </h3>

<p>Find the authorization’s list of <code class="language-html highlighter-rouge">transactions</code> either by expanding it when
retrieving the authorization, or by performing a <code class="language-html highlighter-rouge">GET</code> request towards the
<code class="language-html highlighter-rouge">transactions.id</code> URI.</p>

<p>If you find a <code class="language-html highlighter-rouge">transaction</code> with <code class="language-html highlighter-rouge">type</code> equal to authorization, with its
<code class="language-html highlighter-rouge">state</code> equal to <code class="language-html highlighter-rouge">Completed</code>, you can be sure that the amount of the
authorization has been reserved or withdrawn and that the authorization
can be considered successful.</p>
    
      <h3 id="operation-paid-payment">
        
        
          Operation <code class="language-html highlighter-rouge">paid-payment</code> <a href="#operation-paid-payment" class="header-anchor"></a>
        
        
      </h3>

<p>The <code class="language-html highlighter-rouge">paid-payment</code> operation confirms that the transaction has been successful
and that the payment is completed.</p>

<p>A <code class="language-html highlighter-rouge">paid-payment</code> operation looks like the following:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
</pre></td>
<td class="code-view-code"><pre><span class="p">{</span><span class="w">
   </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/paid"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid-payment"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<p>To inspect the paid payment, you need to perform an HTTP <code class="language-html highlighter-rouge">GET</code> request
towards the operation’s <code class="language-html highlighter-rouge">href</code> field. An example of how the request and
response look like is given below.</p>

<p class="code-view-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
</pre></td>
<td class="code-view-code"><pre><span class="nf">GET</span> <span class="nn">/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/paid</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p class="code-view-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td>
<td class="code-view-code"><pre><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"paid"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/paid"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234567890</span><span class="p">,</span><span class="w">
    </span><span class="nl">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions/"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"number"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1234567891</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CD123"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AB1234"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">payment</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">payment</code> resource this <code class="language-html highlighter-rouge">transaction</code> belongs to..    Please read about <a href="/introduction#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">transaction</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The transaction object, containing information about the current transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">id</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">transaction</code> resource this <code class="language-html highlighter-rouge">transaction</code> belongs to..    Please read about <a href="/introduction#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">number</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The transaction <code class="language-html highlighter-rouge">number</code>, useful when there’s need to reference the transaction in human communication. Not usable for programmatic identification of the transaction, for that <code class="language-html highlighter-rouge">id</code> should be used instead.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">payeeReference</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">A unique reference from the merchant system. It is set per operation to     ensure an exactly-once delivery of a transactional operation. See     <a href="/payment-instruments/invoice/other-features#payee-reference"><code class="language-html highlighter-rouge">payeeReference</code></a> for details.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">orderReference</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string(50)</code></td>
      <td style="text-align: left">The order reference should reflect the order reference found in the merchant’s systems.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">amount</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">The transaction amount (including VAT, if any) entered in the lowest monetary unit of the selected currency. E.g.: <strong><code class="language-html highlighter-rouge">10000</code></strong> = <code class="language-html highlighter-rouge">100.00</code> SEK, <strong><code class="language-html highlighter-rouge">5000</code></strong> = <code class="language-html highlighter-rouge">50.00</code> SEK.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">tokens</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">List of tokens generated.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">details</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">A human readable and descriptive text of the payment.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">cardBrand</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">
<code class="language-html highlighter-rouge">Visa</code>, <code class="language-html highlighter-rouge">MC</code>, etc. The brand of the card.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">maskedPan</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The masked PAN number of the card.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">cardType</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">
<code class="language-html highlighter-rouge">Credit Card</code> or <code class="language-html highlighter-rouge">Debit Card</code>. Indicates the type of card used for the authorization.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">issuingBank</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The name of the bank that issued the card used for the authorization.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">countryCode</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The country the card is issued in.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">acquirerTransactionType</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">
<code class="language-html highlighter-rouge">3DSECURE</code> or <code class="language-html highlighter-rouge">SSL</code>. Indicates the transaction type of the acquirer.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">acquirerStan</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The System Trace Audit Number assigned by the acquirer to uniquely identify the transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">acquirerTerminalId</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The ID of the acquirer terminal.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">acquirerTransactionTime</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date and time of the acquirer transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">nonPaymentToken</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Result of our own tokenization of the card used. Activated in POS on merchant or merchant group.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">externalNonPaymentToken</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Result of external tokenization. This value varies depending on cards, acquirer, customer, etc. For ICA cards, the token comes in response from Swedbank. For Mass Transit(SL) it is populated with PAR if it comes in response from the redeemer (Visa). If not, our own token (Mastercard / Amex).</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="operation-failed-payment">
        
        
          Operation <code class="language-html highlighter-rouge">failed-payment</code> <a href="#operation-failed-payment" class="header-anchor"></a>
        
        
      </h3>

<p>The <code class="language-html highlighter-rouge">failed-payment</code> operation means that something went wrong during the
payment process, the transaction was not authorized, and no further transactions
can be created if the payment is in this state.</p>

<p>A <code class="language-html highlighter-rouge">failed-payment</code> operation looks like the following:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
</pre></td>
<td class="code-view-code"><pre><span class="p">{</span><span class="w">
   </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/failed"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed-payment"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/problem+json"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<p>To inspect why the payment failed, you need to perform an HTTP <code class="language-html highlighter-rouge">GET</code> request
towards the operation’s <code class="language-html highlighter-rouge">href</code> field.</p>

<p>Under <code class="language-html highlighter-rouge">details</code> you can see the problem message and under <code class="language-html highlighter-rouge">problems</code> you can
see which problem and the <code class="language-html highlighter-rouge">description</code> of the problem with the corresponding
error code.</p>

<p>An example of how the request and response look like is given below.</p>

<p class="code-view-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
</pre></td>
<td class="code-view-code"><pre><span class="nf">GET</span> <span class="nn">/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/failed</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p class="code-view-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td>
<td class="code-view-code"><pre><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
   </span><span class="nl">"problem"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp/errordetail//acquirererror"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation failed"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">403</span><span class="p">,</span><span class="w">
       </span><span class="nl">"detail"</span><span class="p">:</span><span class="w">  </span><span class="s2">"Unable to complete Authorization transaction, look at problem node!"</span><span class="p">,</span><span class="w"> 
       </span><span class="nl">"problems"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ExternalResponse"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REJECTED_BY_ACQUIRER-unknown error, response-code: 51"</span><span class="w">
        </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
     </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>
    
      <h3 id="operation-aborted-payment">
        
        
          Operation <code class="language-html highlighter-rouge">aborted-payment</code> <a href="#operation-aborted-payment" class="header-anchor"></a>
        
        
      </h3>

<p>The <code class="language-html highlighter-rouge">aborted-payment</code> operation means that the merchant has aborted the payment
before the payer has fulfilled the payment process. You can see this under
<code class="language-html highlighter-rouge">abortReason</code> in the response.</p>

<p>An <code class="language-html highlighter-rouge">aborted-payment</code> operation looks like the following:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
</pre></td>
<td class="code-view-code"><pre><span class="p">{</span><span class="w">
    </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp/creditcard/payments/&lt;paymentId&gt;/aborted"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aborted-payment"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<p>To inspect why the payment was aborted, you need to perform an HTTP <code class="language-html highlighter-rouge">GET</code>
request towards the operation’s <code class="language-html highlighter-rouge">href</code> field. An example of how the request and
response looks like is given below.</p>

<p class="code-view-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
</pre></td>
<td class="code-view-code"><pre><span class="nf">GET</span> <span class="nn">/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/aborted</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p class="code-view-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td>
<td class="code-view-code"><pre><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"aborted"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"abortReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aborted by consumer"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>
    
      <h2 id="create-payment">
        
        
          Create Payment <a href="#create-payment" class="header-anchor"></a>
        
        
      </h2>

<p>Within the invoice payments part of the eCommerce API, you can create four kinds
of payments (<a href="#financing-consumer">FinancingConsumer</a>, <a href="#verify">Verify</a>, and
<a href="#recur">Recur</a>), and you can inspect and alter the details of the
individual transactions within the payment.</p>

<p>To create a invoice payment, you perform an HTTP <code class="language-html highlighter-rouge">POST</code> against the <code class="language-html highlighter-rouge">payments</code>
resource.</p>

<p>There are four different kinds of payment that can be created. These are
identified with the value of the <code class="language-html highlighter-rouge">operation</code> field. Each kind are documented
in their own section below.</p>

<p class="code-view-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td>
<td class="code-view-code"><pre><span class="nf">POST</span> <span class="nn">/psp/invoice/payments</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;operation&gt;"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"intent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;intent&gt;"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: center">Required</th>
      <th>Field</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><i class="material-icons">check</i></td>
      <td><code class="language-html highlighter-rouge">payment</code></td>
      <td><code class="language-html highlighter-rouge">object</code></td>
      <td>The <code class="language-html highlighter-rouge">payment</code> object.</td>
    </tr>
    <tr>
      <td style="text-align: center"><i class="material-icons">check</i></td>
      <td>└➔ <code class="language-html highlighter-rouge">operation</code>
</td>
      <td><code class="language-html highlighter-rouge">string</code></td>
      <td>Determines the initial operation, that defines the type invoice payment created.<br> <br> <code class="language-html highlighter-rouge">FinancingConsumer</code>. Used to create a new invoice to be sent to the payer.<br> <br> <code class="language-html highlighter-rouge">Recur</code>. Used to charge a card on a recurring basis. Is followed up by a capture or cancel operation (if not Autocapture is used, that is).<br> <br><code class="language-html highlighter-rouge">Verify</code>. Used when authorizing a card withouth reserveing any funds.  It is followed up by a verification transaction.</td>
    </tr>
    <tr>
      <td style="text-align: center"><i class="material-icons">check</i></td>
      <td>└➔ <code class="language-html highlighter-rouge">intent</code>
</td>
      <td><code class="language-html highlighter-rouge">string</code></td>
      <td>The intent of the payment identifies how and when the charge will be effectuated. This determine the type transactions used during the payment process.<br> <br><code class="language-html highlighter-rouge">Authorization</code>. Reserves the amount, and is followed by a <a href="/payment-instruments/invoice/after-payment#cancellations">cancellation</a> or <a href="/payment-instruments/invoice/capture">capture</a> of funds.</td>
    </tr>
  </tbody>
</table>
    
      <h2 id="financing-consumer">
        
        
          Financing Consumer <a href="#financing-consumer" class="header-anchor"></a>
        
        
      </h2>

<p>A <code class="language-html highlighter-rouge">FinancingConsumer</code> payment is an invoice.</p>

<p class="code-view-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
</pre></td>
<td class="code-view-code"><pre><span class="nf">POST</span> <span class="nn">/psp/invoice/payments</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">    "payment": {</span>
<span class="s">        "operation": "FinancingConsumer",</span>
<span class="s">        "intent": "&lt;intent&gt;",</span>
<span class="s">        "currency": "NOK",</span>
<span class="s">        "prices": [</span>
<span class="s">            {</span>
<span class="s">                "type": "Invoice",</span>
<span class="s">                "amount": 1500,</span>
<span class="s">                "vatAmount": 0</span>
<span class="s">            }</span>
<span class="s">        ],</span>
<span class="s">        "description": "Test Purchase",</span>
<span class="s">        "generateRecurrenceToken": "false",</span>
<span class="s">        "userAgent": "Mozilla/5.0...",</span>
<span class="s">        "language": "nb-NO",</span>
<span class="s">        "urls": {</span>
<span class="s">            "completeUrl": "https://example.com/payment-completed",</span>
<span class="s">            "cancelUrl": "https://example.com/payment-canceled",</span>
<span class="s">            "callbackUrl": "https://example.com/payment-callback",</span>
<span class="s">            "logoUrl": "https://example.com/logo.png",</span>
<span class="s">            "termsOfServiceUrl": "http://example.com/terms.pdf"</span>
<span class="s">        },</span>
<span class="s">        "payeeInfo": {</span>
<span class="s">            "payeeId": "5cabf558-5283-482f-b252-4d58e06f6f3b",</span>
<span class="s">            "payeeReference": "PR123",</span>
<span class="s">            "payeeName": "Merchant1",</span>
<span class="s">            "productCategory": "PC1234",</span>
<span class="s">            "subsite": "MySubsite"</span>
<span class="s">        },</span>
<span class="s">        "payer": {  </span>
<span class="s">            "payerReference": "AB1234",</span>
<span class="s">        }</span>
<span class="s">    },</span>
<span class="s">    "invoice": {</span>
<span class="s">        "invoiceType": "PayExFinancingNo"</span>
<span class="s">    }</span>
<span class="s">}</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>
    
      <h2 id="recur">
        
        
          Recur <a href="#recur" class="header-anchor"></a>
        
        
      </h2>

<p>A <code class="language-html highlighter-rouge">recur</code> payment is a payment that references a <code class="language-html highlighter-rouge">recurrenceToken</code> created
through a previous payment in order to charge the same card.</p>

<p class="code-view-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre></td>
<td class="code-view-code"><pre><span class="nf">POST</span> <span class="nn">/psp/invoice/payments</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Recur"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"intent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Authorization"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"recurrenceToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Recurrence"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0..."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nb-NO"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"callbackUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-callback"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payeeInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"payeeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5cabf558-5283-482f-b252-4d58e06f6f3b"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CD1234"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payeeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Merchant1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"productCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"or-12456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subsite"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MySubsite"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">  
            </span><span class="nl">"payerReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AB1234"</span><span class="p">,</span><span class="w">
        </span><span class="p">}</span><span class="w">
        </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"key1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"key2"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"key3"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"key4"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>
    
      <h2 id="delete-recurrencetoken">
        
        
          Delete recurrenceToken <a href="#delete-recurrencetoken" class="header-anchor"></a>
        
        
      </h2>

<p>Payers should be able to delete payment tokens that are associated to
them. How to delete a <code class="language-html highlighter-rouge">recurrenceToken</code> is described in the example below.
Note that the value of <code class="language-html highlighter-rouge">state</code> must be <code class="language-html highlighter-rouge">Deleted</code> when deleting the token.
No other states are supported.</p>

<p class="code-view-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td>
<td class="code-view-code"><pre><span class="nf">PATCH</span> <span class="nn">/psp//payments/instrumentData/5a17c24e-d459-4567-bbad-aa0f17a76119</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Deleted"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comment on why the deletion is happening"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<p class="code-view-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td>
<td class="code-view-code"><pre><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">   
    </span><span class="nl">"instrumentData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/instrumentData/5a17c24e-d459-4567-bbad-aa0f17a76119"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"paymentToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5a17c24e-d459-4567-bbad-aa0f17a76119"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"payeeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5cabf558-5283-482f-b252-4d58e06f6f3b"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"isDeleted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> 
    </span><span class="p">}</span><span class="w">
    
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>
    
      <h2 id="verify">
        
        
          Verify <a href="#verify" class="header-anchor"></a>
        
        
      </h2>

<div class="alert  alert-informative">
    
    
    <i class="material-icons alert-icon">info</i>
    
    

    
    
    <p>The <code class="language-html highlighter-rouge">Verify</code> operation
lets you post verification payments, which are used to confirm validity of card
information without reserving or charging any amount.</p>
    
    
</div>
    
      <h3 id="introduction-to-verify">
        
        
          Introduction to Verify <a href="#introduction-to-verify" class="header-anchor"></a>
        
        
      </h3>

<p>This option is commonly used when initiating a subsequent
<a href="#recur">recurring invoice payment</a> flow - where you do not want
to charge the payer right away.</p>
    
      <h3 id="verification-through-swedbank-pay-payments">
        
        
          Verification through Swedbank Pay Payments <a href="#verification-through-swedbank-pay-payments" class="header-anchor"></a>
        
        
      </h3>

<ul>
  <li>When properly set up in your merchant/webshop site and the payer initiates a
  verification operation, you make a <code class="language-html highlighter-rouge">POST</code> request towards Swedbank Pay with
  your Verify information. This will generate a payment object with a unique
  <code class="language-html highlighter-rouge">paymentID</code>. You either receive a Redirect URL to a hosted page or a
  JavaScript source in response.</li>
  <li>You need to <a href="/payment-instruments/invoice/redirect">redirect</a> the payer’s browser to that specified URL,
or embed the script source on your site to create a
<a href="/payment-instruments/invoice/seamless-view">Seamless View</a> in an <code class="language-html highlighter-rouge">iframe</code>; so that the payer can enter
the payment details in a secure Swedbank Pay hosted environment.</li>
  <li>Swedbank Pay will redirect the payer’s browser to - or display directly in
the <code class="language-html highlighter-rouge">iframe</code> - one of two specified URLs, depending on whether the payment
session is followed through completely or cancelled beforehand.
Please note that both a successful and rejected payment reach completion,
in contrast to a cancelled payment.</li>
  <li>When you detect that the payer reach your completeUrl , you need to do a
<code class="language-html highlighter-rouge">GET</code>  request to receive the state of the transaction.</li>
  <li>Finally you will make a <code class="language-html highlighter-rouge">GET</code> request towards Swedbank Pay with the
<code class="language-html highlighter-rouge">paymentID</code> received in the first step, which will return the payment result
and a <code class="language-html highlighter-rouge">paymentToken</code> that can be used for subsequent <a href="#recur">recurring
server-to-server based payments</a>.</li>
</ul>
    
      <h3 id="screenshots">
        
        
          Screenshots <a href="#screenshots" class="header-anchor"></a>
        
        
      </h3>

<p>You will redirect the payer to Swedbank Pay hosted pages to collect
the payment information.</p>

<p><img src="/assets/img/checkout/invoice-seamless-view.png" alt="screenshot of the redirect invoice payment page" height="500px" width="425px"></p>
    
      <h3 id="api-requests-verification-flow">
        
        
          API Requests verification flow <a href="#api-requests-verification-flow" class="header-anchor"></a>
        
        
      </h3>

<p>The API requests are displayed in the <a href="#verification-flow">Verification flow</a>. The options you can
choose from when creating a payment with key operation set to Value Verify are
listed below.</p>

<p class="code-view-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
</pre></td>
<td class="code-view-code"><pre><span class="nf">POST</span> <span class="nn">/psp/invoice/payments</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Verify"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Verification"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0..."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nb-NO"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"generatePaymentToken"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"generateRecurrenceToken"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"hostUrls"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"https://example.com"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"completeUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-completed"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cancelUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-canceled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"paymentUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/perform-payment"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"logoUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-logo.png"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"termsOfServiceUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-terms.html"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payeeInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"payeeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5cabf558-5283-482f-b252-4d58e06f6f3b"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CD1234"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payeeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Merchant1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"productCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"or-12456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subsite"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MySubsite"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">  
            </span><span class="nl">"payerReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AB1234"</span><span class="p">,</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"invoice"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"invoiceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PayExFinancingNo"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<p class="code-view-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
</pre></td>
<td class="code-view-code"><pre><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/invoice/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234567890</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T13:21:29.3182115Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T13:21:57.6627579Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Verify"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ready"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Verification"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"initiatingSystemUserAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PostmanRuntime/3.0.1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nb-NO"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/invoice/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"verifications"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/invoice/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/verifications"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/invoice/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/urls"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payeeInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/invoice/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/payeeInfo"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/invoice/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/payers"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/invoice/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/settings"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"operations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp/invoice/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/approvedlegaladdress"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"create-approved-legal-address"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp/invoice/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/authorizations"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"create-authorization"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PATCH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp/invoice/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"update-payment-abort"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ecom.externalintegration.payex.com/invoice/payments/authorize/5a17c24e-d459-4567-bbad-aa0f17a76119"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"redirect-authorization"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text/html"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>
    
      <h3 id="verification-flow">
        
        
          Verification flow <a href="#verification-flow" class="header-anchor"></a>
        
        
      </h3>

<p>The sequence diagram below shows the two requests you have to send to Swedbank
Pay to make a purchase. The links will take you directly to the API description
for the specific request. The diagram also shows in high level, the sequence of
the process of a complete purchase.</p>

<pre><code class="language-mermaid">sequenceDiagram
    participant Payer
    participant Merchant
    participant SwedbankPay as Swedbank Pay
    participant IssuingBank

    activate Payer
    Payer-&gt;&gt;+Merchant: start verification
    deactivate Payer
    Merchant-&gt;&gt;+SwedbankPay: POST /psp/invoice/payments(operation=VERIFY)
    deactivate Merchant
    note left of Payer: First API request
    SwedbankPay--&gt;+Merchant: payment resource
    deactivate SwedbankPay
    Merchant--&gt;&gt;+Payer: redirect to verification page
    deactivate Merchant
    Payer-&gt;&gt;+SwedbankPay: access verification page
    deactivate Payer
    note left of Payer: redirect to SwedbankPay&lt;br&gt;(If Redirect scenario)
    SwedbankPay--&gt;&gt;+Payer: display purchase information
    deactivate SwedbankPay

    Payer-&gt;&gt;Payer: input invoice information
    Payer-&gt;&gt;+SwedbankPay: submit invoice information
    deactivate Payer

    SwedbankPay--&gt;&gt;+Payer: redirect to merchant
    deactivate SwedbankPay
    note left of Payer: redirect back to merchant&lt;br&gt;(If Redirect scenario)

    Payer-&gt;&gt;+Merchant: access merchant page
    Merchant-&gt;&gt;+SwedbankPay: GET /psp/invoice/payments/&lt;paymentorder.id&gt;
    deactivate Merchant
    note left of Merchant: Second API request
    SwedbankPay--&gt;&gt;+Merchant: rel: redirect-authorization
    deactivate SwedbankPay
    Merchant--&gt;&gt;Payer: display purchase result
    deactivate Merchant

        opt Callback is set
          activate SwedbankPay
          SwedbankPay-&gt;&gt;SwedbankPay: Payment is updated
          SwedbankPay-&gt;&gt;Merchant: POST Payment Callback
          deactivate SwedbankPay
        end
</code></pre>
    
      <h3 id="create-authorization-transaction-1">
        
        
          Create authorization transaction <a href="#create-authorization-transaction-1" class="header-anchor"></a>
        
        
      </h3>

<p>The <code class="language-html highlighter-rouge">redirect-authorization</code> operation redirects the payer to Swedbank Pay
Payments where the payment is authorized.</p>

<p class="code-view-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre></td>
<td class="code-view-code"><pre><span class="nf">POST</span> <span class="nn">/psp/invoice/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/authorizations</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"activity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FinancingConsumer"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"consumer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"socialSecurityNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"26026708248"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"customerNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"olivia.nyhuus@payex.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"msisdn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+4798765432"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.0.0.1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"legalAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"addressee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Olivia Nyhuus"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"streetAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SaltnesToppen 43"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"zipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1642"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Saltnes"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"countryCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"billingAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"addressee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Olivia Nyhuus"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"streetAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SaltnesToppen 43"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"zipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1642"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Saltnes"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"countryCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: center">Required</th>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><i class="material-icons">check</i></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">transaction</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The transaction object.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">activity</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Only the value <code class="language-html highlighter-rouge">"FinancingConsumer"</code> or <code class="language-html highlighter-rouge">"AccountsReceivableConsumer"</code>
</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">consumer</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The payer object.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">socialSecurityNumber</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The social security number of the payer.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">customerNumber</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Customer number of the payer.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">email</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The customer email address.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">msisdn</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The MSISDN of the payer.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">ip</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The IP address of the payer.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">legalAddress</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The Address object.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">addressee</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The full name of the addressee of this invoice</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">coAddress</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The co Address of the addressee.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">streetAddress</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The street address of the addresse. Maximum 50 characters long.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">zipCode</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The zip code of the addresse.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">city</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The city name  of the addresse.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">countryCode</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The country code of the addresse.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">billingAddress</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The BillingAddress object for the billing address of the addresse.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">addressee</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The full name of the billing address adressee.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">coAddress</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The co address of the billing address adressee.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">streetAddress</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The street address of the billing address adressee. Maximum 50 characters long.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">zipCode</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The zip code of the billing address adressee.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">city</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The city name of the billing address adressee.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">countryCode</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The country code of the billing address adressee.</td>
    </tr>
  </tbody>
</table>

<p class="code-view-header"><strong>Response</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
</pre></td>
<td class="code-view-code"><pre><span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/invoice/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"authorization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/invoice/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/authorizations/ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"consumer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/invoice/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/consumer"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"legalAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/invoice/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/legaladdress"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"billingAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/invoice/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/billingaddress"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/invoice/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions/ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T01:01:01.01Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T01:01:01.03Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Authorization"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Failed"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234567890</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="p">,</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test transaction"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AH123456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"failedReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ExternalResponseError"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"failedActivityName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Authorize"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"failedErrorCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ThirdPartyErrorCode"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"failedErrorDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ThirdPartyErrorMessage"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isOperational"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRUE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"activities"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/invoice/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions/ec2a9b09-601a-42ae-8e33-a5737e1cf177/activities"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"operations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp/invoice/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"edit-authorization"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PATCH"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">payment</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">payment</code> resource this <code class="language-html highlighter-rouge">authorization</code> belongs to..    Please read about <a href="/introduction#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">authorization</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The transaction object.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">id</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">authorization</code> resource this <code class="language-html highlighter-rouge">authorization</code> belongs to..    Please read about <a href="/introduction#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">created</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date and time of when the transaction was created.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">updated</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date and time of when the transaction was updated.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">type</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Indicates the transaction type.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">state</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">
<code class="language-html highlighter-rouge">Initialized</code>, <code class="language-html highlighter-rouge">Completed</code> or <code class="language-html highlighter-rouge">Failed</code>. Indicates the state of the transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">number</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The transaction <code class="language-html highlighter-rouge">number</code>, useful when there’s need to reference the transaction in human communication. Not usable for programmatic identification of the transaction, for that <code class="language-html highlighter-rouge">id</code> should be used instead.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">amount</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">The transaction amount (including VAT, if any) entered in the lowest monetary unit of the selected currency. E.g.: <strong><code class="language-html highlighter-rouge">10000</code></strong> = <code class="language-html highlighter-rouge">100.00</code> SEK, <strong><code class="language-html highlighter-rouge">5000</code></strong> = <code class="language-html highlighter-rouge">50.00</code> SEK.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">vatAmount</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">The payment’s VAT (Value Added Tax) <code class="language-html highlighter-rouge">amount</code>, entered in the lowest monetary unit of the selected currency. E.g.: <strong><code class="language-html highlighter-rouge">10000</code></strong> = <code class="language-html highlighter-rouge">100.00</code> SEK, <strong><code class="language-html highlighter-rouge">5000</code></strong> = <code class="language-html highlighter-rouge">50.00</code> SEK.  The <code class="language-html highlighter-rouge">vatAmount</code> entered will not affect the <code class="language-html highlighter-rouge">amount</code> shown on the payment page, which only shows the total <code class="language-html highlighter-rouge">amount</code>. This field is used to specify how much of the total <code class="language-html highlighter-rouge">amount</code> the VAT will be. Set to <code class="language-html highlighter-rouge">0</code> (zero) if there is no VAT <code class="language-html highlighter-rouge">amount</code> charged.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">description</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">A 40 character length textual <a href="/payment-instruments/invoice/other-features#description">description</a> of the purchase.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">payeeReference</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">A unique reference from the merchant system. It is set per operation to     ensure an exactly-once delivery of a transactional operation. See     <a href="/payment-instruments/invoice/other-features#payee-reference"><code class="language-html highlighter-rouge">payeeReference</code></a> for details.               In Invoice Payments <code class="language-html highlighter-rouge">payeeReference</code> is used as an invoice/receipt         number, if the <code class="language-html highlighter-rouge">receiptReference</code> is not defined.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">failedReason</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The human readable explanation of why the payment failed.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">isOperational</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">bool</code></td>
      <td style="text-align: left">
<code class="language-html highlighter-rouge">true</code> if the transaction is operational; otherwise <code class="language-html highlighter-rouge">false</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">operations</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of operations that are possible to perform on the transaction in its current state.</td>
    </tr>
  </tbody>
</table>

<p>The <code class="language-html highlighter-rouge">authorization</code> resource contains information about an authorization
transaction made towards a payment, as previously described.</p>
    
      <h2 id="transactions">
        
        
          Transactions <a href="#transactions" class="header-anchor"></a>
        
        
      </h2>

<p>A payment contains sub-resources in the form of <code class="language-html highlighter-rouge">transactions</code>.
Most operations performed on a payment ends up as a <code class="language-html highlighter-rouge">transaction</code> resource. The
different types of operations that alter the state of the payment by creating a
transaction is described below.</p>

<p>The <code class="language-html highlighter-rouge">transactions</code> resource will list the transactions (one or more) on a
specific payment.</p>

<p class="code-view-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
</pre></td>
<td class="code-view-code"><pre><span class="nf">GET</span> <span class="nn">/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p>The <code class="language-html highlighter-rouge">transaction</code> resource contains information about the
<code class="language-html highlighter-rouge">transaction</code> transaction made against a  payment. You can
return a specific <code class="language-html highlighter-rouge">transaction</code> transaction by performing a <code class="language-html highlighter-rouge">GET</code> request
towards the specific transaction’s <code class="language-html highlighter-rouge">id</code>.</p>

<p class="code-view-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre></td>
<td class="code-view-code"><pre><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transactionList"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions/ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions/ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T01:01:01.01Z"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T01:01:01.03Z"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Transaction"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234567890</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="p">,</span><span class="w">
                </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test transaction"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AH123456"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"isOperational"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"operations"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">payment</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">payment</code> resource this <code class="language-html highlighter-rouge">transactions</code> belongs to..    Please read about <a href="/introduction#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">transactions</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The current <code class="language-html highlighter-rouge">transactions</code> resource.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">id</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">transactions</code> resource this <code class="language-html highlighter-rouge">transactions</code> belongs to..    Please read about <a href="/introduction#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">transactionList</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of transaction transaction objects.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">transactionList[]</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The transaction transaction object described in the <code class="language-html highlighter-rouge">transaction</code> resource below.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">id</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">transaction</code> resource this <code class="language-html highlighter-rouge">transactions</code> belongs to..    Please read about <a href="/introduction#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">created</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date and time of when the transaction was created.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">updated</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date and time of when the transaction was updated.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">type</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Indicates the transaction type.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">state</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Indicates the state of the transaction, usually <code class="language-html highlighter-rouge">initialized</code>, <code class="language-html highlighter-rouge">completed</code> or<code class="language-html highlighter-rouge">failed</code>. If a partial transaction has been done and further transactionsare possible, the state will be <code class="language-html highlighter-rouge">awaitingActivity</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">number</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The transaction <code class="language-html highlighter-rouge">number</code>, useful when there’s need to reference the transaction in human communication. Not usable for programmatic identification of the transaction, where <code class="language-html highlighter-rouge">id</code> should be used instead.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">amount</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">The transaction amount (including VAT, if any) entered in the lowest monetary unit of the selected currency. E.g.: <strong><code class="language-html highlighter-rouge">10000</code></strong> = <code class="language-html highlighter-rouge">100.00</code> SEK, <strong><code class="language-html highlighter-rouge">5000</code></strong> = <code class="language-html highlighter-rouge">50.00</code> SEK.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">vatAmount</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">The payment’s VAT (Value Added Tax) <code class="language-html highlighter-rouge">amount</code>, entered in the lowest monetary unit of the selected currency. E.g.: <strong><code class="language-html highlighter-rouge">10000</code></strong> = <code class="language-html highlighter-rouge">100.00</code> SEK, <strong><code class="language-html highlighter-rouge">5000</code></strong> = <code class="language-html highlighter-rouge">50.00</code> SEK.  The <code class="language-html highlighter-rouge">vatAmount</code> entered will not affect the <code class="language-html highlighter-rouge">amount</code> shown on the payment page, which only shows the total <code class="language-html highlighter-rouge">amount</code>. This field is used to specify how much of the total <code class="language-html highlighter-rouge">amount</code> the VAT will be. Set to <code class="language-html highlighter-rouge">0</code> (zero) if there is no VAT <code class="language-html highlighter-rouge">amount</code> charged.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">description</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">A 40 character length textual <a href="/payment-instruments/invoice/other-features#description">description</a> of the purchase.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">payeeReference</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">A unique reference from the merchant system. It is set per operation to     ensure an exactly-once delivery of a transactional operation. See     <a href="/payment-instruments/invoice/other-features#payee-reference"><code class="language-html highlighter-rouge">payeeReference</code></a> for details.               In Invoice Payments <code class="language-html highlighter-rouge">payeeReference</code> is used as an invoice/receipt         number, if the <code class="language-html highlighter-rouge">receiptReference</code> is not defined.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">isOperational</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">bool</code></td>
      <td style="text-align: left">
<code class="language-html highlighter-rouge">true</code> if the transaction is operational; otherwise <code class="language-html highlighter-rouge">false</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">operations</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of <a href="/payment-instruments/invoice/other-features#operations">operations</a> that are possible to perform on the transaction in its current state.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="transaction">
        
        
          Transaction <a href="#transaction" class="header-anchor"></a>
        
        
      </h3>

<p>The <code class="language-html highlighter-rouge">transaction</code> resource contains the generic details of a transaction on a
specific payment.</p>

<p>When a transaction is created it will have one of three states:</p>

<ul>
  <li>
<code class="language-html highlighter-rouge">Initialized</code> - if there is some error where the source is undeterminable
(network failure, etc), the transaction will remain Initialized. The
corresponding state of the payment order will in this case be set to
pending.
No further transactions can be created.</li>
  <li>
<code class="language-html highlighter-rouge">Completed</code> - if everything went ok the transaction will follow through to
completion.</li>
  <li>
<code class="language-html highlighter-rouge">Failed</code> - if the transaction has failed (i.e. a denial from the acquiring
bank) it is possible to retry (i.e the payer tries using another
card) up to a maximum amount of retries (in that case which the payment
order gets the state <code class="language-html highlighter-rouge">failed</code> as well).</li>
</ul>

<p class="code-view-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
</pre></td>
<td class="code-view-code"><pre><span class="nf">GET</span> <span class="nn">/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p class="code-view-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td>
<td class="code-view-code"><pre><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions/ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T01:01:01.01Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T01:01:01.03Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w">  </span><span class="s2">"Capture"</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Initialized"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234567890</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test transaction"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AH123456"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"failedReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"isOperational"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"operations"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>
    
      <h4 id="transaction-problems">
        
        
          Transaction Problems <a href="#transaction-problems" class="header-anchor"></a>
        
        
      </h4>

<p>In the event that a transaction is <code class="language-html highlighter-rouge">failed</code>, the <code class="language-html highlighter-rouge">transaction</code> response will
contain a <code class="language-html highlighter-rouge">problem</code> property as seen in the example below. To view all the
problems that can occur due to an unsuccesful transaction, head over to the
<a href="/payments/invoice/other-features#problems">problems section</a>.</p>

<p>The created <code class="language-html highlighter-rouge">transaction</code> resource contains information about the
<code class="language-html highlighter-rouge">transaction</code> transaction made against a `` payment.</p>

<p class="code-view-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
</pre></td>
<td class="code-view-code"><pre><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions/ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"itemDescriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions/ec2a9b09-601a-42ae-8e33-a5737e1cf177/itemDescriptions"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions/ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T01:01:01.01Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T01:01:01.03Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Transaction"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Failed"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234567890</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="p">,</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test transaction"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AH123456"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"isOperational"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"problem"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.payex.com/psp/errordetail//3DSECUREERROR"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Error when complete authorization"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
                </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unable to complete 3DSecure verification!"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"problems"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">]</span><span class="w"> 
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">payment</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">payment</code> resource this <code class="language-html highlighter-rouge">transaction</code> belongs to..    Please read about <a href="/introduction#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">transaction</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The current <code class="language-html highlighter-rouge">transaction</code> transaction resource.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">id</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">transaction</code> resource this <code class="language-html highlighter-rouge">transaction</code> belongs to..    Please read about <a href="/introduction#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">itemDescriptions</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The object representation of the <code class="language-html highlighter-rouge">itemDescriptions</code> resource.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">id</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">itemDescriptions</code> resource this <code class="language-html highlighter-rouge">transaction</code> belongs to..    Please read about <a href="/introduction#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">transaction</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The object representation of the generic transaction resource.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">id</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">transaction</code> resource this <code class="language-html highlighter-rouge">transaction</code> belongs to..    Please read about <a href="/introduction#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">created</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date and time of when the transaction was created.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">updated</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date and time of when the transaction was updated.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">type</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Indicates the transaction type.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">state</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Indicates the state of the transaction, usually <code class="language-html highlighter-rouge">initialized</code>, <code class="language-html highlighter-rouge">completed</code> or<code class="language-html highlighter-rouge">failed</code>. If a partial transaction has been done and further transactionsare possible, the state will be <code class="language-html highlighter-rouge">awaitingActivity</code>.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">number</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The transaction <code class="language-html highlighter-rouge">number</code>, useful when there’s need to reference the transaction in human communication. Not usable for programmatic identification of the transaction, where <code class="language-html highlighter-rouge">id</code> should be used instead.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">amount</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">The transaction amount (including VAT, if any) entered in the lowest monetary unit of the selected currency. E.g.: <strong><code class="language-html highlighter-rouge">10000</code></strong> = <code class="language-html highlighter-rouge">100.00</code> SEK, <strong><code class="language-html highlighter-rouge">5000</code></strong> = <code class="language-html highlighter-rouge">50.00</code> SEK.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">vatAmount</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">The payment’s VAT (Value Added Tax) <code class="language-html highlighter-rouge">amount</code>, entered in the lowest monetary unit of the selected currency. E.g.: <strong><code class="language-html highlighter-rouge">10000</code></strong> = <code class="language-html highlighter-rouge">100.00</code> SEK, <strong><code class="language-html highlighter-rouge">5000</code></strong> = <code class="language-html highlighter-rouge">50.00</code> SEK.  The <code class="language-html highlighter-rouge">vatAmount</code> entered will not affect the <code class="language-html highlighter-rouge">amount</code> shown on the payment page, which only shows the total <code class="language-html highlighter-rouge">amount</code>. This field is used to specify how much of the total <code class="language-html highlighter-rouge">amount</code> the VAT will be. Set to <code class="language-html highlighter-rouge">0</code> (zero) if there is no VAT <code class="language-html highlighter-rouge">amount</code> charged.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">description</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">A 40 character length textual <a href="/payment-instruments/invoice/other-features#description">description</a> of the purchase.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">payeeReference</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">A unique reference from the merchant system. It is set per operation to     ensure an exactly-once delivery of a transactional operation. See     <a href="/payment-instruments/invoice/other-features#payee-reference"><code class="language-html highlighter-rouge">payeeReference</code></a> for details.               In Invoice Payments <code class="language-html highlighter-rouge">payeeReference</code> is used as an invoice/receipt         number, if the <code class="language-html highlighter-rouge">receiptReference</code> is not defined.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">receiptReference</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">A unique reference for the transaction. This reference is used as an invoice/receipt number.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">failedReason</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The human readable explanation of why the payment failed.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">isOperational</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">bool</code></td>
      <td style="text-align: left">
<code class="language-html highlighter-rouge">true</code> if the transaction is operational; otherwise <code class="language-html highlighter-rouge">false</code>.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">operations</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of <a href="/payment-instruments/invoice/other-features#operations">operations</a> that are possible to perform on the transaction in its current state.</td>
      <td> </td>
    </tr>
  </tbody>
</table>
    
      <h2 id="callback">
        
        
          Callback <a href="#callback" class="header-anchor"></a>
        
        
      </h2>

<div class="alert  alert-warning">
    
    
    <i class="material-icons alert-icon">warning</i>
    
    

    
    
    <p>While the callback
feature is mandatory, we would like to emphasize that it is mainly a fail-safe
feature. We strongly advice that it is not your primary mean of checking for
payment updates.</p>
    
    
</div>

<p>When a change or update from the back-end system are made on a payment or
transaction, Swedbank Pay will perform a callback to inform the payee (merchant)
about this update.</p>

<p>Providing a <code class="language-html highlighter-rouge">callbackUrl</code> in <code class="language-html highlighter-rouge">POST</code> requests is <strong>mandatory</strong>. Below we provide
three example scenarios of why this is important:</p>

<ol>
  <li>If the payer closes the payment window, the merchant will never know what
happened to the payment if <code class="language-html highlighter-rouge">callbackUrl</code> is not implemented.</li>
  <li>If the payer stops up in a payment app such as Vipps or Swish, the payer
will never come back to the merchant. This means that the merchant won’t
know what happened to the payment unless <code class="language-html highlighter-rouge">callbackUrl</code> is implemented.</li>
  <li>If a payer experiences a network error or something else happens that
prevents the payer from being redirected from Swedbank Pay back to the
merchant website, the <code class="language-html highlighter-rouge">callbackUrl</code> is what ensures that you receive the
information about what happened with the payment.</li>
</ol>

<ul>
  <li>When a change or update from the back-end system are made on a payment or
transaction, Swedbank Pay will perform an asynchronous server-to-server
callback to inform the payee (merchant) about this update.</li>
  <li>It is important to know that the callback is asynchronous, and not
real-time. As we can’t guarantee when you get the callback, there could be a
delay between when the payer is returned back to the merchant and when the
callback arrives. If the merchant chooses to wait for the callback, the
payer might be left at the merchant’s page until the response comes.</li>
  <li>Swedbank Pay will make an HTTP <code class="language-html highlighter-rouge">POST</code> to the <code class="language-html highlighter-rouge">callbackUrl</code> that was
specified when the payee (merchant) created the payment.</li>
  <li>When the <code class="language-html highlighter-rouge">callbackUrl</code> receives such a callback, an HTTP <code class="language-html highlighter-rouge">GET</code> request
must be made on the payment or on the transaction. The retrieved payment or
transaction resource will give you the necessary information about the
recent change/update.</li>
  <li>As it isn’t scaled to be a primary source of updates, no given response time
can be guaranteed, and a callback might fail. It will be retried if that
should happen. Below are the retry timings, in seconds from the initial
transaction time:
    <ul>
      <li>30 seconds</li>
      <li>60 seconds</li>
      <li>360 seconds</li>
      <li>432 seconds</li>
      <li>864 seconds</li>
      <li>1265 seconds</li>
    </ul>
  </li>
  <li>The callback is sent from the following IP address: <code class="language-html highlighter-rouge">82.115.146.1</code>
</li>
  <li>A callback should return a <code class="language-html highlighter-rouge">200 OK</code> response.</li>
</ul>

<p>To understand the nature of the callback, the type of transaction, its status,
etc., you need to perform a <code class="language-html highlighter-rouge">GET</code> request on the received URI and inspect the
response. The transaction type or any other information can not and should not
be inferred from the URI. See <a href="/introduction#uri-usage">URI usage</a> for more information.</p>

<p class="code-view-header"><strong>Payment Instrument Callback</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td>
<td class="code-view-code"><pre><span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">222222222</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/authorizations/ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">333333333</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<p>When performing an HTTP <code class="language-html highlighter-rouge">GET</code> request towards the URI found in the
<code class="language-html highlighter-rouge">transaction.id</code> field of the callback, the response is going to look
something like the abbreviated example provided below.</p>

<p>The created <code class="language-html highlighter-rouge">authorization</code> resource contains information about the
<code class="language-html highlighter-rouge">authorization</code> transaction made against a `` payment.</p>

<p class="code-view-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
</pre></td>
<td class="code-view-code"><pre><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"authorization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/authorizations/ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"itemDescriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions/ec2a9b09-601a-42ae-8e33-a5737e1cf177/itemDescriptions"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions/ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T01:01:01.01Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T01:01:01.03Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Authorization"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234567890</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="p">,</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test transaction"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AH123456"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"isOperational"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"problem"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.payex.com/psp/errordetail//3DSECUREERROR"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Error when complete authorization"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
                </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unable to complete 3DSecure verification!"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"problems"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">]</span><span class="w"> 
            </span><span class="nl">"operations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions/ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"edit-authorization"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PATCH"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">payment</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">payment</code> resource this <code class="language-html highlighter-rouge">authorization</code> belongs to..    Please read about <a href="/introduction#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">authorization</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The current <code class="language-html highlighter-rouge">authorization</code> transaction resource.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">id</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">authorization</code> resource this <code class="language-html highlighter-rouge">authorization</code> belongs to..    Please read about <a href="/introduction#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">itemDescriptions</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The object representation of the <code class="language-html highlighter-rouge">itemDescriptions</code> resource.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">id</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">itemDescriptions</code> resource this <code class="language-html highlighter-rouge">authorization</code> belongs to..    Please read about <a href="/introduction#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">transaction</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The object representation of the generic transaction resource.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">id</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">transaction</code> resource this <code class="language-html highlighter-rouge">authorization</code> belongs to..    Please read about <a href="/introduction#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">created</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date and time of when the transaction was created.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">updated</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date and time of when the transaction was updated.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">type</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Indicates the transaction type.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">state</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">Indicates the state of the transaction, usually <code class="language-html highlighter-rouge">initialized</code>, <code class="language-html highlighter-rouge">completed</code> or<code class="language-html highlighter-rouge">failed</code>. If a partial authorization has been done and further transactionsare possible, the state will be <code class="language-html highlighter-rouge">awaitingActivity</code>.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">number</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The transaction <code class="language-html highlighter-rouge">number</code>, useful when there’s need to reference the transaction in human communication. Not usable for programmatic identification of the transaction, where <code class="language-html highlighter-rouge">id</code> should be used instead.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">amount</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">The transaction amount (including VAT, if any) entered in the lowest monetary unit of the selected currency. E.g.: <strong><code class="language-html highlighter-rouge">10000</code></strong> = <code class="language-html highlighter-rouge">100.00</code> SEK, <strong><code class="language-html highlighter-rouge">5000</code></strong> = <code class="language-html highlighter-rouge">50.00</code> SEK.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">vatAmount</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">The payment’s VAT (Value Added Tax) <code class="language-html highlighter-rouge">amount</code>, entered in the lowest monetary unit of the selected currency. E.g.: <strong><code class="language-html highlighter-rouge">10000</code></strong> = <code class="language-html highlighter-rouge">100.00</code> SEK, <strong><code class="language-html highlighter-rouge">5000</code></strong> = <code class="language-html highlighter-rouge">50.00</code> SEK.  The <code class="language-html highlighter-rouge">vatAmount</code> entered will not affect the <code class="language-html highlighter-rouge">amount</code> shown on the payment page, which only shows the total <code class="language-html highlighter-rouge">amount</code>. This field is used to specify how much of the total <code class="language-html highlighter-rouge">amount</code> the VAT will be. Set to <code class="language-html highlighter-rouge">0</code> (zero) if there is no VAT <code class="language-html highlighter-rouge">amount</code> charged.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">description</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">A 40 character length textual <a href="/payment-instruments/invoice/other-features#description">description</a> of the purchase.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">payeeReference</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">A unique reference from the merchant system. It is set per operation to     ensure an exactly-once delivery of a transactional operation. See     <a href="/payment-instruments/invoice/other-features#payee-reference"><code class="language-html highlighter-rouge">payeeReference</code></a> for details.               In Invoice Payments <code class="language-html highlighter-rouge">payeeReference</code> is used as an invoice/receipt         number, if the <code class="language-html highlighter-rouge">receiptReference</code> is not defined.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">receiptReference</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">A unique reference for the transaction. This reference is used as an invoice/receipt number.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">failedReason</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The human readable explanation of why the payment failed.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">isOperational</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">bool</code></td>
      <td style="text-align: left">
<code class="language-html highlighter-rouge">true</code> if the transaction is operational; otherwise <code class="language-html highlighter-rouge">false</code>.</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">operations</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of <a href="/payment-instruments/invoice/other-features#operations">operations</a> that are possible to perform on the transaction in its current state.</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<p>The sequence diagram below shows the HTTP <code class="language-html highlighter-rouge">POST</code> you will receive from Swedbank
Pay, and the two <code class="language-html highlighter-rouge">GET</code> requests that you make to get the updated status.</p>

<pre><code class="language-mermaid">sequenceDiagram
    Participant Merchant
    Participant SwedbankPay as Swedbank Pay

    activate SwedbankPay
    SwedbankPay-&gt;&gt;+Merchant: POST &lt;callbackUrl&gt;
    deactivate SwedbankPay
    note left of Merchant: Callback by Swedbank Pay
    Merchant--&gt;&gt;+SwedbankPay: HTTP response
    Merchant-&gt;&gt;+SwedbankPay: GET  payment
    deactivate Merchant
    note left of Merchant: First API request
    SwedbankPay--&gt;&gt;+Merchant: payment resource
    deactivate SwedbankPay
</code></pre>
    
      <h3 id="introduction">
        
        
          Introduction <a href="#introduction" class="header-anchor"></a>
        
        
      </h3>

<p>The Payment Link can be implemented for payment instruments listed below, using
the Redirect platform and Swedbank Pay hosted payment page.</p>

<ul>
  <li><a href="/payment-instruments/card/">Credit card</a></li>
  <li><a href="/payment-instruments/mobile-pay/">MobilePay Online</a></li>
  <li><a href="/payment-instruments/swish">Swish</a></li>
  <li><a href="/payment-instruments/vipps">Vipps</a></li>
</ul>

<p>When the payer starts the purchase process in your merchant or webshop site, you
need to make a <code class="language-html highlighter-rouge">POST</code> request towards Swedbank Pay with your <em>Purchase</em>
information. You receive a Payment Link (same as redirect URL) in response.</p>

<p>You have to distribute the Payment Link to the payer through your order
system, using channels like e-mail or SMS.</p>

<div class="alert  alert-informative">
    
    
    <i class="material-icons alert-icon">info</i>
    
    

    
    
    <p>When sending
information in e-mail/SMS, it is strongly recommended that you add information
about your terms and conditions, including purchase information and price. <strong>See
recommendations in the next section.</strong></p>
    
    
</div>

<p>When the payer clicks on the Payment Link, the Swedbank Pay payment page will
open, letting him or her enter the payment details (varying depending on
payment instrument) in a secure Swedbank Pay hosted environment.</p>

<p>When paying with credit card and if required, Swedbank Pay will handle 3-D
Secure authentication.</p>

<p>After completion, Swedbank Pay will redirect the browser back to your
merchant/webshop site.</p>

<p>If <a href="#callback"><code class="language-html highlighter-rouge">callbackURL</code></a> is set the merchant system
will receive a callback from Swedbank Pay, enabling you to make a <code class="language-html highlighter-rouge">GET</code> request
towards Swedbank Pay with the <code class="language-html highlighter-rouge">id</code> of the payment received in the first step,
which will return the purchase result.</p>
    
      <h3 id="e-mail-and-sms-recommendations">
        
        
          E-mail And SMS Recommendations <a href="#e-mail-and-sms-recommendations" class="header-anchor"></a>
        
        
      </h3>

<p>When you as a merchant sends an e-mail or SMS to the payer about the Payment
Link, it is recommended to include contextual information which helps him or her
understand what will happen when clicking the Payment Link. We recommend that
you include the following:</p>

<ul>
  <li>The name of the merchant/shop initiating the payment</li>
  <li>An understandable product description, describing what kind of service the
payer will pay for.</li>
  <li>Some order-id (or similar) that exists in the merchant’s order system.</li>
  <li>The price and currency.</li>
  <li>Details about shipping method and expected delivery (if physical goods will
be sent to the payer).</li>
  <li>A link to a page with the merchant’s terms and conditions (such
as return policy) and information about how the payer can contact the
merchant.</li>
  <li>Details informing that the payer accepts the Terms &amp; Conditions when
clicking on the Payment Link.</li>
</ul>
    
      <h3 id="receipt-recommendations">
        
        
          Receipt Recommendations <a href="#receipt-recommendations" class="header-anchor"></a>
        
        
      </h3>

<p>We recommend that you send an e-mail or SMS confirmation to the payer with a
receipt when the payment has been fulfilled.</p>
    
      <h3 id="api-requests-1">
        
        
          API Requests <a href="#api-requests-1" class="header-anchor"></a>
        
        
      </h3>

<p>The API requests depend on the payment instrument you are using when
implementing the Payment Link scenario, see <a href="/payment-instruments/card/other-features#purchase-flow">purchase flow</a>.
One-phase payment instruments will not implement <code class="language-html highlighter-rouge">capture</code>, <code class="language-html highlighter-rouge">cancellation</code> or
<code class="language-html highlighter-rouge">reversal</code>.
The options you can choose from when creating a payment with key <code class="language-html highlighter-rouge">operation</code>
set to <code class="language-html highlighter-rouge">Purchase</code> are listed below.</p>
    
      <h3 id="screenshots-1">
        
        
          Screenshots <a href="#screenshots-1" class="header-anchor"></a>
        
        
      </h3>

<p>When clicking the payment link, the payer will be directed to a payment
page similar to the examples below, where payment information can be entered.</p>

<p class="text-center"><img src="/assets/img/payments/card-payment.png" alt="screenshot of the redirect card payment page" height="620px" width="475px"></p>
    
      <h3 id="options">
        
        
          Options <a href="#options" class="header-anchor"></a>
        
        
      </h3>

<p>All valid options when posting a payment with operation <code class="language-html highlighter-rouge">Purchase</code>,
are described in each payment instrument’s respective API reference.
Please see the general sequence diagrams for more information about payments
in one-phase (e.g. <a href="/payment-instruments/swish">Swish</a> and credit card with autocapture) and
two-phase (e.g. <a href="/payment-instruments/card">Card</a>, <a href="/payment-instruments/mobile-pay">MobilePay Online</a>,
<a href="/payment-instruments/vipps">Vipps</a>).</p>
    
      <h4 id="authorization">
        
        
          Authorization <a href="#authorization" class="header-anchor"></a>
        
        
      </h4>

<p>When using two-phase payment instruments you reserve the amount with an
authorization, and you will have to specify that the <em>intent</em> of the <em>purchase</em>
is <code class="language-html highlighter-rouge">Authorize</code>. The amount will be reserved but not charged. You have to make a
<code class="language-html highlighter-rouge">Capture</code> or <code class="language-html highlighter-rouge">Cancel</code> request later (i.e. when you are ready to ship the
purchased products).</p>
    
      <h4 id="capture">
        
        
          Capture <a href="#capture" class="header-anchor"></a>
        
        
      </h4>

<p>Capture can only be performed on a payment with a successfully authorized
transaction. It is possible to do a part-capture where you only capture a
smaller amount than the authorized amount. You can do more captures on the
same payment up to the total authorization amount later.</p>

<p>If you want the credit card to be charged right away, you will have to specify
that the <em>intent</em> of the purchase is <code class="language-html highlighter-rouge">AutoCapture</code>. The card will be charged and
you don’t need to do any more financial operations to this purchase.</p>
    
      <h4 id="cancel">
        
        
          Cancel <a href="#cancel" class="header-anchor"></a>
        
        
      </h4>

<p>Cancel can only be done on an authorized transaction. If you cancel after
doing a part-capture you will cancel the difference between the captured amount
and the authorized amount.</p>
    
      <h4 id="reversal">
        
        
          Reversal <a href="#reversal" class="header-anchor"></a>
        
        
      </h4>

<p>Reversal can only be done on a payment where there are some captured amount not
yet reversed.</p>
    
      <h4 id="general">
        
        
          General <a href="#general" class="header-anchor"></a>
        
        
      </h4>

<p>When implementing the Payment Link scenario, it is optional to set a
<a href="#callback"><code class="language-html highlighter-rouge">callbackURL</code></a> in the <code class="language-html highlighter-rouge">POST</code> request. If
callbackURL is set Swedbank Pay will send a request to this URL when the
payer has completed the payment. <a href="#callback">See the Callback API description
here</a>.</p>
    
      <h3 id="purchase-flow">
        
        
          Purchase flow <a href="#purchase-flow" class="header-anchor"></a>
        
        
      </h3>

<p>The sequence diagrams display the high level process of the purchase, from
generating a Payment Link to receiving a Callback.</p>

<p>This in a generalized flow as
well as a specific 3-D Secure enabled credit card scenario.</p>

<div class="alert  alert-informative">
    
    
    <i class="material-icons alert-icon">info</i>
    
    

    
    
    <p>Please note that the the callback may come either before, after or in the
same moment as the payer is redirected to the status page at the
merchant site when the purchase is fulfilled. Don’t rely on the callback being
timed at any specific moment.</p>
    
    
</div>

<p>When dealing with card payments, 3-D Secure authentication of the
cardholder is an essential topic.
There are three alternative outcomes of a card payment:</p>

<ul>
  <li>3-D Secure enabled - by default, 3-D Secure should be enabled,
and Swedbank Pay will check if the card is enrolled with 3-D Secure.
This depends on the issuer of the card.
If the card is not enrolled with 3-D Secure,
no authentication of the cardholder is done.</li>
  <li>Card supports 3-D Secure - if the card is enrolled with 3-D Secure,
Swedbank Pay will redirect the cardholder to the authentication mechanism
that is decided by the issuing bank.
Normally this will be done using BankID or Mobile BankID.</li>
</ul>

<pre><code class="language-mermaid">sequenceDiagram
    activate Payer
    Payer-&gt;&gt;-MerchantOrderSystem: payer starts purchase
    activate MerchantOrderSystem
    MerchantOrderSystem-&gt;&gt;-Merchant: start purchase process
    activate Merchant
    Merchant-&gt;&gt;-SwedbankPay: POST [payment] (operation=PURCHASE)
    activate SwedbankPay
    note left of Merchant: First API request
    SwedbankPay--&gt;&gt;-Merchant: payment resource with payment URL
    activate Merchant
    Merchant--&gt;&gt;-MerchantOrderSystem: Payment URL sent to order system
    activate MerchantOrderSystem
    MerchantOrderSystem--&gt;&gt;-Payer: Distribute Payment URL through e-mail/SMS
    activate Payer
    note left of Payer: Payment Link in e-mail/SMS
    Payer-&gt;&gt;-SwedbankPay: Open link and enter payment information
    activate SwedbankPay

    
        opt Card supports 3-D Secure
        SwedbankPay--&gt;&gt;-Payer: redirect to IssuingBank
        activate Payer
        Payer-&gt;&gt;IssuingBank: 3-D Secure authentication process
        Payer-&gt;&gt;-SwedbankPay: access authentication page
        activate SwedbankPay
        end
    

    SwedbankPay--&gt;&gt;-Payer: redirect to merchant site
    activate Payer
    note left of SwedbankPay: redirect back to merchant
    Payer-&gt;&gt;-Merchant: access merchant page
    activate Merchant
    Merchant-&gt;&gt;-SwedbankPay: GET [payment]
    activate SwedbankPay
    note left of Merchant: Second API request
    SwedbankPay--&gt;&gt;-Merchant: payment resource
    activate Merchant
    Merchant--&gt;&gt;-Payer: display purchase result
</code></pre>
    
      <h4 id="options-after-posting-a-payment">
        
        
          Options after posting a payment <a href="#options-after-posting-a-payment" class="header-anchor"></a>
        
        
      </h4>

<ul>
  <li>If the payment enable a two-phase flow (<code class="language-html highlighter-rouge">Authorize</code>),
you will need to implement the <code class="language-html highlighter-rouge">Capture</code> and <code class="language-html highlighter-rouge">Cancel</code> requests.</li>
  <li>It is possible to “abort” the validity of the Payment Link.
<a href="/payment-instruments/card/after-payment#abort">See the Abort description here</a>.</li>
  <li>For reversals, you will need to implement the <code class="language-html highlighter-rouge">Reversal</code> request.</li>
  <li>When implementing the Payment Link scenario, it is optional to set a
<code class="language-html highlighter-rouge">callbackURL</code> in the <code class="language-html highlighter-rouge">POST</code> request.
If <code class="language-html highlighter-rouge">callbackURL</code> is set Swedbank Pay will send a postback request to this
URL when the payer has completed the payment.
<a href="#callback">See the Callback API description here</a>.</li>
</ul>
    
      <h2 id="completeurl">
        
        
          CompleteUrl <a href="#completeurl" class="header-anchor"></a>
        
        
      </h2>

<p>This URL will be used by Swedbank Pay when a payment is <code class="language-html highlighter-rouge">Completed</code> or <code class="language-html highlighter-rouge">Failed</code>.
If your integration subscribes to the <code class="language-html highlighter-rouge">onPaymentCompleted</code> and possibly the
<code class="language-html highlighter-rouge">onPaymentFailed</code> event, no redirect or use of the <code class="language-html highlighter-rouge">completeUrl</code> will take
place. But if you do not have any event handler for the <code class="language-html highlighter-rouge">onPaymentCompleted</code>
event, the Swedbank Pay JavaScript will perform an HTTP redirect in the top
frame to the <code class="language-html highlighter-rouge">completeUrl</code>. You will still need to do a <code class="language-html highlighter-rouge">GET</code> request on the
payment resource to find the final status (<code class="language-html highlighter-rouge">Completed</code> or <code class="language-html highlighter-rouge">Failed</code>).</p>
    
      <h2 id="description">
        
        
          Description <a href="#description" class="header-anchor"></a>
        
        
      </h2>

<p>The <code class="language-html highlighter-rouge">description</code> field is a 40 character length textual summary of the
purchase. It is needed to specify what payer is actually purchasing. Below you
will find an abbreviated Card Payments <code class="language-html highlighter-rouge">Purchase</code> request.</p>

<p>As you can see the <code class="language-html highlighter-rouge">description</code> field is set to be <code class="language-html highlighter-rouge">Test Description</code>
in the the code example.</p>

<div class="alert  alert-informative">
    
    
    <i class="material-icons alert-icon">info</i>
    
    

    
    
    <p>Notice that for Redirect,
the description will be shown as <code class="language-html highlighter-rouge">Test - Reference1583419461</code>, as set
in the code example. For the Seamless View scenario, the description is not
shown in the payment window, but it is still required in the initial request.</p>
    
    
</div>

<p class="code-view-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td>
<td class="code-view-code"><pre><span class="nf">POST</span> <span class="nn">/psp//payments</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"paymentorder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"intent"</span><span class="p">:</span><span class="w">  </span><span class="s2">"Authorization"</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SEK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Description"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"generateRecurrenceToken"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0..."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sv-SE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"urls"</span><span class="p">:</span><span class="w">
            </span><span class="nl">"hostUrls"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"https://example.com"</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<p class="text-center"><img src="/assets/screenshots/description-field/description-all-payments.png" alt="The description field as presented in Invoice Payments" width="475px"></p>
    
      <h2 id="payeeinfo">
        
        
          PayeeInfo <a href="#payeeinfo" class="header-anchor"></a>
        
        
      </h2>

<p>The <code class="language-html highlighter-rouge">payeeinfo</code> resource contains information about the payee (i.e. a merchant,
a corporation etc) related to a specific payment.</p>

<p class="code-view-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
</pre></td>
<td class="code-view-code"><pre><span class="nf">GET</span> <span class="nn">/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/payeeInfo</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p class="code-view-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td>
<td class="code-view-code"><pre><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"payeeInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/payeeInfo"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"payeeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5cabf558-5283-482f-b252-4d58e06f6f3b"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EN1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"payeeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TestMerchant1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"productCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EF1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"or-123456"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">payment</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">payment</code> resource this <code class="language-html highlighter-rouge">payeeInfo</code> belongs to..    Please read about <a href="/introduction#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">id</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">payeeInfo</code> resource this <code class="language-html highlighter-rouge">payeeInfo</code> belongs to..    Please read about <a href="/introduction#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">payeeId</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">This is the unique id that identifies this payee (like merchant) set by Swedbank Pay</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">payeeReference</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string(50)</code></td>
      <td style="text-align: left">A unique reference from the merchant system. It is set per operation to     ensure an exactly-once delivery of a transactional operation. See     <a href="/payment-instruments/invoice/other-features#payee-reference"><code class="language-html highlighter-rouge">payeeReference</code></a> for details.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">payeeName</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The payee name (like merchant name) that will be displayed when redirected to Swedbank Pay.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">productCategory</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">A product category or number sent in from the payee/merchant. This is not validated by Swedbank Pay, but will be passed through the payment process and may be used in the settlement process. You therefore need to ensure that the value given here is valid in the settlement.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">orderReference</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string(50)</code></td>
      <td style="text-align: left">The order reference should reflect the order reference found in the merchant’s systems.</td>
    </tr>
  </tbody>
</table>
    
      <h2 id="payee-reference">
        
        
          Payee Reference <a href="#payee-reference" class="header-anchor"></a>
        
        
      </h2>

<p>The <code class="language-html highlighter-rouge">payeeReference</code> given when creating transactions and payments has some
specific processing rules depending on specifications in the contract.</p>

<ul>
  <li>It must be <strong>unique</strong> for every operation, used to ensure exactly-once
delivery of a transactional operation from the merchant system.</li>
  <li>Its length and content validation is dependent on whether the
<code class="language-html highlighter-rouge">transaction.number</code> or the <code class="language-html highlighter-rouge">payeeReference</code> is sent to the acquirer.
    <ol>
      <li>If you select <em>Option A</em> in the settlement process (Swedbank Pay will
handle the settlement), Swedbank Pay will send the <code class="language-html highlighter-rouge">transaction.number</code>
to the acquirer and the <code class="language-html highlighter-rouge">payeeReference</code> must be in the format of
characters <code class="language-html highlighter-rouge">A-Za-z0-9</code> (including <code class="language-html highlighter-rouge">-</code>) and
<code class="language-html highlighter-rouge">string(30)</code>.</li>
      <li>If you select <em>Option B</em> in the settlement process (you will handle the
settlement yourself), Swedbank Pay will send the <code class="language-html highlighter-rouge">payeeReference</code> to the
acquirer and it will be limited to the format of <code class="language-html highlighter-rouge">string(12)</code> and all
characters <strong>must be digits</strong>.</li>
    </ol>
  </li>
</ul>
    
      <h2 id="prices">
        
        
          Prices <a href="#prices" class="header-anchor"></a>
        
        
      </h2>

<p>The <code class="language-html highlighter-rouge">prices</code> resource lists the prices related to a specific payment. In short,
it is where you enter the payment’s amount. It consists of the payment’s <code class="language-html highlighter-rouge">id</code>
and the <code class="language-html highlighter-rouge">priceList</code>, which again contains the payment’s <code class="language-html highlighter-rouge">type</code>, <code class="language-html highlighter-rouge">amount</code> and
<code class="language-html highlighter-rouge">vatAmount</code>.</p>

<p>The <code class="language-html highlighter-rouge">type</code> refers to the payment instrument, like <code class="language-html highlighter-rouge">Swish</code>, <code class="language-html highlighter-rouge">Trustly</code> or
 <code class="language-html highlighter-rouge">Creditcard</code>. Read more about the types below the code example and table. The
 <code class="language-html highlighter-rouge">amount</code> refers to the <strong>full</strong> amount (incl. VAT) for the payment, and
 <code class="language-html highlighter-rouge">vatAmount</code> indicates how much of the full amount which is VAT.</p>

<p class="code-view-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
</pre></td>
<td class="code-view-code"><pre><span class="nf">GET</span> <span class="nn">/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/prices/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p class="code-view-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td>
<td class="code-view-code"><pre><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/prices"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"priceList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VISA"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2350</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MasterCard"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2350</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">payment</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">payment</code> resource this <code class="language-html highlighter-rouge">prices</code> belongs to..    Please read about <a href="/introduction#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">prices</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The <code class="language-html highlighter-rouge">prices</code>  resource.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">id</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">prices</code> resource this <code class="language-html highlighter-rouge">prices</code> belongs to..    Please read about <a href="/introduction#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">priceList</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of price objects. <strong>Note:</strong> Even if you specifiy  <code class="language-html highlighter-rouge">CreditCard</code>  in the input message the system will return all your configured card brands instead when you expan the priceList.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">type</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The type of the price object.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">amount</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">The transaction amount (including VAT, if any) entered in the lowest monetary unit of the selected currency. E.g.: <strong><code class="language-html highlighter-rouge">10000</code></strong> = <code class="language-html highlighter-rouge">100.00</code> SEK, <strong><code class="language-html highlighter-rouge">5000</code></strong> = <code class="language-html highlighter-rouge">50.00</code> SEK.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">vatAmount</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">The payment’s VAT (Value Added Tax) <code class="language-html highlighter-rouge">amount</code>, entered in the lowest monetary unit of the selected currency. E.g.: <strong><code class="language-html highlighter-rouge">10000</code></strong> = <code class="language-html highlighter-rouge">100.00</code> SEK, <strong><code class="language-html highlighter-rouge">5000</code></strong> = <code class="language-html highlighter-rouge">50.00</code> SEK.  The <code class="language-html highlighter-rouge">vatAmount</code> entered will not affect the <code class="language-html highlighter-rouge">amount</code> shown on the payment page, which only shows the total <code class="language-html highlighter-rouge">amount</code>. This field is used to specify how much of the total <code class="language-html highlighter-rouge">amount</code> the VAT will be. Set to <code class="language-html highlighter-rouge">0</code> (zero) if there is no VAT <code class="language-html highlighter-rouge">amount</code> charged.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="prices-object-types">
        
        
          Prices Object Types <a href="#prices-object-types" class="header-anchor"></a>
        
        
      </h3>

<p>Each payment instrument have one or more prices object types. Usually there is
only one, whichs corresponds with the name of the payment instrument, like
<code class="language-html highlighter-rouge">Vipps</code>, <code class="language-html highlighter-rouge">Swish</code> or <code class="language-html highlighter-rouge">Mobilepay</code>.</p>

<p>The most common occurence of several object types is for card payments. While it
is possible to group them all as <code class="language-html highlighter-rouge">Creditcard</code>, you can also differentiate on
card types as shown in the example above. This is useful if certain card brands
have additional fees, others have discounts or something similar. If you do
differentiate, you need to add all accepted card brands as a separate object
types.</p>
    
      <h2 id="metadata">
        
        
          Metadata <a href="#metadata" class="header-anchor"></a>
        
        
      </h2>

<p>Metadata can be used to store data associated to a payment
that can be retrieved later by performing a <code class="language-html highlighter-rouge">GET</code> on the
payment.
Swedbank Pay does not use or process <code class="language-html highlighter-rouge">metadata</code>, it is only stored on the
payment so it can be retrieved later alongside the
payment. An example where <code class="language-html highlighter-rouge">metadata</code> might be useful is when
several internal systems are involved in the payment process and the payment
creation is done in one system and post-purchases take place in another.
In order to transmit data between these two internal systems, the data can be
stored in <code class="language-html highlighter-rouge">metadata</code> on the payment so the internal systems do
not need to communicate with each other directly.
The usage of <code class="language-html highlighter-rouge">metadata</code> field is shown in the abbreviated <code class="language-html highlighter-rouge">Purchase</code> request
below.</p>

<p class="code-view-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
</pre></td>
<td class="code-view-code"><pre><span class="nf">POST</span> <span class="nn">/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Purchase"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"intent"</span><span class="p">:</span><span class="w">  </span><span class="s2">"Authorization"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SEK"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Purchase"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0..."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sv-SE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"hostUrls"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"https://example.com"</span><span class="p">],</span><span class="w">
      </span><span class="nl">"completeUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-completed"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"payeeInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"payeeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5cabf558-5283-482f-b252-4d58e06f6f3b"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CD1234"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"payer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">  
      </span><span class="nl">"payerReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AB1234"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"key1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"key2"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"key3"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"key4"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"prefillInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"msisdn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+4798765432"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Parameter</th>
      <th style="text-align: left">Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">metadata</code></td>
      <td style="text-align: left">
<code class="language-html highlighter-rouge">string</code>, <code class="language-html highlighter-rouge">boolean</code>, <code class="language-html highlighter-rouge">integer</code>,<code class="language-html highlighter-rouge">decimal</code>
</td>
    </tr>
  </tbody>
</table>

<p class="code-view-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
</pre></td>
<td class="code-view-code"><pre><span class="nf">GET</span> <span class="nn">/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p class="code-view-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td>
<td class="code-view-code"><pre><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/metadata"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key2"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key3"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key4"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>
    
      <h2 id="settlement-and-reconciliation">
        
        
          Settlement and Reconciliation <a href="#settlement-and-reconciliation" class="header-anchor"></a>
        
        
      </h2>

<div class="jumbotron">
    <p>Reconciliation is an important step in an
economic transaction. When a payment is reconciled,  captured amounts for the
payment are matched against the corresponding settlement.</p>

</div>

<p>The information needed to reconcile captured funds - the balance report and
transactions list - are available for all merchants using Swedbank Pay.</p>

<ul>
  <li>By default, the settlement files will be sent to you by via e-mail.</li>
  <li>We also have the option to send it via SFTP as well, if this is something you
would like then you need to state this to your sales representative, so they
can inform the setup team when the time is ready.</li>
  <li>The settlement frequency is defined in the agreement and you will receive it
(per default) once a month, or once a week.</li>
  <li>You do not need to subscribe, the files will be delivered by default.</li>
</ul>

<p>Contact <a href="mailto:omni.client@swedbankpay.se">omni.client@swedbankpay.se</a> for further
inquiries regarding this.</p>
    
      <h3 id="settlement">
        
        
          Settlement <a href="#settlement" class="header-anchor"></a>
        
        
      </h3>

<p>There are two main alternatives for settlement - either we handle the settlement
process for you, or you handle the process yourself :</p>
    
      <h4 id="swedbank-pay-handles-the-settlement-process">
        
        
          Swedbank Pay handles the settlement process <a href="#swedbank-pay-handles-the-settlement-process" class="header-anchor"></a>
        
        
      </h4>

<p>Swedbank Pay handles the settlement process on your behalf, (<em>called
“Redovisningsservice”</em>). Swedbank Pay transfers the net amount to you directly.</p>
    
      <h5 id="swedbank-pay-checkout">
        
        
          Swedbank Pay Checkout <a href="#swedbank-pay-checkout" class="header-anchor"></a>
        
        
      </h5>

<p>When choosing <a href="/checkout/">Swedbank Pay Checkout</a> we always handle the
settlement process for you, gathering all your eCommerce payments in one place.
Straighforward and time efficient.</p>
    
      <h4 id="you-handle-the-settlement-process-yourself">
        
        
          You handle the settlement process yourself <a href="#you-handle-the-settlement-process-yourself" class="header-anchor"></a>
        
        
      </h4>

<p>If you will handle the settlement yourself, then Swedbank Pay will send you an
invoice with the relevant fees, in addition to the report and transactions
lists. Your acquirer will transfer settled funds to you.</p>
    
      <h4 id="balance-report">
        
        
          Balance Report <a href="#balance-report" class="header-anchor"></a>
        
        
      </h4>

<p>The Balance Report (a <em>.pdf file</em>) specifies the total sales for a specific
period, including fees and VAT. The report contains three parts: a payment
summary and specifications for sales and for fees.</p>
    
      <h5 id="payment-summary">
        
        
          Payment Summary <a href="#payment-summary" class="header-anchor"></a>
        
        
      </h5>

<p>Provides a summary of the <code class="language-html highlighter-rouge">Amount</code> sold, <code class="language-html highlighter-rouge">Fees</code> and <code class="language-html highlighter-rouge">VAT</code>. <strong>If Swedbank Pay
handles the settlement process</strong>, the <code class="language-html highlighter-rouge">Transfered</code><code class="language-html highlighter-rouge">amount</code> - shown in the
balance report summary is equivalent to the disbursement on the bank statement
(the remaining total amount after fees).</p>
    
      <h5 id="sales-specification">
        
        
          Sales specification <a href="#sales-specification" class="header-anchor"></a>
        
        
      </h5>

<p>Provides a specification over sales for the given period. The sales total is
specified per payment area (<code class="language-html highlighter-rouge">CreditCard</code>, <code class="language-html highlighter-rouge">Invoice</code>) and
underlying payment instruments. Each sales row specify Quantity, Sum sales and
Amount to pay out, the last one is only eligble <strong>if Swedbank Pay handles the
Settlement process</strong>.</p>
    
      <h5 id="fees-specification">
        
        
          Fees specification <a href="#fees-specification" class="header-anchor"></a>
        
        
      </h5>

<p>Provides a specification over fees for the given period. The fees total is
specified per payment area (<code class="language-html highlighter-rouge">CreditCard</code>, <code class="language-html highlighter-rouge">Invoice</code>) and
underlying payment instruments. Each fees row specify <code class="language-html highlighter-rouge">Quantity</code> (sales),
<code class="language-html highlighter-rouge">Amount</code> (sales), <code class="language-html highlighter-rouge">Unit price</code>, <code class="language-html highlighter-rouge">Provision</code> and <code class="language-html highlighter-rouge">fee Amount</code>. <strong>If you handle
the settlement process yourselves you will receive a separat invoice for fees</strong>.</p>
    
      <h4 id="transactions-list">
        
        
          Transactions List <a href="#transactions-list" class="header-anchor"></a>
        
        
      </h4>

<p>The Transaction List (provided in <code class="language-html highlighter-rouge">.xlsx</code> and <code class="language-html highlighter-rouge">.xml</code> formats) specifies all
transactions for a specific period, including a summary of transactions grouped
by payment instrument. Both formats contain the same information, but the xml
file is meant for computer processing while the excel workbook is meant for
human interaction.</p>

<p>The first row contains the name of the Swedbank Pay company (e.g. Swedbank Pay
Solutions AB) that the merchant has the contract with, and the balance report
number. The header fields contain a summary of the transactions displayed in the
body.</p>

<p><strong>Header fields</strong></p>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Prefix</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">String</code></td>
      <td style="text-align: left">The <code class="language-html highlighter-rouge">Prefix</code> used for transactions, only eligible if merchant uses prefix.</td>
    </tr>
    <tr>
      <td style="text-align: left">Currency</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">ISO 4217</code></td>
      <td style="text-align: left">Settlement currency (e.g. <code class="language-html highlighter-rouge">SEK, NOK, EUR</code>).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">ServiceType</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">String</code></td>
      <td style="text-align: left">The service type of the service used (e.g. <code class="language-html highlighter-rouge">Creditcard</code>).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Service</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">String</code></td>
      <td style="text-align: left">The service used (e.g. <code class="language-html highlighter-rouge">Creditcard</code>).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">NoOfDebet</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">Total number of debit transactions for the given service.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">NoOfCredit</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">Total number of credit transactions for the given service.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Amount</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">Total amount for the given service (e.g 100.00).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">FromDate</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">ISO 8601</code></td>
      <td style="text-align: left">The earlistest transaction date, <code class="language-html highlighter-rouge">YYYY-MM-DD</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">ToDate</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">ISO 8601</code></td>
      <td style="text-align: left">The latest transaction date, <code class="language-html highlighter-rouge">YYYY-MM-DD</code>.</td>
    </tr>
  </tbody>
</table>

<p><strong>Body fields</strong></p>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Swedbank Pay Batch Number</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">A batch number common to all types of transactions processed by Swedbank Pay.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Transaction Number</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">A unique identifier of the transaction, can be traced in Swedbank Pay Admin user interface.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Order id</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">String</code></td>
      <td style="text-align: left">A unique identifier of the order, as sent from the merchant to Swedbank Pay. Transactions that are related to the same order are associated with this ID.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Date Created</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">ISO 8601</code></td>
      <td style="text-align: left">Transaction capture date/time. YYYY-MM-DD hh:mm:ss.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Date Modified</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">ISO 8601</code></td>
      <td style="text-align: left">Transaction settle date/time. YYYY-MM-DD hh:mm:ss.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Provider</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">String</code></td>
      <td style="text-align: left">The service provider (e.g. Babs, Swedbank).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Type</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">String</code></td>
      <td style="text-align: left">The service type of the related transaction (e.g. <code class="language-html highlighter-rouge">Creditcard</code>).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Amount</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">Total amount of the related transaction (e.g 100.00).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Currency</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">ISO 4217</code></td>
      <td style="text-align: left">Settlement currency (e.g. <code class="language-html highlighter-rouge">SEK, NOK, EUR</code>).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Product Number</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">String</code></td>
      <td style="text-align: left">A product number, as sent by merchant to Swedbank Pay.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Description</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">String</code></td>
      <td style="text-align: left">A textual description of the transaction, as sent by merchant to Swedbank Pay.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">VAT Amount</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">VAT Amount for the given transaction (e.g 100.00).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">VAT Percentage</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">VAT Percentage for the given transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Credit Card Batch Number</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">The reference number from the credit card processor.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Reference</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">The transaction reference from processor.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Swedbank Pay Account Number</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">The Account number given, shown in Swedbank Pay admin.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Referenced Transaction Number</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">Transaction number for the Authoriation transaction for a two-stage transaction or the number of the debit transaction if it is a credit transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Sales Channel</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">String</code></td>
      <td style="text-align: left">The channel through which the transaction was sent to Swedbank Pay (e.g Transaction via eCommerce APIs).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Brand</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">String</code></td>
      <td style="text-align: left">If eligible, Branding information as sent by merchant to Swedbank Pay.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Point Of Sale</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">String</code></td>
      <td style="text-align: left">If eligible, POS information as sent by merchant to Swedbank Pay.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="reconciliation">
        
        
          Reconciliation <a href="#reconciliation" class="header-anchor"></a>
        
        
      </h3>

<p>To do the reconciliation, you need to match the information in your system
against the information provided by Swedbank Pay in the balance report and
transaction list. Below is a sequence diagram detailing the interaction.</p>

<pre><code class="language-mermaid">sequenceDiagram
    participant SwedbankPay as Swedbank Pay

    activate Merchant
    activate SwedbankPay
    Merchant--&gt;&gt;SwedbankPay: Online payment transactions
    deactivate Merchant

    deactivate SwedbankPay

    activate Merchant

    SwedbankPay-&gt;&gt;Merchant: Balance Report (PDF-file)
    note left of Merchant: files are sent by e-mail or file transfer
    SwedbankPay-&gt;&gt;Merchant: Transaction list (XLSX-file)
    SwedbankPay-&gt;&gt;Merchant: Transaction list (XML-file)
    deactivate Merchant
</code></pre>

<p><strong>There are two ways</strong> for you to match the information from your system with
the information given in the reconciliation files from Swedbank Pay:</p>

<ol>
  <li>You can use information <strong>generated by your</strong> system (you will have to set a
unique payeeReference when you make the transaction), or</li>
  <li>You can use the transaction number <strong>generated by Swedbank Pay</strong> (this is called
transaction number and is returned from Swedbank Pay after you have created
the transaction).</li>
</ol>

<p>A credit card transaction is made when you either make a capture or a reversal.
In the input data for making a capture, you will set the <code class="language-html highlighter-rouge">payeeReference</code>. The
unique value of this field is the same as the field called <code class="language-html highlighter-rouge">OrderID</code> in the
reconciliation file.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td>
<td class="code-view-code"><pre><span class="p">{</span><span class="w">
    </span><span class="nl">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Reversal"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ABC123"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<p>When you receive the response from Swedbank Pay, the response will include
<code class="language-html highlighter-rouge">transaction.number</code>. This is the same as the field called <code class="language-html highlighter-rouge">TransactionNo</code> in
the reconciliation file.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td>
<td class="code-view-code"><pre><span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"capture"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/captures/ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions/ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T01:01:01.01Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T01:01:01.03Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Capture"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Initialized"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234567890</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="p">,</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Capture"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ABC123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"failedReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isOperational"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"operations"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<ul>
  <li>
<code class="language-html highlighter-rouge">payeeReference</code> sent to Swedbank Pay is equal to <code class="language-html highlighter-rouge">OrderId</code> in the
reconciliation file.</li>
  <li>
<code class="language-html highlighter-rouge">capture.transaction.number</code> returned from Swedbank Pay is equal to
<code class="language-html highlighter-rouge">TransactionNo</code> in reconciliation file.</li>
</ul>

<p>Below you will see the API mapping tables to the fields in the settlement
report for  <code class="language-html highlighter-rouge">Capture</code>  and <code class="language-html highlighter-rouge">Reversal</code>.</p>
    
      <h3 id="capture-1">
        
        
          <strong>Capture</strong> <a href="#capture-1" class="header-anchor"></a>
        
        
      </h3>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">API</th>
      <th style="text-align: left">XLSX</th>
      <th style="text-align: left">XML</th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Swedbank Pay Batch Number</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">SwedbankbatchNo</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">transaction.number</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Transaction Number</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">TransactionNo</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">transaction.payeeReference</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Order id</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">OrderId</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">transaction.created</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Date Created</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">DateCreated</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">transaction.created</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Date Modified</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">DateModified</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Provider</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Provider</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Type</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Type</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">transaction.amount</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Amount</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Amount</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Currency</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Currency</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Product Number</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">MerchantProductNo</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">transaction.description</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Description</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Description</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">transaction.vatAmount</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">VAT Amount</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">VATAmount</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">VAT Percentage</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">VatoPercentage</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Credit Card Batch Number</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">CreditCardBatchNo</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Direct Debit Bank Reference</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">DirectDebitbankRef</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Reference</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Reference</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Swedbank Account Number</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">SwedbankAccountNo</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left">
<code class="language-html highlighter-rouge">transaction.number</code> if reversed later</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Referenced Transaction Number</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">ReferencedTransaction</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Sales Channel</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">SalesChannel</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Brand</code></td>
      <td style="text-align: left"> </td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Point Of Sale</code></td>
      <td style="text-align: left"> </td>
      <td> </td>
    </tr>
  </tbody>
</table>
    
      <h3 id="reversal-1">
        
        
          <strong>Reversal</strong> <a href="#reversal-1" class="header-anchor"></a>
        
        
      </h3>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">API</th>
      <th style="text-align: left">XLSX</th>
      <th style="text-align: left">XML</th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Swedbank Pay Batch Number</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">SwedbankbatchNo</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">transaction.number</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Transaction Number</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">TransactionNo</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">transaction.payeeReference</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Order id</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">OrderId</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">transaction.created</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Date Created</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">DateCreated</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">transaction.created</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Date Modified</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">DateModified</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Provider</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Provider</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Type</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Type</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">transaction.amount</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Amount</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Amount</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Currency</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Currency</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Product Number</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">MerchantProductNo</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">transaction.description</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Description</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Description</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">transaction.vatAmount</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">VAT Amount</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">VATAmount</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">VAT Percentage</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">VatoPercentage</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Credit Card Batch Number</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">CreditCardBatchNo</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Direct Debit Bank Reference</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">DirectDebitbankRef</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Reference</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Reference</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Swedbank Account Number</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">SwedbankAccountNo</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Referenced Transaction Number</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">ReferencedTransaction</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Sales Channel</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">SalesChannel</code></td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Brand</code></td>
      <td style="text-align: left"> </td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Point Of Sale</code></td>
      <td style="text-align: left"> </td>
      <td> </td>
    </tr>
  </tbody>
</table>
    
      <h3 id="samples">
        
        
          Samples <a href="#samples" class="header-anchor"></a>
        
        
      </h3>

<p>The content of the files depends on the type of agreement you have made with
Swedbank Pay. For some payment instruments, only option A is available, while for other
payment instruments, only option B is available. The sample files can be
downloaded below.</p>
    
      <h4 id="option-a-swedbank-pay-handles-the-settlement-process">
        
        
          Option A: Swedbank Pay handles the settlement process <a href="#option-a-swedbank-pay-handles-the-settlement-process" class="header-anchor"></a>
        
        
      </h4>

<ul>
  <li><strong><a href="/assets/documents/testredovisning-payexcheckout.pdf">PDF Balance Report for Swedbank Pay Checkout</a></strong></li>
  <li><a href="/assets/documents/r1234-0001-redov.service.pdf">PDF Balance Report</a></li>
  <li><a href="/assets/documents/transaktionsstatistik-redovisningsservice.xlsx">XLSX Transaction List</a></li>
  <li><a href="/assets/documents/transaktionsstatistik-redovisningsservice.xml">XML Transaction List</a></li>
</ul>
    
      <h4 id="option-b-you-will-handle-the-settlement-process-yourself">
        
        
          Option B: You will handle the settlement process yourself <a href="#option-b-you-will-handle-the-settlement-process-yourself" class="header-anchor"></a>
        
        
      </h4>

<ul>
  <li><a href="/assets/documents/balance-report.pdf">PDF Balance Report</a></li>
  <li><a href="/assets/documents/transaction-list.xlsx">XLSX Transaction List</a></li>
  <li><a href="/assets/documents/transaction-list.xml">XML Transaction List</a></li>
</ul>
    
      <h3 id="split-settlement">
        
        
          Split Settlement <a href="#split-settlement" class="header-anchor"></a>
        
        
      </h3>

<p>The split settlement feature is the easy way of doing settlements for companies
with multiple sub merchants. With a few easy steps, the settlement process
becomes more efficient with regards to invoicing, payouts and setup for both
your sub merchants and yourself.</p>

<p>In short, it is a settlement feature where a company with a website or an app
can attach specific subsite numbers to sub merchants selling their goods or
services through the company. The subsite number is used to match the
transactions with the correct sub merchant, so the settlement is automatically
split between them. If you run a site selling tickets to concerts, theatres,
sporting events etc., each venue gets its own subsite number. If you run a
funeral home, the sub merchants can be everything from flower shops to
charities.</p>
    
      <h4 id="what-we-need-from-you-as-a-company">
        
        
          What we need from you as a company <a href="#what-we-need-from-you-as-a-company" class="header-anchor"></a>
        
        
      </h4>

<ul>
  <li>Submit a KYC (Know Your Costumer) form for each sub merchant you want to
include. We will also do a KYC check on your sub merchants, providing extra
security for you.</li>
  <li>Give every sub merchant who sells goods/services through your website or in
your app a unique subsite number. This must be included in the KYC form. We
recommend using the same customer number they have in your system.</li>
  <li>Attach the subsite number to all the goods/services the sub merchant
sells through your website or app, so the goods/services can be matched
to the correct merchant in our back office system.</li>
  <li>A partner agreement is needed for automatic deduction of revenue cuts
and fees.</li>
</ul>
    
      <h4 id="how-it-works">
        
        
          How it works <a href="#how-it-works" class="header-anchor"></a>
        
        
      </h4>

<ol>
  <li>We set up the sub merchant subsite number in our systems.</li>
  <li>That number is added in the requests subsite field in when you
create the payment for the goods or service.</li>
  <li>The customer selects payment instrument and completes the payment.</li>
  <li>The payment goes into the client funds account.</li>
  <li>Swedbank Pay matches the transaction and the merchant using the subsite
number.</li>
  <li>The settlement is split and connected to the correct merchant.</li>
  <li>Revenue cuts for the super merchant and fees from Swedbank Pay are deducted
automatically.</li>
  <li>Payout to the sub merchant is done.</li>
</ol>
    
      <h4 id="the-upsides">
        
        
          The upsides <a href="#the-upsides" class="header-anchor"></a>
        
        
      </h4>

<p>Sub merchants being connected to Swedbank Pay through the super merchant
instead of having separate setups has a lot of pros:</p>

<ul>
  <li>You only need one agreement for each payment instrument (credit card, Vipps,
Swish, MobilePay Online, invoice) and payment gateway.</li>
  <li>You only need one acquiring agreement.</li>
  <li>You only one Vipps or Swish certificate.</li>
  <li>You can add more payment instruments easily, as it only has to be done once.</li>
  <li>New sub merchants can be set up quickly, as the only thing needed is a KYC
form and a subsite number. This shortens the setup time for both you and us
to a matter of hours.</li>
  <li>The automatic settlement split and deduction of fees and revenue cuts
minimizes the work for your accounting department, as you do not have to
invoice your sub merchants.</li>
  <li>The subsite split is available for all the payment instruments we offer on
our eCom platform.</li>
</ul>
    
      <h4 id="good-to-know">
        
        
          Good to know <a href="#good-to-know" class="header-anchor"></a>
        
        
      </h4>

<p>With regards to admin functions, we offer a full integration towards our admin
system. This way, you do not have to log in to Swedbank Pay Admin to perform
these operations.</p>
    
      <h5 id="captures-and-cancels">
        
        
          Captures and cancels <a href="#captures-and-cancels" class="header-anchor"></a>
        
        
      </h5>

<p>Captures and cancels are done by the super merchant the same way as any other
normal flow.</p>
    
      <h5 id="reversals">
        
        
          Reversals <a href="#reversals" class="header-anchor"></a>
        
        
      </h5>

<p>In cases where you need to do reversals, this will be performed by the super
merchant. The reversal amount will be charged from the sub merchants subsite
number. If the sub merchants balance is 0 (zero), the super merchant will be
invoiced. The super merchant will in turn have to invoice this amount to the sub
merchant.</p>
    
      <h2 id="problems">
        
        
          Problems <a href="#problems" class="header-anchor"></a>
        
        
      </h2>

<p>When performing operations against a resource in the Swedbank Pay API Platform,
it will respond with a problem message that contain details of the error type if
the request could not be successfully performed. Regardless of why the error
occurred, the problem message will follow the same structure as specified in the
<a href="https://tools.ietf.org/html/rfc7807">Problem Details for HTTP APIs (RFC 7807)</a> specification.</p>

<p>We generally use the problem message <code class="language-html highlighter-rouge">type</code> and <code class="language-html highlighter-rouge">status</code> code to identify the
nature of the problem. The <code class="language-html highlighter-rouge">problems</code> array contains objects with <code class="language-html highlighter-rouge">name</code> and
<code class="language-html highlighter-rouge">description</code> that will often help narrow down the specifics of the problem,
usually to the field in the request that was missing or contained invalid data.</p>

<p>The structure of a problem message will look like this:</p>

<p class="code-view-header"><strong>Problem Example</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td>
<td class="code-view-code"><pre><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.payex.com/psp/errordetail/&lt;resource&gt;/inputerror"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"There was an input error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please correct the errors and retry the request"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
    </span><span class="nl">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RetryNewData"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"problems"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCardParameters.Issuer"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"minimum one issuer must be enabled"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">type</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI that identifies the error type. This is the <strong>only field usable for programmatic identification</strong> of the type of error! When dereferenced, it might lead you to a human readable description of the error and how it can be recovered from.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">title</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The title contains a human readable description of the error.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">detail</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">A detailed, human readable description of the error and how you can recover from it.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">instance</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The identifier of the error instance. This might be of use to Swedbank Pay support personnel in order to find the exact error and the context it occurred in.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">status</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">The HTTP status code that the problem was served with.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">action</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The <code class="language-html highlighter-rouge">action</code> indicates how the error can be recovered from.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">problems</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of problem detail objects.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">name</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The name of the field, header, object, entity or likewise that was erroneous.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">description</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The human readable description of what was wrong with the field, header, object, entity or likewise identified by <code class="language-html highlighter-rouge">name</code>.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="common-problems">
        
        
          Common Problems <a href="#common-problems" class="header-anchor"></a>
        
        
      </h3>

<p>All common problem types will have a URI in the format
<code class="language-html highlighter-rouge">https://api.payex.com/psp/errordetail/<span class="nt">&lt;error-type&gt;</span></code>. The <strong>URI is an
identifier</strong> that you can hard-code and implement logic around. It is currently
not not possible to dereference this URI, although that might be possible in the
future.</p>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Type</th>
      <th style="text-align: center">Status</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">inputerror</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">400</code></td>
      <td style="text-align: left">The server cannot or will not process the request due to an apparent client error (e.g. malformed request syntax, size to large, invalid request).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">forbidden</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">403</code></td>
      <td style="text-align: left">The request was valid, but the server is refusing the action. The necessary permissions to access the resource might be lacking.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">notfound</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">404</code></td>
      <td style="text-align: left">The requested resource could not be found, but may be available in the future. Subsequent requests are permissible.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">systemerror</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">500</code></td>
      <td style="text-align: left">A generic error message.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">configurationerror</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">500</code></td>
      <td style="text-align: left">A error relating to configuration issues.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="invoice-problems">
        
        
          Invoice Problems <a href="#invoice-problems" class="header-anchor"></a>
        
        
      </h3>

<p>There are a few problems specific to the <code class="language-html highlighter-rouge">invoice</code> resource that you may want to
guard against in your integrations. All invoice error types will have the
following URI structure:</p>

<p><code class="language-html highlighter-rouge">https://api.payex.com/psp/errordetail/invoice/<span class="nt">&lt;error-type&gt;</span></code></p>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Type</th>
      <th style="text-align: center">Status</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">externalerror</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">500</code></td>
      <td style="text-align: left">No error code</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">inputerror</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">400</code></td>
      <td style="text-align: left">
<code class="language-html highlighter-rouge">10</code> - <code class="language-html highlighter-rouge">ValidationWarning</code>
</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">inputerror</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">400</code></td>
      <td style="text-align: left">
<code class="language-html highlighter-rouge">30</code> - <code class="language-html highlighter-rouge">ValidationError</code>
</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">inputerror</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">400</code></td>
      <td style="text-align: left">
<code class="language-html highlighter-rouge">3010</code> - <code class="language-html highlighter-rouge">ClientRequestInvalid</code>
</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">externalerror</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">502</code></td>
      <td style="text-align: left">
<code class="language-html highlighter-rouge">40</code> - <code class="language-html highlighter-rouge">Error</code>
</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">externalerror</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">502</code></td>
      <td style="text-align: left">
<code class="language-html highlighter-rouge">60</code> - <code class="language-html highlighter-rouge">SystemError</code>
</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">externalerror</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">502</code></td>
      <td style="text-align: left">
<code class="language-html highlighter-rouge">50</code> - <code class="language-html highlighter-rouge">SystemConfigurationError</code>
</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">externalerror</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">502</code></td>
      <td style="text-align: left">
<code class="language-html highlighter-rouge">9999</code> - <code class="language-html highlighter-rouge">ServerOtherServer</code>
</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">forbidden</code></td>
      <td style="text-align: center"><code class="language-html highlighter-rouge">403</code></td>
      <td style="text-align: left">Any other error code</td>
    </tr>
  </tbody>
</table>
    
      <h2 id="seamless-view-events">
        
        
          Seamless View Events <a href="#seamless-view-events" class="header-anchor"></a>
        
        
      </h2>

<p>During operation in the Seamless View, several events can occur. They are
described below.</p>

<div class="alert alert-complex alert-warning">
    <header class="alert-header">
        
        <i class="material-icons alert-icon">info</i>
      <h3>
        
        
          Event Overrides
        
        
      </h3></header>
    

    
    
    <div class="alert-body">
        <p>Adding an event
handler to one of the following events <strong>overrides</strong> the default event handler,
meaning your custom event handler will have to do what the default event handler
did. If you don’t, the behaviour of the event is going to be undefined.
Just adding an event handler for logging purposes is therefore not possible, the
event handler will have to perform some functionality similar to the
event handler you are overriding.</p>
    </div>
    
    
</div>
    
      <h3 id="onpaymentpending">
        
        
          <code class="language-html highlighter-rouge">onPaymentPending</code> <a href="#onpaymentpending" class="header-anchor"></a>
        
        
      </h3>

<p>This events triggers when a payment enters a paying state ( <code class="language-html highlighter-rouge">Sale</code>, <code class="language-html highlighter-rouge">Authorize</code>,
<code class="language-html highlighter-rouge">Cancel</code>etc). The <code class="language-html highlighter-rouge">onPaymentPending</code> event
will be followed by either <code class="language-html highlighter-rouge">onPaymentCompleted</code>, <code class="language-html highlighter-rouge">onPaymentFailed</code> or
<code class="language-html highlighter-rouge">onPaymentTransactionFailed</code> based on the result of the payment. Read more about
these events below.</p>

<p class="code-view-header"><strong>onPaymentPending event object</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
</pre></td>
<td class="code-view-code"><pre><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">payment</code> resource this <code class="language-html highlighter-rouge">prices</code> belongs to..    Please read about <a href="/introduction#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="onpaymentcompleted">
        
        
          <code class="language-html highlighter-rouge">onPaymentCompleted</code> <a href="#onpaymentcompleted" class="header-anchor"></a>
        
        
      </h3>

<p>This event triggers when a payment has completed successfully.
The <code class="language-html highlighter-rouge">onPaymentCompleted</code> event is raised with the following event argument
object:</p>

<p class="code-view-header"><strong>onPaymentCompleted event object</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
</pre></td>
<td class="code-view-code"><pre><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"redirectUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/complete"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">payment</code> resource this <code class="language-html highlighter-rouge">prices</code> belongs to..    Please read about <a href="/introduction#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">redirectUrl</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI the user will be redirect to after a completed payment.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="onpaymentcanceled">
        
        
          <code class="language-html highlighter-rouge">onPaymentCanceled</code> <a href="#onpaymentcanceled" class="header-anchor"></a>
        
        
      </h3>

<p>This event triggers when the user cancels the payment.
The <code class="language-html highlighter-rouge">onPaymentCanceled</code> event is raised with the following event argument
object:</p>

<p class="code-view-header"><strong>onPaymentCanceled event object</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
</pre></td>
<td class="code-view-code"><pre><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"redirectUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/canceled"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">payment</code> resource this <code class="language-html highlighter-rouge">prices</code> belongs to..    Please read about <a href="/introduction#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">redirectUrl</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI the user will be redirect to after a canceled payment.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="onpaymentfailed">
        
        
          <code class="language-html highlighter-rouge">onPaymentFailed</code> <a href="#onpaymentfailed" class="header-anchor"></a>
        
        
      </h3>

<p>This event triggers when a payment has failed, disabling further attempts to
perform a payment. The <code class="language-html highlighter-rouge">onPaymentFailed</code> event is raised with the following
event argument object:</p>

<p class="code-view-header"><strong>onPaymentFailed event object</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
</pre></td>
<td class="code-view-code"><pre><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp//payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"redirectUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/failed"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">payment</code> resource this <code class="language-html highlighter-rouge">prices</code> belongs to..    Please read about <a href="/introduction#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">redirectUrl</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI the user will be redirect to after a failed payment.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="onpaymenttos">
        
        
          <code class="language-html highlighter-rouge">onPaymentToS</code> <a href="#onpaymenttos" class="header-anchor"></a>
        
        
      </h3>

<p>This event triggers when the user clicks on the “Display terms and conditions”
link. The <code class="language-html highlighter-rouge">onPaymentToS</code> event is raised with the following event
argument object:</p>

<p class="code-view-header"><strong>onPaymentToS event object</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
</pre></td>
<td class="code-view-code"><pre><span class="p">{</span><span class="w">
    </span><span class="nl">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"owner"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"openUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/terms-of-service"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">origin</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">
<code class="language-html highlighter-rouge">owner</code>, <code class="language-html highlighter-rouge">merchant</code>. The value is always <code class="language-html highlighter-rouge">merchant</code> unless Swedbank Pay hosts the view.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">openUrl</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI containing Terms of Service and conditions.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="onerror">
        
        
          <code class="language-html highlighter-rouge">onError</code> <a href="#onerror" class="header-anchor"></a>
        
        
      </h3>

<p>This event triggers during terminal errors or if the configuration fails
validation. The <code class="language-html highlighter-rouge">onError</code> event will be raised with the following event argument
object:</p>

<p class="code-view-header"><strong>onError event object</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
</pre></td>
<td class="code-view-code"><pre><span class="p">{</span><span class="w">
    </span><span class="nl">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"messageId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"details"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Descriptive text of the error"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">origin</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">``, identifies the system that originated the error.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">messageId</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">A unique identifier for the message.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">details</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">A human readable and descriptive text of the error.</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"> </td>
      <td style="text-align: left"> </td>
    </tr>
  </tbody>
</table>

<nav class="iterator d-flex">
    
    <a class="mr-auto btn btn-secondary" role="button" rel="prev" href="after-payment">
        After Payment
    </a>
    

    
</nav>
                            </article>
                        </div>
                    </main>
                </div>
            </div>
        </div>
        <script src="https://design.swedbankpay.com/v/5.0.1/scripts/dg.js"></script>
        <script src="/assets/js/swedbank-pay-design-guide-theme.js"></script>
        <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-156582708-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-156582708-1');
</script>

    </body>

</html>
